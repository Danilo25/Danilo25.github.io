// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ca,ea,C,fa,ga,ha,S,ia,ja,la,ma,na,oa,T,pa,qa,V,ra,sa,ta,ua,W,wa,xa,ya,za,Aa,X,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb={},Tb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(b){return b.__proto__}:function(b){return b.constructor.prototype});
(function(){function b(a,f,d,c){this.set(a,f,d,c)}function h(){this.bb=this.ab=this.eb=this.cb=this.nb=this.mb=this.Ja=this.Ia=0}function p(a,f,d,c){a<f?d<c?(t=a<d?a:d,z=f>c?f:c):(t=a<c?a:c,z=f>d?f:d):d<c?(t=f<d?f:d,z=a>c?a:c):(t=f<c?f:c,z=a>d?a:d)}function n(){this.items=this.md=null;this.eh=0;D&&(this.md=new Set);this.pg=[];this.Yd=!0}function q(a){u[Oa++]=a}function r(){this.qa=this.Qj=this.y=this.nk=0}function e(a){this.ea=[];this.gi=this.ji=this.ki=this.hi=0;this.Kh(a)}function a(a,f){this.Ka=
a;this.Ta=f;this.cells={}}function x(a,f){this.Ka=a;this.Ta=f;this.cells={}}function w(a,f,d){var c;return Y.length?(c=Y.pop(),c.Xk=a,c.x=f,c.y=d,c):new aa(a,f,d)}function d(a,f,d){this.Xk=a;this.x=f;this.y=d;this.Za=new ca}function c(a,f,d){var c;return U.length?(c=U.pop(),c.Xk=a,c.x=f,c.y=d,c):new ea(a,f,d)}function k(a,f,d){this.Xk=a;this.x=f;this.y=d;this.Za=[];this.Of=!0;this.jd=new ca;this.ug=!1}function g(a,f){return a.bd-f.bd}C=function(a){window.console&&window.console.log&&window.console.log(a)};
fa=function(a){window.console&&window.console.error&&window.console.error(a)};ga=function(a){return"undefined"===typeof a};ha=function(a){return"number"===typeof a};S=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var f=1;32>f;f<<=1)a=a|a>>f;return a+1};la=function(a){return 0>a?-a:a};ma=function(a,f){return a>f?a:f};na=function(a,f){return a<f?a:f};oa=Math.PI;T=function(a){return 0<=a?a|0:(a|0)-1};pa=function(a){var f=a|0;return f===a?f:f+1};
qa=function(a,f,d,c,m,g,k,l){var v,y,A,E;a<d?(y=a,v=d):(y=d,v=a);m<k?(E=m,A=k):(E=k,A=m);if(v<E||y>A)return!1;f<c?(y=f,v=c):(y=c,v=f);g<l?(E=g,A=l):(E=l,A=g);if(v<E||y>A)return!1;v=m-a+k-d;y=g-f+l-c;a=d-a;f=c-f;m=k-m;g=l-g;l=la(f*m-g*a);return la(m*y-g*v)>l?!1:la(a*y-f*v)<=l};b.prototype.set=function(a,f,d,c){this.left=a;this.top=f;this.right=d;this.bottom=c};b.prototype.Cg=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};b.prototype.width=function(){return this.right-
this.left};b.prototype.height=function(){return this.bottom-this.top};b.prototype.offset=function(a,f){this.left+=a;this.top+=f;this.right+=a;this.bottom+=f;return this};b.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};b.prototype.nt=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};b.prototype.ot=function(a,f,d){return!(a.right+
f<this.left||a.bottom+d<this.top||a.left+f>this.right||a.top+d>this.bottom)};b.prototype.qb=function(a,f){return a>=this.left&&a<=this.right&&f>=this.top&&f<=this.bottom};b.prototype.Hg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};V=b;h.prototype.Jh=function(a){this.Ia=a.left;this.Ja=a.top;this.mb=a.right;this.nb=a.top;this.cb=a.right;this.eb=a.bottom;this.ab=a.left;this.bb=a.bottom};h.prototype.op=function(a,f){if(0===f)this.Jh(a);else{var d=
Math.sin(f),c=Math.cos(f),m=a.left*d,g=a.top*d,k=a.right*d,d=a.bottom*d,l=a.left*c,v=a.top*c,y=a.right*c,c=a.bottom*c;this.Ia=l-g;this.Ja=v+m;this.mb=y-g;this.nb=v+k;this.cb=y-d;this.eb=c+k;this.ab=l-d;this.bb=c+m}};h.prototype.offset=function(a,f){this.Ia+=a;this.Ja+=f;this.mb+=a;this.nb+=f;this.cb+=a;this.eb+=f;this.ab+=a;this.bb+=f;return this};var t=0,z=0;h.prototype.an=function(a){p(this.Ia,this.mb,this.cb,this.ab);a.left=t;a.right=z;p(this.Ja,this.nb,this.eb,this.bb);a.top=t;a.bottom=z};h.prototype.qb=
function(a,f){var d=this.Ia,c=this.Ja,m=this.mb-d,g=this.nb-c,k=this.cb-d,l=this.eb-c,v=a-d,y=f-c,A=m*m+g*g,E=m*k+g*l,g=m*v+g*y,e=k*k+l*l,x=k*v+l*y,b=1/(A*e-E*E),m=(e*g-E*x)*b,A=(A*x-E*g)*b;if(0<=m&&0<A&&1>m+A)return!0;m=this.ab-d;g=this.bb-c;A=m*m+g*g;E=m*k+g*l;g=m*v+g*y;b=1/(A*e-E*E);m=(e*g-E*x)*b;A=(A*x-E*g)*b;return 0<=m&&0<A&&1>m+A};h.prototype.Wd=function(a,f){if(f)switch(a){case 0:return this.Ia;case 1:return this.mb;case 2:return this.cb;case 3:return this.ab;case 4:return this.Ia;default:return this.Ia}else switch(a){case 0:return this.Ja;
case 1:return this.nb;case 2:return this.eb;case 3:return this.bb;case 4:return this.Ja;default:return this.Ja}};h.prototype.Eo=function(){return(this.Ia+this.mb+this.cb+this.ab)/4};h.prototype.Fo=function(){return(this.Ja+this.nb+this.eb+this.bb)/4};h.prototype.Sn=function(a){var f=a.Eo(),d=a.Fo();if(this.qb(f,d))return!0;f=this.Eo();d=this.Fo();if(a.qb(f,d))return!0;var c,m,g,k,l,v,y,A;for(y=0;4>y;y++)for(A=0;4>A;A++)if(f=this.Wd(y,!0),d=this.Wd(y,!1),c=this.Wd(y+1,!0),m=this.Wd(y+1,!1),g=a.Wd(A,
!0),k=a.Wd(A,!1),l=a.Wd(A+1,!0),v=a.Wd(A+1,!1),qa(f,d,c,m,g,k,l,v))return!0;return!1};ra=h;sa=function(a,f){for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d]);return a};ta=function(a,f){var d,c;f=T(f);if(!(0>f||f>=a.length)){d=f;for(c=a.length-1;d<c;d++)a[d]=a[d+1];ua(a,c)}};ua=function(a,f){a.length=f};W=function(a){ua(a,0)};wa=function(a,f){W(a);var d,c;d=0;for(c=f.length;d<c;++d)a[d]=f[d]};xa=function(a,f){a.push.apply(a,f)};ya=function(a,f){var d,c;d=0;for(c=a.length;d<c;++d)if(a[d]===f)return d;
return-1};za=function(a,f){var d=ya(a,f);-1!==d&&ta(a,d)};Aa=function(a,f,d){return a<f?f:a>d?d:a};X=function(a){return a/(180/oa)};Ba=function(a){return 180/oa*a};Ca=function(a){a%=360;0>a&&(a+=360);return a};Da=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Ea=function(a){return Ca(Ba(a))};Fa=function(a){return Da(X(a))};Ga=function(a,f,d,c){return Math.atan2(c-f,d-a)};Ha=function(a,f){if(a===f)return 0;var d=Math.sin(a),c=Math.cos(a),m=Math.sin(f),g=Math.cos(f),d=d*m+c*g;return 1<=d?0:-1>=d?oa:Math.acos(d)};
Ia=function(a,f,d){var c=Math.sin(a),m=Math.cos(a),g=Math.sin(f),k=Math.cos(f);return Math.acos(c*g+m*k)>d?0<m*g-c*k?Da(a+d):Da(a-d):Da(f)};Ja=function(a,f){var d=Math.sin(a),c=Math.cos(a),m=Math.sin(f),g=Math.cos(f);return 0>=c*m-d*g};Ka=function(a,f,d,c){a=d-a;f=c-f;return Math.sqrt(a*a+f*f)};La=function(a,f){return!a!==!f};Ma=function(a){for(var f in a)if(a.hasOwnProperty(f))return!0;return!1};Na=function(a){for(var f in a)a.hasOwnProperty(f)&&delete a[f]};var l=+new Date;Pa=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-l};var f=!1,m=f=!1,v=!1;"undefined"!==typeof window&&(f=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),f=!f&&/safari/i.test(navigator.userAgent),m=/(iphone|ipod|ipad)/i.test(navigator.userAgent),v=window.c2ejecta);
var D=!f&&!v&&!m&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;n.prototype.contains=function(a){return this.Dd()?!1:D?this.md.has(a):this.items&&this.items.hasOwnProperty(a)};n.prototype.add=function(a){if(D)this.md.has(a)||(this.md.add(a),this.Yd=!1);else{var f=a.toString(),d=this.items;d?d.hasOwnProperty(f)||(d[f]=a,this.eh++,this.Yd=!1):(this.items={},this.items[f]=a,this.eh=1,this.Yd=!1)}};n.prototype.remove=function(a){if(!this.Dd())if(D)this.md.has(a)&&(this.md["delete"](a),
this.Yd=!1);else if(this.items){a=a.toString();var f=this.items;f.hasOwnProperty(a)&&(delete f[a],this.eh--,this.Yd=!1)}};n.prototype.clear=function(){this.Dd()||(D?this.md.clear():(this.items=null,this.eh=0),W(this.pg),this.Yd=!0)};n.prototype.Dd=function(){return 0===this.count()};n.prototype.count=function(){return D?this.md.size:this.eh};var u=null,Oa=0;n.prototype.zu=function(){if(!this.Yd){if(D)W(this.pg),u=this.pg,Oa=0,this.md.forEach(q),u=null,Oa=0;else{var a=this.pg;W(a);var f,d=0,c=this.items;
if(c)for(f in c)c.hasOwnProperty(f)&&(a[d++]=c[f])}this.Yd=!0}};n.prototype.Rd=function(){this.zu();return this.pg};ca=n;new ca;Qa=function(a,f){D?Ra(a,f.md):Sa(a,f.Rd())};Ra=function(a,f){var d,c,m,g;c=d=0;for(m=a.length;d<m;++d)g=a[d],f.has(g)||(a[c++]=g);ua(a,c)};Sa=function(a,f){var d,c,m,g;c=d=0;for(m=a.length;d<m;++d)g=a[d],-1===ya(f,g)&&(a[c++]=g);ua(a,c)};r.prototype.add=function(a){this.y=a-this.nk;this.Qj=this.qa+this.y;this.nk=this.Qj-this.qa-this.y;this.qa=this.Qj};r.prototype.reset=function(){this.qa=
this.Qj=this.y=this.nk=0};Ta=r;Ua=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.Kh=function(a){this.Yo=a;this.Wb=a.length/2;this.ea.length=a.length;this.mi=this.ni=-1;this.dn=0};e.prototype.Mf=function(){return!this.Yo.length};e.prototype.ha=function(){for(var a=this.ea,f=a[0],d=f,c=a[1],m=c,g,k,l=1,v=this.Wb;l<v;++l)k=2*l,g=a[k],k=a[k+1],g<f&&(f=g),g>d&&(d=g),k<c&&(c=k),k>m&&(m=k);this.hi=f;this.ji=d;this.ki=c;this.gi=m};e.prototype.Jh=function(a,f,d){this.ea.length=
8;this.Wb=4;var c=this.ea;c[0]=a.left-f;c[1]=a.top-d;c[2]=a.right-f;c[3]=a.top-d;c[4]=a.right-f;c[5]=a.bottom-d;c[6]=a.left-f;c[7]=a.bottom-d;this.ni=a.right-a.left;this.mi=a.bottom-a.top;this.ha()};e.prototype.gg=function(a,f,d,c,m){this.ea.length=8;this.Wb=4;var g=this.ea;g[0]=a.Ia-f;g[1]=a.Ja-d;g[2]=a.mb-f;g[3]=a.nb-d;g[4]=a.cb-f;g[5]=a.eb-d;g[6]=a.ab-f;g[7]=a.bb-d;this.ni=c;this.mi=m;this.ha()};e.prototype.np=function(a){this.Wb=a.Wb;wa(this.ea,a.ea);this.hi=a.hi;this.ki-a.ki;this.ji=a.ji;this.gi=
a.gi};e.prototype.Ge=function(a,f,d){if(this.ni!==a||this.mi!==f||this.dn!==d){this.ni=a;this.mi=f;this.dn=d;var c,m,g,k,l,v=0,y=1,A=this.Yo,E=this.ea;0!==d&&(v=Math.sin(d),y=Math.cos(d));d=0;for(g=this.Wb;d<g;d++)c=2*d,m=c+1,k=A[c]*a,l=A[m]*f,E[c]=k*y-l*v,E[m]=l*y+k*v;this.ha()}};e.prototype.qb=function(a,f){var d=this.ea;if(a===d[0]&&f===d[1])return!0;var c,m,g,k=this.Wb,l=this.hi-110,v=this.ki-101,y=this.ji+131,A=this.gi+120,E,e,x=0,b=0;for(c=0;c<k;c++)m=2*c,g=(c+1)%k*2,E=d[m],m=d[m+1],e=d[g],
g=d[g+1],qa(l,v,a,f,E,m,e,g)&&x++,qa(y,A,a,f,E,m,e,g)&&b++;return 1===x%2||1===b%2};e.prototype.Wg=function(a,f,d){var c=a.ea,m=this.ea;if(this.qb(c[0]+f,c[1]+d)||a.qb(m[0]-f,m[1]-d))return!0;var g,k,l,v,y,A,E,e,x,b,w,t;g=0;for(v=this.Wb;g<v;g++)for(k=2*g,l=(g+1)%v*2,e=m[k],k=m[k+1],x=m[l],b=m[l+1],l=0,E=a.Wb;l<E;l++)if(y=2*l,A=(l+1)%E*2,w=c[y]+f,y=c[y+1]+d,t=c[A]+f,A=c[A+1]+d,qa(e,k,x,b,w,y,t,A))return!0;return!1};e.prototype.It=function(a){var f,d,c;f=0;for(d=this.Wb;f<d;++f)c=2*f,this.ea[c]=2*
a-this.ea[c]};e.prototype.Bs=function(a){var f,d,c;f=0;for(d=this.Wb;f<d;++f)c=2*f+1,this.ea[c]=2*a-this.ea[c]};e.prototype.kr=function(){var a,f,d,c,m;a=0;for(f=this.Wb;a<f;++a)d=2*a,c=d+1,m=this.ea[d],this.ea[d]=this.ea[c],this.ea[c]=m};Va=e;a.prototype.ge=function(a,f,d){var c;c=this.cells[a];return c?(c=c[f])?c:d?(c=w(this,a,f),this.cells[a][f]=c):null:d?(c=w(this,a,f),this.cells[a]={},this.cells[a][f]=c):null};a.prototype.Gb=function(a){return T(a/this.Ka)};a.prototype.Hb=function(a){return T(a/
this.Ta)};a.prototype.update=function(a,f,d){var c,m,g,k,l;if(f)for(c=f.left,m=f.right;c<=m;++c)for(g=f.top,k=f.bottom;g<=k;++g)if(!d||!d.qb(c,g))if(l=this.ge(c,g,!1))l.remove(a),l.Dd()&&(l.Za.clear(),1E3>Y.length&&Y.push(l),this.cells[c][g]=null);if(d)for(c=d.left,m=d.right;c<=m;++c)for(g=d.top,k=d.bottom;g<=k;++g)f&&f.qb(c,g)||this.ge(c,g,!0).el(a)};a.prototype.Aj=function(a,f){var d,c,m,g,k,l;d=this.Gb(a.left);m=this.Hb(a.top);c=this.Gb(a.right);for(k=this.Hb(a.bottom);d<=c;++d)for(g=m;g<=k;++g)(l=
this.ge(d,g,!1))&&l.dump(f)};Wa=a;x.prototype.ge=function(a,f,d){var m;m=this.cells[a];return m?(m=m[f])?m:d?(m=c(this,a,f),this.cells[a][f]=m):null:d?(m=c(this,a,f),this.cells[a]={},this.cells[a][f]=m):null};x.prototype.Gb=function(a){return T(a/this.Ka)};x.prototype.Hb=function(a){return T(a/this.Ta)};x.prototype.update=function(a,f,d){var c,m,g,k,l;if(f)for(c=f.left,m=f.right;c<=m;++c)for(g=f.top,k=f.bottom;g<=k;++g)if(!d||!d.qb(c,g))if(l=this.ge(c,g,!1))l.remove(a),l.Dd()&&(l.reset(),1E3>U.length&&
U.push(l),this.cells[c][g]=null);if(d)for(c=d.left,m=d.right;c<=m;++c)for(g=d.top,k=d.bottom;g<=k;++g)f&&f.qb(c,g)||this.ge(c,g,!0).el(a)};x.prototype.Aj=function(a,f,d,c,m){var g,k;a=this.Gb(a);f=this.Hb(f);d=this.Gb(d);for(g=this.Hb(c);a<=d;++a)for(c=f;c<=g;++c)(k=this.ge(a,c,!1))&&k.dump(m)};x.prototype.Gt=function(a){var f,d,c,m,g;f=a.left;c=a.top;d=a.right;for(m=a.bottom;f<=d;++f)for(a=c;a<=m;++a)if(g=this.ge(f,a,!1))g.Of=!1};Xa=x;var Y=[];d.prototype.Dd=function(){return this.Za.Dd()};d.prototype.el=
function(a){this.Za.add(a)};d.prototype.remove=function(a){this.Za.remove(a)};d.prototype.dump=function(a){xa(a,this.Za.Rd())};aa=d;var U=[];k.prototype.Dd=function(){if(!this.Za.length)return!0;if(this.Za.length>this.jd.count())return!1;this.Jk();return!0};k.prototype.el=function(a){this.jd.contains(a)?(this.jd.remove(a),this.jd.Dd()&&(this.ug=!1)):this.Za.length?(this.Za[this.Za.length-1].hd()>a.hd()&&(this.Of=!1),this.Za.push(a)):(this.Za.push(a),this.Of=!0)};k.prototype.remove=function(a){this.jd.add(a);
this.ug=!0;30<=this.jd.count()&&this.Jk()};k.prototype.Jk=function(){this.ug&&(this.jd.count()===this.Za.length?this.reset():(Qa(this.Za,this.jd),this.jd.clear(),this.ug=!1))};k.prototype.Or=function(){this.Of||(this.Za.sort(g),this.Of=!0)};k.prototype.reset=function(){W(this.Za);this.Of=!0;this.jd.clear();this.ug=!1};k.prototype.dump=function(a){this.Jk();this.Or();this.Za.length&&a.push(this.Za)};ea=k;var M="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
Ya=function(a){return 0>=a||11<=a?"source-over":M[a-1]};Za=function(a,f,d){if(d)switch(a.ub=d.ONE,a.rb=d.ONE_MINUS_SRC_ALPHA,f){case 1:a.ub=d.ONE;a.rb=d.ONE;break;case 3:a.ub=d.ONE;a.rb=d.ZERO;break;case 4:a.ub=d.ONE_MINUS_DST_ALPHA;a.rb=d.ONE;break;case 5:a.ub=d.DST_ALPHA;a.rb=d.ZERO;break;case 6:a.ub=d.ZERO;a.rb=d.SRC_ALPHA;break;case 7:a.ub=d.ONE_MINUS_DST_ALPHA;a.rb=d.ZERO;break;case 8:a.ub=d.ZERO;a.rb=d.ONE_MINUS_SRC_ALPHA;break;case 9:a.ub=d.DST_ALPHA;a.rb=d.ONE_MINUS_SRC_ALPHA;break;case 10:a.ub=
d.ONE_MINUS_DST_ALPHA,a.rb=d.SRC_ALPHA}};$a=function(a){return Math.round(1E6*a)/1E6};ab=function(a,f){return"string"!==typeof a||"string"!==typeof f||a.length!==f.length?!1:a===f?!0:a.toLowerCase()===f.toLowerCase()};bb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||ab(a.tagName,"canvas")?!0:!1}})();var Ub="undefined"!==typeof Float32Array?Float32Array:Array;function Vb(b){var h=new Ub(3);b&&(h[0]=b[0],h[1]=b[1],h[2]=b[2]);return h}
function Wb(b){var h=new Ub(16);b&&(h[0]=b[0],h[1]=b[1],h[2]=b[2],h[3]=b[3],h[4]=b[4],h[5]=b[5],h[6]=b[6],h[7]=b[7],h[8]=b[8],h[9]=b[9],h[10]=b[10],h[11]=b[11],h[12]=b[12],h[13]=b[13],h[14]=b[14],h[15]=b[15]);return h}function Xb(b,h){h[0]=b[0];h[1]=b[1];h[2]=b[2];h[3]=b[3];h[4]=b[4];h[5]=b[5];h[6]=b[6];h[7]=b[7];h[8]=b[8];h[9]=b[9];h[10]=b[10];h[11]=b[11];h[12]=b[12];h[13]=b[13];h[14]=b[14];h[15]=b[15]}
function Yb(b,h){var p=h[0],n=h[1];h=h[2];b[0]*=p;b[1]*=p;b[2]*=p;b[3]*=p;b[4]*=n;b[5]*=n;b[6]*=n;b[7]*=n;b[8]*=h;b[9]*=h;b[10]*=h;b[11]*=h}
function Zb(b,h,p,n){n||(n=Wb());var q,r,e,a,x,w,d,c,k=b[0],g=b[1];b=b[2];r=p[0];e=p[1];q=p[2];p=h[1];w=h[2];k===h[0]&&g===p&&b===w?(b=n,b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1):(p=k-h[0],w=g-h[1],d=b-h[2],c=1/Math.sqrt(p*p+w*w+d*d),p*=c,w*=c,d*=c,h=e*d-q*w,q=q*p-r*d,r=r*w-e*p,(c=Math.sqrt(h*h+q*q+r*r))?(c=1/c,h*=c,q*=c,r*=c):r=q=h=0,e=w*r-d*q,a=d*h-p*r,x=p*q-w*h,(c=Math.sqrt(e*e+a*a+x*x))?(c=1/c,e*=c,a*=c,x*=c):x=a=e=0,
n[0]=h,n[1]=e,n[2]=p,n[3]=0,n[4]=q,n[5]=a,n[6]=w,n[7]=0,n[8]=r,n[9]=x,n[10]=d,n[11]=0,n[12]=-(h*k+q*g+r*b),n[13]=-(e*k+a*g+x*b),n[14]=-(p*k+w*g+d*b),n[15]=1)}
(function(){function b(a,e,b){this.ke=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.da=!!b;this.Pi=this.Xg=!1;this.xi=0;this.ek=1;this.Fm=1E3;this.Iu=(this.Fm-this.ek)/32768;this.ok=Vb([0,0,100]);this.no=Vb([0,0,0]);this.Lp=Vb([0,1,0]);this.$h=Vb([1,1,1]);this.qn=!0;this.jj=Wb();this.lc=Wb();this.rl=Wb();this.xk=Wb();this.A=a;this.version=0===this.A.getParameter(this.A.VERSION).indexOf("WebGL 2")?2:1;this.On()}function h(a,e,b){this.A=a;this.Lh=
e;this.name=b;this.sc=a.getAttribLocation(e,"aPos");this.pe=a.getAttribLocation(e,"aTex");this.lo=a.getUniformLocation(e,"matP");this.fj=a.getUniformLocation(e,"matMV");this.Vf=a.getUniformLocation(e,"opacity");this.xl=a.getUniformLocation(e,"colorFill");this.mo=a.getUniformLocation(e,"samplerFront");this.nh=a.getUniformLocation(e,"samplerBack");this.df=a.getUniformLocation(e,"destStart");this.cf=a.getUniformLocation(e,"destEnd");this.ph=a.getUniformLocation(e,"seconds");this.zl=a.getUniformLocation(e,
"pixelWidth");this.yl=a.getUniformLocation(e,"pixelHeight");this.mh=a.getUniformLocation(e,"layerScale");this.kh=a.getUniformLocation(e,"layerAngle");this.qh=a.getUniformLocation(e,"viewOrigin");this.oh=a.getUniformLocation(e,"scrollPos");this.jt=!!(this.zl||this.yl||this.ph||this.nh||this.df||this.cf||this.mh||this.kh||this.qh||this.oh);this.vo=this.wo=-999;this.ij=1;this.ro=this.qo=0;this.to=this.po=this.oo=1;this.zo=this.yo=this.xo=this.Bo=this.Ao=this.so=0;this.ql=[];this.uo=Wb();this.Vf&&a.uniform1f(this.Vf,
1);this.xl&&a.uniform4f(this.xl,1,1,1,1);this.mo&&a.uniform1i(this.mo,0);this.nh&&a.uniform1i(this.nh,1);this.df&&a.uniform2f(this.df,0,0);this.cf&&a.uniform2f(this.cf,1,1);this.mh&&a.uniform1f(this.mh,1);this.kh&&a.uniform1f(this.kh,0);this.qh&&a.uniform2f(this.qh,0,0);this.oh&&a.uniform2f(this.oh,0,0);this.ph&&a.uniform1f(this.ph,0);this.Se=!1}function p(a,e){return a[0]===e[0]&&a[1]===e[1]&&a[2]===e[2]&&a[3]===e[3]&&a[4]===e[4]&&a[5]===e[5]&&a[6]===e[6]&&a[7]===e[7]&&a[8]===e[8]&&a[9]===e[9]&&
a[10]===e[10]&&a[11]===e[11]&&a[12]===e[12]&&a[13]===e[13]&&a[14]===e[14]&&a[15]===e[15]}function n(a,e){this.type=a;this.r=e;this.A=e.A;this.ic=this.wb=this.Po=0;this.O=this.Bc=null;this.pp=[]}var q=Wb();b.prototype.On=function(){var a=this.A,e;this.eo=1;this.Ye=this.me=null;this.wi=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.da?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.fo=a.ONE;this.co=a.ONE_MINUS_SRC_ALPHA;this.Zh=new Float32Array(8E3*(this.da?3:2));this.Rh=new Float32Array(16E3);this.Uo=new Float32Array(32E3);this.Ml=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Ml);a.bufferData(a.ARRAY_BUFFER,this.Uo.byteLength,a.DYNAMIC_DRAW);this.Yh=Array(4);this.Qh=Array(4);for(e=0;4>e;e++)this.Yh[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Yh[e]),a.bufferData(a.ARRAY_BUFFER,this.Zh.byteLength,a.DYNAMIC_DRAW),this.Qh[e]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.Qh[e]),a.bufferData(a.ARRAY_BUFFER,this.Rh.byteLength,a.DYNAMIC_DRAW);this.vd=0;this.lt=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.lt);for(var b=new Uint16Array(12E3),d=e=0;12E3>e;)b[e++]=d,b[e++]=d+1,b[e++]=d+2,b[e++]=d,b[e++]=d+2,b[e++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW);this.Nl=this.ye=this.Dc=0;this.za=[];e=this.da?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";b=this.Dg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},e,"<default>");this.za.push(b);b=this.Dg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.za.push(b);b=this.Dg({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},e,"<earlyz>");this.za.push(b);b=this.Dg({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
e,"<fill>");this.za.push(b);for(var c in $b)$b.hasOwnProperty(c)&&this.za.push(this.Dg($b[c],e,c));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.ed=[];this.Jc=0;this.Xa=!1;this.nn=this.hh=-1;this.Cf=null;this.Ik=a.createFramebuffer();this.Ai=this.Bj=null;this.Zm=!1;this.da&&(this.Ai=a.createRenderbuffer());this.ze=Vb([0,0,0]);this.Co=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Co&&(this.Co=2048);this.Pb(0)};h.prototype.Cm=function(a){p(this.uo,a)||(Xb(a,this.uo),this.A.uniformMatrix4fv(this.fj,
!1,a))};b.prototype.Dg=function(a,e,b){var d=this.A,c=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(c,a.src);d.compileShader(c);if(!d.getShaderParameter(c,d.COMPILE_STATUS))throw a=d.getShaderInfoLog(c),d.deleteShader(c),Error("error compiling fragment shader: "+a);var k=d.createShader(d.VERTEX_SHADER);d.shaderSource(k,e);d.compileShader(k);if(!d.getShaderParameter(k,d.COMPILE_STATUS))throw a=d.getShaderInfoLog(k),d.deleteShader(c),d.deleteShader(k),Error("error compiling vertex shader: "+a);e=
d.createProgram();d.attachShader(e,c);d.attachShader(e,k);d.linkProgram(e);if(!d.getProgramParameter(e,d.LINK_STATUS))throw a=d.getProgramInfoLog(e),d.deleteShader(c),d.deleteShader(k),d.deleteProgram(e),Error("error linking shader program: "+a);d.useProgram(e);d.deleteShader(c);d.deleteShader(k);c=new h(d,e,b);c.Gk=a.Gk||0;c.Hk=a.Hk||0;c.mn=!!a.mn;c.Uc=!!a.Uc;c.Wm=!!a.Wm;c.Q=a.Q||[];a=0;for(k=c.Q.length;a<k;a++)c.Q[a][1]=d.getUniformLocation(e,c.Q[a][0]),c.ql.push(0),d.uniform1f(c.Q[a][1],0);return c};
b.prototype.Uk=function(a){var e,b;e=0;for(b=this.za.length;e<b;e++)if(this.za[e].name===a)return e;return-1};b.prototype.Xo=function(a,e,b){var d=this.lc,c=this.jj,k=[0,0,0,0,0,0,0,0];k[0]=d[0]*a+d[4]*e+d[12];k[1]=d[1]*a+d[5]*e+d[13];k[2]=d[2]*a+d[6]*e+d[14];k[3]=d[3]*a+d[7]*e+d[15];k[4]=c[0]*k[0]+c[4]*k[1]+c[8]*k[2]+c[12]*k[3];k[5]=c[1]*k[0]+c[5]*k[1]+c[9]*k[2]+c[13]*k[3];k[6]=c[2]*k[0]+c[6]*k[1]+c[10]*k[2]+c[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],b[0]=(.5*k[4]+
.5)*this.width,b[1]=(.5*k[5]+.5)*this.height)};b.prototype.nf=function(a,e,b){if(this.width!==a||this.height!==e||b){this.yd();b=this.A;this.width=a;this.height=e;b.viewport(0,0,a,e);Zb(this.ok,this.no,this.Lp,this.lc);if(this.da){var d=-a/2;a=a/2;var c=e/2;e=-e/2;var k=this.ek,g=this.Fm,t=this.jj;t||(t=Wb());var h=a-d,l=e-c,f=g-k;t[0]=2/h;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=2/l;t[6]=0;t[7]=0;t[8]=0;t[9]=0;t[10]=-2/f;t[11]=0;t[12]=-(d+a)/h;t[13]=-(e+c)/l;t[14]=-(g+k)/f;t[15]=1;this.$h[0]=1;this.$h[1]=
1}else e=a/e,d=this.ek,a=this.Fm,t=this.jj,g=d*Math.tan(45*Math.PI/360),e*=g,c=-e,k=-g,t||(t=Wb()),h=e-c,l=g-k,f=a-d,t[0]=2*d/h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*d/l,t[6]=0,t[7]=0,t[8]=(e+c)/h,t[9]=(g+k)/l,t[10]=-(a+d)/f,t[11]=-1,t[12]=0,t[13]=0,t[14]=-(a*d*2)/f,t[15]=0,d=[0,0],a=[0,0],this.Xo(0,0,d),this.Xo(1,1,a),this.$h[0]=1/(a[0]-d[0]),this.$h[1]=-1/(a[1]-d[1]);d=0;for(a=this.za.length;d<a;d++)c=this.za[d],c.Se=!1,c.lo&&(b.useProgram(c.Lh),b.uniformMatrix4fv(c.lo,!1,this.jj));b.useProgram(this.za[this.hh].Lh);
b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE0);this.Ye=this.me=null;this.Ai&&(b.bindFramebuffer(b.FRAMEBUFFER,this.Ik),b.bindRenderbuffer(b.RENDERBUFFER,this.Ai),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,this.width,this.height),this.Zm||(b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,this.Ai),this.Zm=!0),b.bindRenderbuffer(b.RENDERBUFFER,null),b.bindFramebuffer(b.FRAMEBUFFER,null),
this.Bj=null)}};b.prototype.ld=function(){Zb(this.ok,this.no,this.Lp,this.lc);Yb(this.lc,this.$h)};b.prototype.translate=function(a,e){if(0!==a||0!==e){this.ze[0]=a;this.ze[1]=e;this.ze[2]=0;var b=this.lc,d=this.ze,c=d[0],k=d[1],d=d[2];b[12]=b[0]*c+b[4]*k+b[8]*d+b[12];b[13]=b[1]*c+b[5]*k+b[9]*d+b[13];b[14]=b[2]*c+b[6]*k+b[10]*d+b[14];b[15]=b[3]*c+b[7]*k+b[11]*d+b[15]}};b.prototype.scale=function(a,e){if(1!==a||1!==e)this.ze[0]=a,this.ze[1]=e,this.ze[2]=1,Yb(this.lc,this.ze)};b.prototype.Xl=function(a){if(0!==
a){var e=this.lc,b,d=Math.sin(a);a=Math.cos(a);var c=e[0],k=e[1],g=e[2],t=e[3],h=e[4],l=e[5],f=e[6],m=e[7];b?e!==b&&(b[8]=e[8],b[9]=e[9],b[10]=e[10],b[11]=e[11],b[12]=e[12],b[13]=e[13],b[14]=e[14],b[15]=e[15]):b=e;b[0]=c*a+h*d;b[1]=k*a+l*d;b[2]=g*a+f*d;b[3]=t*a+m*d;b[4]=c*-d+h*a;b[5]=k*-d+l*a;b[6]=g*-d+f*a;b[7]=t*-d+m*a}};b.prototype.ad=function(){if(!p(this.rl,this.lc)){var a=this.Nb();a.type=5;a.O?Xb(this.lc,a.O):a.O=Wb(this.lc);Xb(this.lc,this.rl);this.Xa=!1}};b.prototype.Hj=function(a){this.da&&
(32760<a&&(a=32760),this.xi=this.ok[2]-this.ek-a*this.Iu)};n.prototype.xr=function(){var a=this.A,e=this.r;0!==this.wb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,e.Ik),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),e.Pi=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),e.Pi=!1)};n.prototype.Cr=function(){this.A.bindTexture(this.A.TEXTURE_2D,
this.Bc)};n.prototype.Dr=function(){var a=this.A;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Bc);a.activeTexture(a.TEXTURE0)};n.prototype.yr=function(){var a=this.Po,e=this.r;e.wi=a;e=e.Cf;e.Vf&&e.ij!==a&&(e.ij=a,this.A.uniform1f(e.Vf,a))};n.prototype.rr=function(){this.A.drawElements(this.A.TRIANGLES,this.ic,this.A.UNSIGNED_SHORT,this.wb)};n.prototype.tr=function(){this.A.blendFunc(this.wb,this.ic)};n.prototype.Er=function(){var a,e,b,d=this.r.za,c=this.r.nn;a=0;for(e=d.length;a<
e;a++)b=d[a],a===c&&b.fj?(b.Cm(this.O),b.Se=!0):b.Se=!1;Xb(this.O,this.r.xk)};n.prototype.sr=function(){var a=this.A,e=this.r;this.Bc?(e.Ye===this.Bc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),e.Ye=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,e.Ik),e.Pi||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Bc,0)):(e.da||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};
n.prototype.or=function(){var a=this.A,e=this.wb;0===e?(a.clearColor(this.O[0],this.O[1],this.O[2],this.O[3]),a.clear(a.COLOR_BUFFER_BIT)):1===e?(a.enable(a.SCISSOR_TEST),a.scissor(this.O[0],this.O[1],this.O[2],this.O[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};n.prototype.wr=function(){var a=this.A;0!==this.wb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};n.prototype.qr=function(){var a=this.A,e=this.r;e.da&&a.disable(a.DEPTH_TEST);
var b=e.za[1];a.useProgram(b.Lh);!b.Se&&b.fj&&(b.Cm(e.xk),b.Se=!0);a.enableVertexAttribArray(b.sc);a.bindBuffer(a.ARRAY_BUFFER,e.Ml);a.vertexAttribPointer(b.sc,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.wb/4,this.ic);b=e.Cf;a.useProgram(b.Lh);0<=b.sc&&(a.enableVertexAttribArray(b.sc),a.bindBuffer(a.ARRAY_BUFFER,e.Yh[e.vd]),a.vertexAttribPointer(b.sc,e.da?3:2,a.FLOAT,!1,0,0));0<=b.pe&&(a.enableVertexAttribArray(b.pe),a.bindBuffer(a.ARRAY_BUFFER,e.Qh[e.vd]),a.vertexAttribPointer(b.pe,2,a.FLOAT,!1,
0,0));e.da&&a.enable(a.DEPTH_TEST)};n.prototype.Ar=function(){var a=this.A,e=this.r,b=e.za[this.wb];e.nn=this.wb;e.Cf=b;a.useProgram(b.Lh);!b.Se&&b.fj&&(b.Cm(e.xk),b.Se=!0);b.Vf&&b.ij!==e.wi&&(b.ij=e.wi,a.uniform1f(b.Vf,e.wi));0<=b.sc&&(a.enableVertexAttribArray(b.sc),a.bindBuffer(a.ARRAY_BUFFER,e.Yh[e.vd]),a.vertexAttribPointer(b.sc,e.da?3:2,a.FLOAT,!1,0,0));0<=b.pe&&(a.enableVertexAttribArray(b.pe),a.bindBuffer(a.ARRAY_BUFFER,e.Qh[e.vd]),a.vertexAttribPointer(b.pe,2,a.FLOAT,!1,0,0))};n.prototype.ur=
function(){var a=this.O;this.A.uniform4f(this.r.Cf.xl,a[0],a[1],a[2],a[3])};n.prototype.Br=function(){var a,e,b=this.r.Cf,d=this.A;a=this.O;b.nh&&this.r.Ye!==this.Bc&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Bc),this.r.Ye=this.Bc,d.activeTexture(d.TEXTURE0));var c=a[0];b.zl&&c!==b.wo&&(b.wo=c,d.uniform1f(b.zl,c));c=a[1];b.yl&&c!==b.vo&&(b.vo=c,d.uniform1f(b.yl,c));c=a[2];e=a[3];!b.df||c===b.qo&&e===b.ro||(b.qo=c,b.ro=e,d.uniform2f(b.df,c,e));c=a[4];e=a[5];!b.cf||c===b.oo&&e===
b.po||(b.oo=c,b.po=e,d.uniform2f(b.cf,c,e));c=a[6];b.mh&&c!==b.to&&(b.to=c,d.uniform1f(b.mh,c));c=a[7];b.kh&&c!==b.so&&(b.so=c,d.uniform1f(b.kh,c));c=a[8];e=a[9];!b.qh||c===b.Ao&&e===b.Bo||(b.Ao=c,b.Bo=e,d.uniform2f(b.qh,c,e));c=a[10];e=a[11];!b.oh||c===b.xo&&e===b.yo||(b.xo=c,b.yo=e,d.uniform2f(b.oh,c,e));c=a[12];b.ph&&c!==b.zo&&(b.zo=c,d.uniform1f(b.ph,c));if(b.Q.length)for(a=0,e=b.Q.length;a<e;a++)c=this.pp[a],c!==b.ql[a]&&(b.ql[a]=c,d.uniform1f(b.Q[a][1],c))};b.prototype.Nb=function(){this.Jc===
this.ed.length&&this.ed.push(new n(0,this));return this.ed[this.Jc++]};b.prototype.yd=function(){if(0!==this.Jc&&!this.A.isContextLost()){var a=this.A;0<this.Nl&&(a.bindBuffer(a.ARRAY_BUFFER,this.Ml),a.bufferSubData(a.ARRAY_BUFFER,0,this.Uo.subarray(0,this.Nl)),e&&0<=e.sc&&"<point>"===e.name&&a.vertexAttribPointer(e.sc,4,a.FLOAT,!1,0,0));if(0<this.Dc){var e=this.Cf;a.bindBuffer(a.ARRAY_BUFFER,this.Yh[this.vd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Zh.subarray(0,this.Dc));e&&0<=e.sc&&"<point>"!==e.name&&
a.vertexAttribPointer(e.sc,this.da?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Qh[this.vd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Rh.subarray(0,this.ye));e&&0<=e.pe&&"<point>"!==e.name&&a.vertexAttribPointer(e.pe,2,a.FLOAT,!1,0,0)}for(var b,a=0,e=this.Jc;a<e;a++)switch(b=this.ed[a],b.type){case 1:b.rr();break;case 2:b.Cr();break;case 3:b.yr();break;case 4:b.tr();break;case 5:b.Er();break;case 6:b.sr();break;case 7:b.or();break;case 8:b.qr();break;case 9:b.Ar();break;case 10:b.Br();break;
case 11:b.Dr();break;case 12:b.ur();break;case 13:b.wr();break;case 14:b.xr()}this.Nl=this.ye=this.Dc=this.Jc=0;this.Pi=this.Xa=!1;this.vd++;4<=this.vd&&(this.vd=0)}};b.prototype.lf=function(a){if(a!==this.eo&&!this.Xg){var e=this.Nb();e.type=3;this.eo=e.Po=a;this.Xa=!1}};b.prototype.Yb=function(a){if(a!==this.me){var e=this.Nb();e.type=2;this.me=e.Bc=a;this.Xa=!1}};b.prototype.we=function(a,e){if((a!==this.fo||e!==this.co)&&!this.Xg){var b=this.Nb();b.type=4;b.wb=a;b.ic=e;this.fo=a;this.co=e;this.Xa=
!1}};b.prototype.gp=function(){this.we(this.A.ONE,this.A.ONE_MINUS_SRC_ALPHA)};b.prototype.Eh=function(a,e,b,d,c,k,g,t){15992<=this.Dc&&this.yd();var h=this.Dc,l=this.ye,f=this.Zh,m=this.Rh,v=this.xi;if(this.Xa)this.ed[this.Jc-1].ic+=6;else{var D=this.Nb();D.type=1;D.wb=this.da?h:h/2*3;D.ic=6;this.Xa=!0}this.da?(f[h++]=a,f[h++]=e,f[h++]=v,f[h++]=b,f[h++]=d,f[h++]=v,f[h++]=c,f[h++]=k,f[h++]=v,f[h++]=g,f[h++]=t,f[h++]=v):(f[h++]=a,f[h++]=e,f[h++]=b,f[h++]=d,f[h++]=c,f[h++]=k,f[h++]=g,f[h++]=t);m[l++]=
0;m[l++]=0;m[l++]=1;m[l++]=0;m[l++]=1;m[l++]=1;m[l++]=0;m[l++]=1;this.Dc=h;this.ye=l};b.prototype.Kd=function(a,e,b,d,c,k,g,t,h){15992<=this.Dc&&this.yd();var l=this.Dc,f=this.ye,m=this.Zh,v=this.Rh,D=this.xi;if(this.Xa)this.ed[this.Jc-1].ic+=6;else{var u=this.Nb();u.type=1;u.wb=this.da?l:l/2*3;u.ic=6;this.Xa=!0}var u=h.left,q=h.top,n=h.right;h=h.bottom;this.da?(m[l++]=a,m[l++]=e,m[l++]=D,m[l++]=b,m[l++]=d,m[l++]=D,m[l++]=c,m[l++]=k,m[l++]=D,m[l++]=g,m[l++]=t,m[l++]=D):(m[l++]=a,m[l++]=e,m[l++]=b,
m[l++]=d,m[l++]=c,m[l++]=k,m[l++]=g,m[l++]=t);v[f++]=u;v[f++]=q;v[f++]=n;v[f++]=q;v[f++]=n;v[f++]=h;v[f++]=u;v[f++]=h;this.Dc=l;this.ye=f};b.prototype.du=function(a,e,b,d,c,k,g,t,h,l,f,m,v,D,u,q){15992<=this.Dc&&this.yd();var n=this.Dc,p=this.ye,r=this.Zh,Q=this.Rh,B=this.xi;if(this.Xa)this.ed[this.Jc-1].ic+=6;else{var R=this.Nb();R.type=1;R.wb=this.da?n:n/2*3;R.ic=6;this.Xa=!0}this.da?(r[n++]=a,r[n++]=e,r[n++]=B,r[n++]=b,r[n++]=d,r[n++]=B,r[n++]=c,r[n++]=k,r[n++]=B,r[n++]=g,r[n++]=t,r[n++]=B):(r[n++]=
a,r[n++]=e,r[n++]=b,r[n++]=d,r[n++]=c,r[n++]=k,r[n++]=g,r[n++]=t);Q[p++]=h;Q[p++]=l;Q[p++]=f;Q[p++]=m;Q[p++]=v;Q[p++]=D;Q[p++]=u;Q[p++]=q;this.Dc=n;this.ye=p};b.prototype.Pb=function(a){if(this.hh!==a){if(!this.za[a]){if(0===this.hh)return;a=0}var e=this.Nb();e.type=9;this.hh=e.wb=a;this.Xa=!1}};b.prototype.Ch=function(a){a=this.za[a];return!(!a.df&&!a.cf)};b.prototype.Pl=function(a){a=this.za[a];return!!(a.df||a.cf||a.mn)};b.prototype.Ol=function(a){return this.za[a].Uc};b.prototype.bu=function(a){a=
this.za[a];return 0!==a.Gk||0!==a.Hk};b.prototype.Ns=function(a){return this.za[a].Gk};b.prototype.Os=function(a){return this.za[a].Hk};b.prototype.Ps=function(a,e){return this.za[a].Q[e][2]};b.prototype.xj=function(a){return this.za[a].Wm};b.prototype.fg=function(a,e,b,d,c,k,g,t,h,l,f,m,v,D,u){var q=this.za[this.hh],n,r;if(q.jt||u.length){n=this.Nb();n.type=10;n.O?Xb(this.lc,n.O):n.O=Wb();r=n.O;r[0]=e;r[1]=b;r[2]=d;r[3]=c;r[4]=k;r[5]=g;r[6]=t;r[7]=h;r[8]=l;r[9]=f;r[10]=m;r[11]=v;r[12]=D;q.nh?n.Bc=
a:n.Bc=null;if(u.length)for(b=n.pp,b.length=u.length,a=0,e=u.length;a<e;a++)b[a]=u[a];this.Xa=!1}};b.prototype.clear=function(a,e,b,d){var c=this.Nb();c.type=7;c.wb=0;c.O||(c.O=Wb());c.O[0]=a;c.O[1]=e;c.O[2]=b;c.O[3]=d;this.Xa=!1};b.prototype.clearRect=function(a,e,b,d){if(!(0>b||0>d)){var c=this.Nb();c.type=7;c.wb=1;c.O||(c.O=Wb());c.O[0]=a;c.O[1]=e;c.O[2]=b;c.O[3]=d;this.Xa=!1}};b.prototype.jp=function(a){if(this.da&&(a=!!a,this.Xg!==a)){var e=this.Nb();e.type=14;e.wb=a?1:0;this.Xa=!1;this.Xg=a;
this.Bj=null;this.Xg?this.Pb(2):this.Pb(0)}};b.prototype.ip=function(a){if(this.da){var e=this.Nb();e.type=13;e.wb=a?1:0;this.Xa=!1}};b.prototype.xn=function(){Xb(this.rl,q);this.ld();this.ad();var a=this.width/2,e=this.height/2;this.Eh(-a,e,a,e,a,-e,-a,-e);Xb(q,this.lc);this.ad()};b.prototype.hp=function(a,e,b){this.Pb(3);var d=this.Nb();d.type=12;d.O||(d.O=Wb());d.O[0]=a;d.O[1]=e;d.O[2]=b;d.O[3]=1;this.Xa=!1};b.prototype.qu=function(){this.Pb(0)};b.prototype.gu=function(){this.Pb(2)};b.prototype.au=
function(){this.yd();this.A.flush()};var r=[],e={};b.prototype.er=function(){W(r);e={}};b.prototype.cj=function(a,b,h){var d;d=!1;b=!!b;var c=a.src+","+d+","+b+(d?",undefined":""),k=null;if("undefined"!==typeof a.src&&e.hasOwnProperty(c))return k=e[c],k.li++,k;this.yd();var g=this.A,t=ia(a.width)&&ia(a.height),k=g.createTexture();g.bindTexture(g.TEXTURE_2D,k);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var n=g.RGBA,l=g.RGBA,f=g.UNSIGNED_BYTE;if(h&&!this.ke)switch(h){case 1:l=n=g.RGB;break;
case 2:f=g.UNSIGNED_SHORT_4_4_4_4;break;case 3:f=g.UNSIGNED_SHORT_5_5_5_1;break;case 4:l=n=g.RGB,f=g.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!t&&d){h=document.createElement("canvas");h.width=ja(a.width);h.height=ja(a.height);var m=h.getContext("2d");"undefined"!==typeof m.imageSmoothingEnabled?m.imageSmoothingEnabled=b:(m.webkitImageSmoothingEnabled=b,m.mozImageSmoothingEnabled=b,m.msImageSmoothingEnabled=b);m.drawImage(a,0,0,a.width,a.height,0,0,h.width,h.height);g.texImage2D(g.TEXTURE_2D,0,n,
l,f,h)}else g.texImage2D(g.TEXTURE_2D,0,n,l,f,a);d?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE));b?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),(t||2<=this.version)&&this.qn?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR_MIPMAP_LINEAR),g.generateMipmap(g.TEXTURE_2D)):g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MIN_FILTER,g.LINEAR)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST));g.bindTexture(g.TEXTURE_2D,null);this.me=null;k.Fe=a.width;k.Ee=a.height;k.li=1;k.cn=c;r.push(k);return e[c]=k};b.prototype.fc=function(a,e,b,d,c){this.yd();var k=this.A;this.ke&&(d=!1);var g=k.createTexture();k.bindTexture(k.TEXTURE_2D,g);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,a,e,0,k.RGBA,d?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,null);c?(k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,b?k.LINEAR:k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,b?k.LINEAR:k.NEAREST);k.bindTexture(k.TEXTURE_2D,null);this.me=null;g.Fe=a;g.Ee=e;r.push(g);return g};b.prototype.Du=function(a,e){var b;this.yd();var d=this.A;this.ke&&
(b=!1);d.bindTexture(d.TEXTURE_2D,e);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,b?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(c){console&&console.error&&console.error("Error updating WebGL texture: ",c)}d.bindTexture(d.TEXTURE_2D,null);this.me=null};b.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.li&&1<a.li?a.li--:(this.yd(),a===this.me&&(this.A.bindTexture(this.A.TEXTURE_2D,null),this.me=null),a===this.Ye&&(this.A.activeTexture(this.A.TEXTURE1),
this.A.bindTexture(this.A.TEXTURE_2D,null),this.A.activeTexture(this.A.TEXTURE0),this.Ye=null),za(r,a),"undefined"!==typeof a.cn&&delete e[a.cn],this.A.deleteTexture(a)))};b.prototype.zc=function(a){if(a!==this.Bj){var e=this.Nb();e.type=6;this.Bj=e.Bc=a;this.Xa=!1}};cb=b})();
(function(){function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var f=this;this.je=(this.hl=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Ue=!!a.dc;this.tt="undefined"!==typeof window.AppMobi||
this.Ue;this.Oc=!!window.c2cocoonjs;this.Pc=!!window.c2ejecta;this.Oc&&(CocoonJS.App.onSuspended.addEventListener(function(){f.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){f.setSuspended(!1)}));this.Pc&&(document.addEventListener("pagehide",function(){f.setSuspended(!0)}),document.addEventListener("pageshow",function(){f.setSuspended(!1)}),document.addEventListener("resize",function(){f.setSize(window.innerWidth,window.innerHeight)}));this.sb=this.Ue||this.Oc||this.Pc;this.Qi=
/edge\//i.test(navigator.userAgent);this.ke=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Qi;this.Wn=/tizen/i.test(navigator.userAgent);this.Tn=/android/i.test(navigator.userAgent)&&!this.Wn&&!this.ke&&!this.Qi;this.ao=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.ke&&!this.Qi;this.Bt=/ipad/i.test(navigator.userAgent);this.ol=this.ao||this.Bt||this.Pc;this.wt=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.ke&&!this.Qi;this.qt=/amazonwebappplatform/i.test(navigator.userAgent);this.xt=/firefox/i.test(navigator.userAgent);this.Ri="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Zn=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.At=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.ah=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.ml=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Yn=!!window.cr_windows10;this.zt=this.Zn||this.At||this.ml||this.Yn;this.ut=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Un=this.Tn&&!this.wt&&!this.hl&&!this.xt&&!this.qt&&!this.sb;this.devicePixelRatio=1;this.Lf=this.je||this.hl||this.tt||this.Oc||this.Tn||this.ol||this.ah||this.ml||this.ut||this.Wn||this.Pc;this.Lf||
(this.Lf=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Xn=!!(this.ol&&this.je&&window.webkit);"undefined"===typeof cr_is_preview||this.Ri||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Ri=!0);this.canvas=a;this.gn=document.getElementById("c2canvasdiv");this.r=this.A=null;this.Wk="(unavailable)";this.da=!1;this.Le=0;this.na=null;this.Fi=!1;this.No=this.Oo=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Ue&&(window.c2runtime=this);this.Ri&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Un&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=
a.width;this.height=a.height;this.I=this.width;this.H=this.height;this.ti=this.width;this.Fg=this.height;this.Tf=window.innerWidth;this.Sf=window.innerHeight;this.U=!0;this.$g=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.p=[];this.wa=[];this.tl={};this.Rc=[];this.Fk={};this.zd=[];this.sf=[];this.Zj=[];this.Sq=[];this.Tq=[];this.bo=this.vp=null;this.Ie={};this.jl=this.he=!1;this.Qc=0;this.il=this.ll=!1;this.Mc=[];this.Yg=!1;this.aj=this.cm="";this.Pa=null;
this.Ed="";this.Ph=this.rp=!1;this.Ei=[];this.Ke=this.Ff=0;this.Go=30;this.wk=this.rh=0;this.ng=1;this.Vb=new Ta;this.dk=new Ta;this.oj=this.Ki=this.Oe=this.lg=this.$e=this.Kk=this.Ui=0;this.zg=null;this.Bi=[];this.Ek=[];this.Ci=-1;this.Al=[[]];this.xm=this.gj=0;this.zj(null);this.Jg=this.Jo=this.wh=0;this.Pj=[];this.um=this.Rl=-1;this.dh=!0;this.ej=0;this.Zg=!1;this.tu=0;this.xg=null;this.rc=this.Jn=!1;this.Lo=new ca;this.Gl=new ca;this.Mo=new ca;this.Gh=[];this.Xc=new Va([]);this.mm=new Va([]);
this.yf=[];this.Kf={};this.ae={};this.Vd={};this.qg={};this.$m={};this.jo=this.$i=this.Da=this.Oa=this.io=this.Zi=this.fa=null;this.og=this.nl=!1;this.Mk=[null,null];this.Qe=0;this.Hd={};this.Oh=this.ne=null;this.tp="";this.nj=[];this.fu()}}function h(a,f){return 128>=f?a[3]:256>=f?a[2]:512>=f?a[1]:a[0]}function p(){try{return!!window.indexedDB}catch(a){return!1}}function n(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function q(a,f,d,c){try{var m=indexedDB.open("_C2SaveStates");
m.onupgradeneeded=n;m.onerror=c;m.onsuccess=function(m){m=m.target.result;m.onerror=c;m.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:f}).onsuccess=d}}catch(e){c(e)}}function r(a,f,d){try{var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=n;c.onerror=d;c.onsuccess=function(c){c=c.target.result;c.onerror=d;var m=c.transaction(["saves"]).objectStore("saves").get(a);m.onsuccess=function(){m.result?f(m.result.data):f(null)}}}catch(m){d(m)}}function e(){C("Reloading for continuous preview");
window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var f,d={};for(f in a)!a.hasOwnProperty(f)||a[f]instanceof ca||a[f]&&"undefined"!==typeof a[f].Qv||"spriteCreatedDestroyCallback"!==f&&(d[f]=a[f]);return d}var x=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.fu=
function(){var a=this;if(this.Xn)this.ys(function(f){a.jh(JSON.parse(f))},function(){alert("Error fetching data.js")});else{var f;this.ah?f=new ActiveXObject("Microsoft.XMLHTTP"):f=new XMLHttpRequest;var d="data.js";if(this.Zn||this.ah||this.ml||this.Yn)d="data.json";f.open("GET",d,!0);var c=!1;if(!this.sb&&"response"in f&&"responseType"in f)try{f.responseType="json",c="json"===f.responseType}catch(m){c=!1}if(!c&&"responseType"in f)try{f.responseType="text"}catch(e){}if("overrideMimeType"in f)try{f.overrideMimeType("application/json; charset=utf-8")}catch(b){}this.ah?
f.onreadystatechange=function(){4===f.readyState&&a.jh(JSON.parse(f.responseText))}:(f.onload=function(){if(c)a.jh(f.response);else if(a.Pc){var d=f.responseText,d=d.substr(d.indexOf("{"));a.jh(JSON.parse(d))}else a.jh(JSON.parse(f.responseText))},f.onerror=function(a){fa("Error requesting "+d+":");fa(a)});f.send()}};b.prototype.mt=function(){var a=this,f,d,c,m,e,b,g,k,l;this.Ve=(!this.sb||this.Pc||this.je)&&this.Bu&&!this.Un;0===this.Jb&&this.ol&&(this.Ve=!1);this.devicePixelRatio=this.Ve?window.devicePixelRatio||
window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.ob();0<this.Jb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(f){f.preventDefault();a.Lt();C("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.r.On();a.r.nf(a.r.width,a.r.height,!0);a.Oa=null;a.Da=null;a.Mk[0]=null;a.Mk[1]=null;a.Mt();a.U=!0;C("[Construct 2] WebGL context restored");
window.cr_setSuspended(!1)},!1);try{this.Mr&&(this.Oc||this.Pc||!this.sb)&&(f={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.A=this.canvas.getContext("webgl2",f)||this.canvas.getContext("webgl",f)||this.canvas.getContext("experimental-webgl",f))}catch(v){}if(this.A){if(f=this.A.getExtension("WEBGL_debug_renderer_info"))this.Wk=this.A.getParameter(f.UNMASKED_RENDERER_WEBGL)+" ["+this.A.getParameter(f.UNMASKED_VENDOR_WEBGL)+"]";this.da&&(this.Wk+=
" [front-to-back enabled]");this.sb||(this.ib=document.createElement("canvas"),jQuery(this.ib).appendTo(this.canvas.parentNode),this.ib.oncontextmenu=function(){return!1},this.ib.onselectstart=function(){return!1},this.ib.width=Math.round(this.ti*this.devicePixelRatio),this.ib.height=Math.round(this.Fg*this.devicePixelRatio),jQuery(this.ib).css({width:this.ti+"px",height:this.Fg+"px"}),this.Vo(),this.Ll=this.ib.getContext("2d"));this.r=new cb(this.A,this.Lf,this.da);this.r.nf(this.canvas.width,this.canvas.height);
this.r.qn=0!==this.Fr;this.na=null;f=0;for(d=this.p.length;f<d;f++)for(e=this.p[f],c=0,m=e.L.length;c<m;c++)g=e.L[c],g.Ha=this.r.Uk(g.id),g.Uc=this.r.Ol(g.Ha),this.og=this.og||this.r.Ch(g.Ha);f=0;for(d=this.Rc.length;f<d;f++){k=this.Rc[f];c=0;for(m=k.L.length;c<m;c++)g=k.L[c],g.Ha=this.r.Uk(g.id),g.Uc=this.r.Ol(g.Ha);k.$c();c=0;for(m=k.M.length;c<m;c++){l=k.M[c];e=0;for(b=l.L.length;e<b;e++)g=l.L[e],g.Ha=this.r.Uk(g.id),g.Uc=this.r.Ol(g.Ha),this.og=this.og||this.r.Ch(g.Ha);l.$c()}}}else{if(0<this.Jb&&
this.Ue){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.na=AppMobi.canvas.getContext("2d");try{this.na.samplingMode=this.ua?"smooth":"sharp",this.na.globalScale=1,this.na.HTML5CompatibilityMode=!0,this.na.imageSmoothingEnabled=this.ua}catch(t){}0!==this.width&&0!==this.height&&(this.na.width=this.width,this.na.height=this.height)}this.na||(this.Oc?(f={antialias:!!this.ua,alpha:!0},this.na=this.canvas.getContext("2d",f)):(f={alpha:!0},
this.na=this.canvas.getContext("2d",f)),this.Gj(this.na,this.ua));this.Ll=this.ib=null}this.Ap=function(f){a.$b(!1,f)};window==window.top||this.sb||this.zt||this.ah||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Oc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(C("Reloading for continuous preview"),
this.aj="__c2_continuouspreview",this.Ph=!0),this.Vt&&!this.Lf&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var f=window.parent;f&&f.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.te()});this.sb||(f=function(a){if(bb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(f){}},"undefined"!==typeof PointerEvent?
document.addEventListener("pointerdown",f):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",f):document.addEventListener("touchstart",f),document.addEventListener("mousedown",f));0===this.Jb&&this.Ve&&1<this.devicePixelRatio&&this.setSize(this.Fa,this.Ea,!0);this.Jp();this.gt();this.go();this.J={}};b.prototype.setSize=function(a,f,d){var c=0,m=0,e=0,g=0,g=0;if(this.Tf!==a||this.Sf!==f||d){this.Tf=a;this.Sf=f;var b=this.Jb;if((e=(document.mozFullScreen||document.webkitIsFullScreen||
!!document.msFullscreenElement||document.fullScreen||this.Zg)&&!this.je)||0!==this.Jb||d)e&&0<this.Qe&&(b=this.Qe),d=this.devicePixelRatio,4<=b?(e=this.Fa/this.Ea,a/f>e?(e*=f,5===b?(g=e*d/this.Fa,1<g?g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),e=this.Fa*g/d,g=this.Ea*g/d,c=(a-e)/2,m=(f-g)/2,a=e,f=g):(c=(a-e)/2,a=e)):(g=a/e,5===b?(g=g*d/this.Ea,1<g?g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),e=this.Fa*g/d,g=this.Ea*g/d,c=(a-e)/2,m=(f-g)/2,a=e):m=(f-g)/2,f=g)):this.Ri&&this.Zg&&0===this.yn&&(c=Math.floor((a-
this.Fa)/2),m=Math.floor((f-this.Ea)/2),a=this.Fa,f=this.Ea),2>b&&(this.wg=d),this.ti=Math.round(a),this.Fg=Math.round(f),this.width=Math.round(a*d),this.height=Math.round(f*d),this.U=!0,this.Vp?(this.I=this.width,this.H=this.height,this.gc=!0):this.width<this.Fa&&this.height<this.Ea||1===b?(this.I=this.width,this.H=this.height,this.gc=!0):(this.I=this.Fa,this.H=this.Ea,this.gc=!1,2===b?(e=this.Fa/this.Ea,b=this.Tf/this.Sf,b<e?this.I=this.H*b:b>e&&(this.H=this.I/b)):3===b&&(e=this.Fa/this.Ea,b=this.Tf/
this.Sf,b>e?this.I=this.H*b:b<e&&(this.H=this.I/b))),this.gn&&!this.sb&&(jQuery(this.gn).css({width:Math.round(a)+"px",height:Math.round(f)+"px","margin-left":Math.floor(c)+"px","margin-top":Math.floor(m)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(f)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*d),this.canvas.height=Math.round(f*d),this.Pc?(this.canvas.style.left=Math.floor(c)+"px",this.canvas.style.top=Math.floor(m)+"px",
this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(f)+"px"):this.Ve&&!this.sb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(f)+"px")),this.ib&&(this.ib.width=Math.round(a*d),this.ib.height=Math.round(f*d),this.ib.style.width=this.ti+"px",this.ib.style.height=this.Fg+"px"),this.r&&this.r.nf(Math.round(a*d),Math.round(f*d)),this.Ue&&this.na&&(this.na.width=Math.round(a),this.na.height=Math.round(f)),this.na&&this.Gj(this.na,this.ua),this.Jp(),
this.ao&&!this.je&&window.scrollTo(0,0)}};b.prototype.Jp=function(){if(this.Vq&&0!==this.Kl){var a="portrait";2===this.Kl&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(f){console&&console.warn&&console.warn("Failed to lock orientation: ",
f)}}};b.prototype.Lt=function(){this.r.er();this.nl=!0;var a,f,d;a=0;for(f=this.p.length;a<f;a++)d=this.p[a],d.qj&&d.qj()};b.prototype.Mt=function(){this.nl=!1;var a,f,d;a=0;for(f=this.p.length;a<f;a++)d=this.p[a],d.rj&&d.rj()};b.prototype.Vo=function(){if(!this.sb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Zg)&&!this.je?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.ib).css(a)}};
var w=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var f;if(a&&!this.$g)for(C("[Construct 2] Suspending"),this.$g=!0,-1!==this.Rl&&w&&w(this.Rl),-1!==this.um&&clearTimeout(this.um),a=0,f=this.Pj.length;a<f;a++)this.Pj[a](!0);else if(!a&&this.$g){C("[Construct 2] Resuming");this.$g=!1;this.Ui=Pa();this.$e=Pa();a=this.rh=this.Ki=0;for(f=this.Pj.length;a<
f;a++)this.Pj[a](!1);this.$b(!1)}};b.prototype.Td=function(a){return this.nj[a]};b.prototype.jh=function(a){a&&a.project||fa("Project model unavailable");a=a.project;this.name=a[0];this.wn=a[1];this.Jb=a[12];this.yn=a[12];this.Fa=a[10];this.Ea=a[11];this.Qo=this.Fa/2;this.Ro=this.Ea/2;this.sb&&!this.Pc&&(4<=a[12]||0===a[12])&&(C("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.yn=this.Jb=3);this.Em=a[18];this.oe=a[19];if(0===
this.oe){var f=new Image;f.crossOrigin="anonymous";this.kp(f,"loading-logo.png");this.ne={hj:f}}else if(4===this.oe){f=new Image;f.src="";var d=new Image;d.src="";var c=new Image;c.src="";var m=new Image;m.src="";var e=new Image;e.src="";var g=new Image;g.src="";var b=new Image;b.src="";var k=new Image;k.src="";var l=new Image;l.src="";var v=new Image;v.src="";var t=new Image;t.src="";var h=new Image;h.src="";this.ne={hj:[f,d,c,m],Yt:[e,g,b,k],Eu:[l,v,t,h]}}this.wh=a[21];this.nj=ac();this.od=new Z(this);
f=0;for(d=a[2].length;f<d;f++)b=a[2][f],c=this.Td(b[0]),db(b,c.prototype),k=new c(this),k.Nj=b[1],k.le=b[2],k.Uv=b[5],k.Io=b[9],k.P&&k.P(),this.plugins.push(k);this.nj=ac();f=0;for(d=a[3].length;f<d;f++){b=a[3][f];e=this.Td(b[1]);k=null;c=0;for(m=this.plugins.length;c<m;c++)if(this.plugins[c]instanceof e){k=this.plugins[c];break}l=new k.ia(k);l.name=b[0];l.F=b[2];l.fl=b[3].slice(0);l.Cu=b[3].length;l.Wq=b[4];l.Cs=b[5];l.S=b[11];l.F?(l.Yf=[],l.Ad=this.Jg++,l.ta=null):(l.Yf=null,l.Ad=-1,l.ta=[]);l.Di=
null;l.Hf=null;l.rn=null;l.Mb=!1;l.Sb=null;b[6]?(l.Sj=b[6][0],l.nm=b[6][1],l.om=b[6][2]):(l.Sj=null,l.nm=0,l.om=0);b[7]?l.Rb=b[7]:l.Rb=null;l.index=f;l.i=[];l.yi=[];l.Nd=[new eb(l)];l.fd=0;l.oc=null;l.jr=0;l.jg=!0;l.ak=fb;l.En=gb;l.Ms=hb;l.T=ib;l.Dh=jb;l.yj=kb;l.hf=lb;l.Li=mb;l.Ok=nb;l.Qk=ob;l.Hc=pb;l.Rk=qb;l.ri=new Wa(this.Fa,this.Ea);l.ci=!0;l.di=!1;l.J={};l.toString=rb;l.wa=[];c=0;for(m=b[8].length;c<m;c++){v=b[8][c];t=this.Td(v[1]);h=null;e=0;for(g=this.wa.length;e<g;e++)if(this.wa[e]instanceof
t){h=this.wa[e];break}h||(h=new t(this),h.mj=[],h.lj=new ca,h.P&&h.P(),this.wa.push(h),bc&&h instanceof bc&&(this.vp=h),cc&&h instanceof cc&&(this.bo=h));-1===h.mj.indexOf(l)&&h.mj.push(l);e=new h.ia(h,l);e.name=v[0];e.S=v[2];e.P();l.wa.push(e)}l.global=b[9];l.kl=b[10];l.L=[];c=0;for(m=b[12].length;c<m;c++)l.L.push({id:b[12][c][0],name:b[12][c][1],Ha:-1,Uc:!1,ac:!0,index:c});l.Vj=b[13];this.Em&&!l.F&&!l.kl&&k.le||l.P();l.name&&(this.types[l.name]=l);this.p.push(l);k.Nj&&(c=new k.Y(l),c.uid=this.wh++,
c.Zo=this.Jo++,c.Te=0,c.Qg=sb,c.toString=tb,c.C=b[14],c.P(),l.i.push(c),this.Hd[c.uid.toString()]=c)}f=0;for(d=a[4].length;f<d;f++)for(e=a[4][f],g=this.p[e[0]],c=1,m=e.length;c<m;c++)b=this.p[e[c]],b.ta.push(g),g.Yf.push(b);f=0;for(d=a[28].length;f<d;f++){e=a[28][f];g=[];c=0;for(m=e.length;c<m;c++)g.push(this.p[e[c]]);c=0;for(m=g.length;c<m;c++)g[c].Mb=!0,g[c].Sb=g}if(0<this.Jg)for(f=0,d=this.p.length;f<d;f++)if(b=this.p[f],!b.F&&b.ta.length){b.Di=Array(this.Jg);b.Hf=Array(this.Jg);b.rn=Array(this.Jg);
l=[];c=h=t=v=0;for(m=b.ta.length;c<m;c++)for(k=b.ta[c],b.Di[k.Ad]=v,v+=k.Cu,b.Hf[k.Ad]=t,t+=k.Wq,b.rn[k.Ad]=h,h+=k.Cs,e=0,g=k.L.length;e<g;e++)l.push(sa({},k.L[e]));b.L=l.concat(b.L);c=0;for(m=b.L.length;c<m;c++)b.L[c].index=c}f=0;for(d=a[5].length;f<d;f++)b=a[5][f],c=new ub(this,b),this.tl[c.name]=c,this.Rc.push(c);f=0;for(d=a[6].length;f<d;f++)b=a[6][f],c=new vb(this,b),this.Fk[c.name]=c,this.zd.push(c);f=0;for(d=this.zd.length;f<d;f++)this.zd[f].Ba();f=0;for(d=this.zd.length;f<d;f++)this.zd[f].Bm();
f=0;for(d=this.Zj.length;f<d;f++)this.Zj[f].Ba();W(this.Zj);this.Uq=a[7];this.Tc=a[9];this.wg=1;this.Mr=a[13];this.ua=a[14];this.hn=a[15];this.Bu=a[17];this.Kl=a[20];this.Vq=0<this.Kl;this.Vt=a[22];this.gc=this.Vp=a[23];this.Fr=a[24];this.Zt=a[25];this.da=a[27]&&!this.ke;this.Oj=Date.now();W(this.nj);this.mt()};var d=!1,c=0,k=[];b.prototype.eu=function(a,f){function d(){c--;m.Do()}var m=this;a.addEventListener("load",d);a.addEventListener("error",d);k.push([a,f]);this.Do()};b.prototype.Do=function(){for(var a;k.length&&
100>c;)c++,a=k.shift(),this.kp(a[0],a[1])};b.prototype.Up=function(a,f){a.cocoonLazyLoad=!0;a.onerror=function(f){d=a.bn=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",f)};this.Pc?a.src=f:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(f,function(f){a.src=f},function(c){d=a.bn=!0;console&&console.error&&console.error("Error extracting image '"+f+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",this.eu(a,f)));this.sf.push(a)};b.prototype.As=function(a){var f,
d;f=0;for(d=this.sf.length;f<d;f++)if(this.sf[f].fr===a)return this.sf[f];return null};var g=0,t=!1;b.prototype.gt=function(){this.xg&&(g=this.xg.Xv(this.Uq))};b.prototype.Ym=function(){var a=g,f=0,d=0,c=!0,m,e,d=0;for(m=this.sf.length;d<m;d++){e=this.sf[d];var b=e.kn;if(!b||0>=b)b=5E4;a+=b;e.src&&(e.complete||e.loaded)&&!e.bn?f+=b:c=!1}c&&this.Zt&&this.xg&&(t||(this.xg.Yv(),t=!0),d=this.xg.Sv(),f+=d,d<g&&(c=!1));this.Vc=0==a?1:f/a;return c};var z=!1;b.prototype.go=function(){if(this.na||this.r){var a=
this.na||this.Ll;this.ib&&this.Vo();var f=window.innerWidth,c=window.innerHeight;this.Tf===f&&this.Sf===c||this.setSize(f,c);this.Vc=0;this.ho=-1;var m=this;if(this.Ym()&&(4!==this.oe||z))this.ht();else{c=Date.now()-this.Oj;if(a){var e=this.width,b=this.height,f=this.devicePixelRatio;if(3>this.oe&&(this.Oc||500<=c&&this.ho!=this.Vc)){a.clearRect(0,0,e,b);var c=e/2,b=b/2,e=0===this.oe&&this.ne.hj.complete,g=40*f,k=0,l=80*f,v;if(e){var t=this.ne.hj,l=t.width*f;v=t.height*f;g=l/2;k=v/2;a.drawImage(t,
T(c-g),T(b-k),l,v)}1>=this.oe?(c=T(c-g)+.5,b=T(b+(k+(e?12*f:0)))+.5,a.fillStyle=d?"red":"DodgerBlue",a.fillRect(c,b,Math.floor(l*this.Vc),6*f),a.strokeStyle="black",a.strokeRect(c,b,l,6*f),a.strokeStyle="white",a.strokeRect(c-1*f,b-1*f,l+2*f,8*f)):2===this.oe&&(a.font=this.Pc?"12pt ArialMT":"12pt Arial",a.fillStyle=d?"#f00":"#999",a.Zv="middle",f=Math.round(100*this.Vc)+"%",e=a.measureText?a.measureText(f):null,a.fillText(f,c-(e?e.width:0)/2,b));this.ho=this.Vc}else if(4===this.oe){this.Kr(a);x?x(function(){m.go()}):
setTimeout(function(){m.go()},16);return}}setTimeout(function(){m.go()},this.Oc?10:100)}}};var l=-1,f="undefined"===typeof cr_is_preview?200:0,m=!0,v=!1,D=0,u=0,Oa="undefined"===typeof cr_is_preview?3E3:0,Y=null,U=null,M=0;b.prototype.Kr=function(a){if(!z){for(var c=Math.ceil(this.width),e=Math.ceil(this.height),b=this.ne.hj,g=this.ne.Yt,k=this.ne.Eu,t=0;4>t;++t)if(!b[t].complete||!g[t].complete||!k[t].complete)return;0===M&&(l=Date.now());var t=Date.now(),n=!1,q=a,r,p;m||v?(a.clearRect(0,0,c,e),
Y&&Y.width===c&&Y.height===e||(Y=document.createElement("canvas"),Y.width=c,Y.height=e,U=Y.getContext("2d")),q=U,n=!0,m&&1===M&&(l=Date.now())):a.globalAlpha=1;q.fillStyle="#333333";q.fillRect(0,0,c,e);256<this.Fg?(r=Aa(.22*e,105,.6*c),p=.25*r,q.drawImage(h(g,r),.5*c-r/2,.2*e-p/2,r,p),p=r=Math.min(.395*e,.95*c),q.drawImage(h(b,r),.5*c-r/2,.485*e-p/2,r,p),r=Aa(.22*e,105,.6*c),p=.25*r,q.drawImage(h(k,r),.5*c-r/2,.868*e-p/2,r,p),q.fillStyle="#3C3C3C",r=c,p=Math.max(.005*e,2),q.fillRect(0,.8*e-p/2,r,
p),q.fillStyle=d?"red":"#E0FF65",r=c*this.Vc,q.fillRect(.5*c-r/2,.8*e-p/2,r,p)):(p=r=.55*e,q.drawImage(h(b,r),.5*c-r/2,.45*e-p/2,r,p),q.fillStyle="#3C3C3C",r=c,p=Math.max(.005*e,2),q.fillRect(0,.85*e-p/2,r,p),q.fillStyle=d?"red":"#E0FF65",r=c*this.Vc,q.fillRect(.5*c-r/2,.85*e-p/2,r,p));n&&(m?a.globalAlpha=0===M?0:Math.min((t-l)/300,1):v&&(a.globalAlpha=Math.max(1-(t-u)/300,0)),a.drawImage(Y,0,0,c,e));m&&300<=t-l&&2<=M&&(m=!1,D=t);!m&&t-D>=Oa&&!v&&1<=this.Vc&&(v=!0,u=t);if(v&&t-u>=300+f||"undefined"!==
typeof cr_is_preview&&1<=this.Vc&&500>Date.now()-l)z=!0,v=m=!1,this.ne=U=Y=null;++M}};b.prototype.ht=function(){this.ib&&(this.canvas.parentNode.removeChild(this.ib),this.ib=this.Ll=null);this.Oj=Date.now();this.$e=Pa();var a,f,d;if(this.Em)for(a=0,f=this.p.length;a<f;a++)d=this.p[a],d.F||d.kl||!d.va.le||d.P();else this.dh=!1;a=0;for(f=this.Rc.length;a<f;a++)this.Rc[a].gr();2<=this.Jb&&(a=this.Fa/this.Ea,f=this.width/this.height,this.wg=2!==this.Jb&&f>a||2===this.Jb&&f<a?this.height/this.Ea:this.width/
this.Fa);this.wn?this.tl[this.wn].lm():this.Rc[0].lm();this.Em||(this.ej=1,this.trigger(Z.prototype.k.Pm,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(f=this.p.length;a<f;a++)d=this.p[a],d.Kt&&d.Kt();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.$b(!1);this.Ue&&AppMobi.webview.execute("onGameReady();")};b.prototype.$b=function(a,f,d){if(this.fa){var c=
Pa();if(d||!this.$g||a){a||(x?this.Rl=x(this.Ap):this.um=setTimeout(this.Ap,this.Lf?1:16));f=f||c;var m=this.Jb;((d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.je)||this.Zg)&&0<this.Qe&&(m=this.Qe);if(0<m){var m=window.innerWidth,e=window.innerHeight;this.Tf===m&&this.Sf===e||this.setSize(m,e)}this.sb||(d?this.Fi||(this.Fi=!0):this.Fi?(this.Fi=!1,0===this.Jb&&this.setSize(Math.round(this.Oo/this.devicePixelRatio),Math.round(this.No/
this.devicePixelRatio),!0)):(this.Oo=this.width,this.No=this.height));this.dh&&(d=this.Ym(),this.ej=this.Vc,d&&(this.dh=!1,this.Vc=1,this.trigger(Z.prototype.k.Pm,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Ft(f);!this.U&&!this.Oc||this.nl||this.Ph||a||(this.U=!1,this.r?this.Tb():this.xd(),this.Oh&&(this.canvas&&this.canvas.toDataURL&&(this.tp=this.canvas.toDataURL(this.Oh[0],this.Oh[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.tp),this.trigger(Z.prototype.k.sq,null)),this.Oh=
null));this.Tv||(this.lg++,this.Oe++,this.Ki++);this.rh+=Pa()-c}}};b.prototype.Ft=function(a){var f,d,c,m,e,b,g,k;1E3<=a-this.$e&&(this.$e+=1E3,1E3<=a-this.$e&&(this.$e=a),this.Kk=this.Ki,this.Ki=0,this.wk=this.rh,this.rh=0);f=0;0!==this.Ui&&(f=a-this.Ui,0>f&&(f=0),this.Ke=f/=1E3,.5<this.Ke?this.Ke=0:this.Ke>1/this.Go&&(this.Ke=1/this.Go));this.Ui=a;this.Ff=this.Ke*this.ng;this.Vb.add(this.Ff);this.dk.add(f);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||
this.Zg)&&!this.je;2<=this.Jb||a&&0<this.Qe?(f=this.Fa/this.Ea,d=this.width/this.height,c=this.Jb,a&&0<this.Qe&&(c=this.Qe),this.wg=2!==c&&d>f||2===c&&d<f?this.height/this.Ea:this.width/this.Fa,this.fa&&(this.fa.dm(this.fa.scrollX),this.fa.em(this.fa.scrollY))):this.wg=this.Ve?this.devicePixelRatio:1;this.ob();this.Qc++;this.od.ju();this.Qc--;this.ob();this.Qc++;d=this.Lo.Rd();a=0;for(f=d.length;a<f;a++)d[a].Vv();a=0;for(f=this.p.length;a<f;a++)if(b=this.p[a],!b.F&&(b.wa.length||b.ta.length))for(d=
0,c=b.i.length;d<c;d++)for(g=b.i[d],m=0,e=g.G.length;m<e;m++)g.G[m].$b();a=0;for(f=this.p.length;a<f;a++)if(b=this.p[a],!b.F&&(b.wa.length||b.ta.length))for(d=0,c=b.i.length;d<c;d++)for(g=b.i[d],m=0,e=g.G.length;m<e;m++)k=g.G[m],k.Wo&&k.Wo();d=this.Gl.Rd();a=0;for(f=d.length;a<f;a++)d[a].$b();this.Qc--;this.it();for(a=0;this.zg&&10>a++;)this.pn(this.zg);a=0;for(f=this.zd.length;a<f;a++)this.zd[a].$k=!1;this.fa.Me&&this.fa.Me.Ga();W(this.Gh);this.Qc++;a=0;for(f=this.p.length;a<f;a++)if(b=this.p[a],
!b.F&&(b.wa.length||b.ta.length))for(d=0,c=b.i.length;d<c;d++)for(g=b.i[d],m=0,e=g.G.length;m<e;m++)k=g.G[m],k.Sh&&k.Sh();d=this.Mo.Rd();a=0;for(f=d.length;a<f;a++)d[a].Sh();this.Qc--};b.prototype.te=function(){var a,f,d,c,m,e,b,g,k;a=0;for(f=this.p.length;a<f;a++)if(b=this.p[a],!b.F)for(d=0,c=b.i.length;d<c;d++)if(g=b.i[d],g.te&&g.te(),g.G)for(m=0,e=g.G.length;m<e;m++)k=g.G[m],k.te&&k.te()};b.prototype.pn=function(a){var f=this.fa;this.fa.uu();var d,c,m;if(this.r)for(d=0,c=this.p.length;d<c;d++)m=
this.p[d],m.F||!m.$j||m.global&&0!==m.i.length||-1!==a.Vg.indexOf(m)||m.$j();f==a&&W(this.od.Qb);W(this.Gh);this.ep(!0);a.lm();this.ep(!1);this.U=!0;this.ob()};b.prototype.ep=function(a){var f,d,c,m,e,b,g,k,l;f=0;for(d=this.wa.length;f<d;f++)c=this.wa[f],a?c.xh&&c.xh():c.yh&&c.yh();f=0;for(d=this.p.length;f<d;f++)if(c=this.p[f],c.global||c.va.Nj)for(m=0,e=c.i.length;m<e;m++)if(b=c.i[m],a?b.xh&&b.xh():b.yh&&b.yh(),b.G)for(g=0,k=b.G.length;g<k;g++)l=b.G[g],a?l.xh&&l.xh():l.yh&&l.yh()};b.prototype.yu=
function(a){this.Gl.add(a)};b.prototype.Lg=function(a){return a&&-1!==a.vh?this.Ke*a.vh:this.Ff};b.prototype.xd=function(){this.fa.xd(this.na);this.Ue&&this.na.present()};b.prototype.Tb=function(){this.da&&(this.Le=1,this.fa.Je(this.r));this.fa.Tb(this.r);this.r.au()};b.prototype.ik=function(a){a&&this.Bi.push(a)};b.prototype.dp=function(a){za(this.Bi,a)};b.prototype.Og=function(a){a=a.toString();return this.Hd.hasOwnProperty(a)?this.Hd[a]:null};var Q=[];b.prototype.uf=function(a){var f,d;f=a.type.name;
var c=null;if(this.Ie.hasOwnProperty(f)){if(c=this.Ie[f],c.contains(a))return}else c=Q.length?Q.pop():new ca,this.Ie[f]=c;c.add(a);this.he=!0;if(a.Mb)for(f=0,d=a.siblings.length;f<d;f++)this.uf(a.siblings[f]);this.jl&&c.pg.push(a);this.il||(this.Qc++,this.trigger(Object.getPrototypeOf(a.type.va).k.uq,a),this.Qc--)};b.prototype.ob=function(){if(this.he){var a,f,d,c,m,e;this.jl=!0;d=0;for(m=this.Mc.length;d<m;++d)for(a=this.Mc[d],f=a.type,f.i.push(a),c=0,e=f.ta.length;c<e;++c)f.ta[c].i.push(a),f.ta[c].jg=
!0;W(this.Mc);this.mq();Na(this.Ie);this.he=this.jl=!1}};b.prototype.mq=function(){for(var a in this.Ie)this.Ie.hasOwnProperty(a)&&this.aq(this.Ie[a])};b.prototype.aq=function(a){var f=a.Rd(),d=f[0].type,c,m,e,b,g,k;Qa(d.i,a);d.jg=!0;0===d.i.length&&(d.di=!1);c=0;for(m=d.ta.length;c<m;++c)k=d.ta[c],Qa(k.i,a),k.jg=!0;c=0;for(m=this.od.Qb.length;c<m;++c)if(g=this.od.Qb[c],g.Db.hasOwnProperty(d.index)&&Qa(g.Db[d.index].Cd,a),!d.F)for(e=0,b=d.ta.length;e<b;++e)k=d.ta[e],g.Db.hasOwnProperty(k.index)&&
Qa(g.Db[k.index].Cd,a);if(g=f[0].n){if(g.mc)for(e=g.i,c=0,m=e.length;c<m;++c)b=e[c],a.contains(b)&&(b.ha(),g.kb.update(b,b.Ob,null),b.Ob.set(0,0,-1,-1));Qa(g.i,a);g.Ih(0)}for(c=0;c<f.length;++c)this.$p(f[c],d);a.clear();Q.push(a);this.U=!0};b.prototype.$p=function(a,f){var d,c,m;d=0;for(c=this.Bi.length;d<c;++d)this.Bi[d](a);a.be&&f.ri.update(a,a.be,null);(d=a.n)&&d.dg(a,!0);if(a.G)for(d=0,c=a.G.length;d<c;++d)m=a.G[d],m.gf&&m.gf(),m.behavior.lj.remove(a);this.Lo.remove(a);this.Gl.remove(a);this.Mo.remove(a);
a.gf&&a.gf();this.Hd.hasOwnProperty(a.uid.toString())&&delete this.Hd[a.uid.toString()];this.oj--;100>f.yi.length&&f.yi.push(a)};b.prototype.ln=function(a,f,d,c){if(a.F){var m=T(Math.random()*a.Yf.length);return this.ln(a.Yf[m],f,d,c)}return a.oc?this.de(a.oc,f,!1,d,c,!1):null};var B=[];b.prototype.de=function(a,f,d,c,m,e){var b,g,k,l;if(!a)return null;var v=this.p[a[1]],t=v.va.le;if(this.dh&&t&&!v.kl||t&&!this.r&&11===a[0][11])return null;var h=f;t||(f=null);var u;v.yi.length?(u=v.yi.pop(),u.Xb=
!0,v.va.Y.call(u,v)):(u=new v.va.Y(v),u.Xb=!1);!d||e||this.Hd.hasOwnProperty(a[2].toString())?u.uid=this.wh++:u.uid=a[2];this.Hd[u.uid.toString()]=u;u.Zo=this.Jo++;u.Te=v.i.length;b=0;for(g=this.Mc.length;b<g;++b)this.Mc[b].type===v&&u.Te++;u.Qg=sb;u.toString=tb;k=a[3];if(u.Xb)Na(u.J);else{u.J={};if("undefined"!==typeof cr_is_preview)for(u.Rn=[],u.Rn.length=k.length,b=0,g=k.length;b<g;b++)u.Rn[b]=k[b][1];u.Na=[];u.Na.length=k.length}b=0;for(g=k.length;b<g;b++)u.Na[b]=k[b][0];if(t){var D=a[0];u.x=
ga(c)?D[0]:c;u.y=ga(m)?D[1]:m;u.z=D[2];u.width=D[3];u.height=D[4];u.depth=D[5];u.j=D[6];u.opacity=D[7];u.Kb=D[8];u.Lb=D[9];u.pb=D[10];b=D[11];!this.r&&v.L.length&&(u.pb=b);u.Bg=Ya(u.pb);this.A&&Za(u,u.pb,this.A);if(u.Xb){b=0;for(g=D[12].length;b<g;b++)for(k=0,l=D[12][b].length;k<l;k++)u.xa[b][k]=D[12][b][k];u.ra.set(0,0,0,0);u.be.set(0,0,-1,-1);u.Ob.set(0,0,-1,-1);u.ec.Jh(u.ra);W(u.mk)}else{u.xa=D[12].slice(0);b=0;for(g=u.xa.length;b<g;b++)u.xa[b]=D[12][b].slice(0);u.V=[];u.Ud=[];u.Ud.length=v.L.length;
u.ra=new V(0,0,0,0);u.be=new V(0,0,-1,-1);u.Ob=new V(0,0,-1,-1);u.ec=new ra;u.mk=[];u.q=wb;u.Pv=xb;u.qb=yb;u.ha=zb;u.Au=Ab;u.Qp=Bb;u.hd=Cb}u.mg=!1;u.Ep=0;u.Dp=0;u.Cp=null;14===D.length&&(u.mg=!0,u.Ep=D[13][0],u.Dp=D[13][1],u.Cp=D[13][2]);b=0;for(g=v.L.length;b<g;b++)u.Ud[b]=!0;u.Ld=!0;u.$c=Db;u.$c();u.Rp=!!u.V.length;u.lk=!0;u.rk=!0;v.ci=!0;u.visible=!0;u.vh=-1;u.n=f;u.bd=f.i.length;u.Le=0;"undefined"===typeof u.W&&(u.W=null);this.U=u.ud=!0}var r;W(B);b=0;for(g=v.ta.length;b<g;b++)B.push.apply(B,
v.ta[b].wa);B.push.apply(B,v.wa);if(u.Xb)for(b=0,g=B.length;b<g;b++){var q=B[b];r=u.G[b];r.Xb=!0;q.behavior.Y.call(r,q,u);D=a[4][b];k=0;for(l=D.length;k<l;k++)r.C[k]=D[k];r.P();q.behavior.lj.add(u)}else for(u.G=[],b=0,g=B.length;b<g;b++)q=B[b],r=new q.behavior.Y(q,u),r.Xb=!1,r.C=a[4][b].slice(0),r.P(),u.G.push(r),q.behavior.lj.add(u);D=a[5];if(u.Xb)for(b=0,g=D.length;b<g;b++)u.C[b]=D[b];else u.C=D.slice(0);this.Mc.push(u);this.he=!0;f&&(f.vg(u,!0),1!==f.wc||1!==f.xc)&&(v.di=!0);this.oj++;if(v.Mb){if(u.Mb=
!0,u.Xb?W(u.siblings):u.siblings=[],!d&&!e){b=0;for(g=v.Sb.length;b<g;b++)if(v.Sb[b]!==v){if(!v.Sb[b].oc)return null;u.siblings.push(this.de(v.Sb[b].oc,h,!1,t?u.x:c,t?u.y:m,!0))}b=0;for(g=u.siblings.length;b<g;b++)for(u.siblings[b].siblings.push(u),k=0;k<g;k++)b!==k&&u.siblings[b].siblings.push(u.siblings[k])}}else u.Mb=!1,u.siblings=null;u.P();b=0;for(g=u.G.length;b<g;b++)u.G[b].Xt&&u.G[b].Xt();return u};b.prototype.Sk=function(a){var f,d;f=0;for(d=this.fa.M.length;f<d;f++){var c=this.fa.M[f];if(ab(c.name,
a))return c}return null};b.prototype.Ng=function(a){a=T(a);0>a&&(a=0);a>=this.fa.M.length&&(a=this.fa.M.length-1);return this.fa.M[a]};b.prototype.uk=function(a){var f,d;f=0;for(d=a.length;f<d;f++)a[f].T().Z=!0};b.prototype.Dh=function(a){var f,d;f=0;for(d=a.length;f<d;f++)a[f].Dh()};b.prototype.yj=function(a){var f,d;f=0;for(d=a.length;f<d;f++)a[f].yj()};b.prototype.hf=function(a){var f,d;f=0;for(d=a.length;f<d;f++)a[f].hf()};b.prototype.Np=function(a){if(a.ci){var f,d,c=a.i;f=0;for(d=c.length;f<
d;++f)c[f].Qp();c=this.Mc;f=0;for(d=c.length;f<d;++f)c[f].type===a&&c[f].Qp();a.ci=!1}};b.prototype.An=function(a,f,d,c){var m,b,e=a?1!==a.wc||1!==a.xc:!1;if(f.F)for(a=0,m=f.Yf.length;a<m;++a)b=f.Yf[a],e||b.di?xa(c,b.i):(this.Np(b),b.ri.Aj(d,c));else e||f.di?xa(c,f.i):(this.Np(f),f.ri.Aj(d,c))};b.prototype.In=function(a,f,d,c){var m,b;m=0;for(b=f.length;m<b;++m)this.An(a,f[m],d,c)};b.prototype.Qs=function(a,f,d){var c=this.vp;c&&this.In(a,c.mj,f,d)};b.prototype.Ks=function(a,f,d){var c=this.bo;c&&
this.In(a,c.mj,f,d)};b.prototype.wu=function(a,f,d){var c=a.T(),m,b,e,g,k=this.Wa().zb.uc,l,v,u;if(c.Z)for(c.Z=!1,W(c.i),m=0,g=a.i.length;m<g;m++)e=a.i[m],e.ha(),l=e.n.xb(f,d,!0),v=e.n.xb(f,d,!1),e.qb(l,v)?c.i.push(e):k&&c.R.push(e);else{b=0;u=k?c.R:c.i;m=0;for(g=u.length;m<g;m++)e=u[m],e.ha(),l=e.n.xb(f,d,!0),v=e.n.xb(f,d,!1),e.qb(l,v)&&(k?c.i.push(e):(c.i[b]=c.i[m],b++));u.length=b}a.Hc();return c.Zk()};b.prototype.Eb=function(a,f){if(!(a&&f&&a!==f&&a.ud&&f.ud))return!1;a.ha();f.ha();var d=a.n,
c=f.n,m,b,e,g,k,l,v,u;if(d===c||d.wc===c.wc&&c.xc===c.xc&&d.scale===c.scale&&d.j===c.j&&d.cd===c.cd){if(!a.ra.nt(f.ra)||!a.ec.Sn(f.ec)||a.mg&&f.mg)return!1;if(a.mg)return this.zp(a,f);if(f.mg)return this.zp(f,a);v=a.W&&!a.W.Mf();m=f.W&&!f.W.Mf();if(!v&&!m)return!0;v?(a.W.Ge(a.width,a.height,a.j),v=a.W):(this.Xc.gg(a.ec,a.x,a.y,a.width,a.height),v=this.Xc);m?(f.W.Ge(f.width,f.height,f.j),u=f.W):(this.Xc.gg(f.ec,f.x,f.y,f.width,f.height),u=this.Xc);return v.Wg(u,f.x-a.x,f.y-a.y)}v=a.W&&!a.W.Mf();m=
f.W&&!f.W.Mf();v?(a.W.Ge(a.width,a.height,a.j),this.Xc.np(a.W)):this.Xc.gg(a.ec,a.x,a.y,a.width,a.height);v=this.Xc;m?(f.W.Ge(f.width,f.height,f.j),this.mm.np(f.W)):this.mm.gg(f.ec,f.x,f.y,f.width,f.height);u=this.mm;m=0;for(b=v.Wb;m<b;m++)e=2*m,g=e+1,k=v.ea[e],l=v.ea[g],v.ea[e]=d.Bb(k+a.x,l+a.y,!0),v.ea[g]=d.Bb(k+a.x,l+a.y,!1);v.ha();m=0;for(b=u.Wb;m<b;m++)e=2*m,g=e+1,k=u.ea[e],l=u.ea[g],u.ea[e]=c.Bb(k+f.x,l+f.y,!0),u.ea[g]=c.Bb(k+f.x,l+f.y,!1);u.ha();return v.Wg(u,0,0)};var R=new ra;new V(0,0,0,
0);var N=[];b.prototype.zp=function(a,f){var d,c,m,b,e=f.ra,g=a.x,k=a.y;a.Fs(e,N);var l=f.W&&!f.W.Mf();d=0;for(c=N.length;d<c;++d)if(m=N[d],b=m.X,e.ot(b,g,k)&&(R.Jh(b),R.offset(g,k),R.Sn(f.ec)))if(l)if(f.W.Ge(f.width,f.height,f.j),m.Jd){if(m.Jd.Wg(f.W,f.x-(g+b.left),f.y-(k+b.top)))return W(N),!0}else{if(this.Xc.gg(R,0,0,b.right-b.left,b.bottom-b.top),this.Xc.Wg(f.W,f.x,f.y))return W(N),!0}else if(m.Jd){if(this.Xc.gg(f.ec,0,0,f.width,f.height),m.Jd.Wg(this.Xc,-(g+b.left),-(k+b.top)))return W(N),!0}else return W(N),
!0;W(N);return!1};b.prototype.ym=function(a,f){if(!f)return!1;var d,c,m,b,e;d=0;for(c=a.wa.length;d<c;d++)if(a.wa[d].behavior instanceof f)return!0;if(!a.F)for(d=0,c=a.ta.length;d<c;d++)for(e=a.ta[d],m=0,b=e.wa.length;m<b;m++)if(e.wa[m].behavior instanceof f)return!0;return!1};b.prototype.zm=function(a){return this.ym(a,Tb.lv)};b.prototype.Am=function(a){return this.ym(a,Tb.mv)};var F=[];b.prototype.$a=function(a){var f,d,c;a.ha();this.Qs(a.n,a.ra,F);f=0;for(d=F.length;f<d;++f)if(c=F[f],c.J.solidEnabled&&
this.Eb(a,c))return W(F),c;W(F);return null};var H=[];b.prototype.Od=function(a,f){var d=null;f&&(d=H,W(d));a.ha();this.Ks(a.n,a.ra,F);var c,m,b;c=0;for(m=F.length;c<m;++c)if(b=F[c],b.J.jumpthruEnabled&&this.Eb(a,b))if(f)d.push(b);else return W(F),b;W(F);return d};b.prototype.yc=function(a,f,d,c,m,b){c=c||50;var e=a.x,g=a.y,k,l=null,v=null;for(k=0;k<c;k++)if(a.x=e+f*k,a.y=g+d*k,a.q(),!this.Eb(a,l)&&((l=this.$a(a))&&(v=l),!l&&(m&&(b?l=this.Eb(a,b)?b:null:l=this.Od(a),l&&(v=l)),!l)))return v&&this.Ql(a,
f,d,v),!0;a.x=e;a.y=g;a.q();return!1};b.prototype.Ql=function(a,f,d,c){var m=2,b,e=!1;b=!1;for(var g=a.x,k=a.y;16>=m;)b=1/m,m*=2,a.x+=f*b*(e?1:-1),a.y+=d*b*(e?1:-1),a.q(),this.Eb(a,c)?b=e=!0:(b=e=!1,g=a.x,k=a.y);b&&(a.x=g,a.y=k,a.q())};b.prototype.$o=function(a,f){var d=ga(f)?100:f,c=0,m=a.x,b=a.y,e=0,g=0,k=0,l=this.$a(a);if(!l)return!0;for(;c<=d;){switch(e){case 0:g=0;k=-1;c++;break;case 1:g=1;k=-1;break;case 2:g=1;k=0;break;case 3:k=g=1;break;case 4:g=0;k=1;break;case 5:g=-1;k=1;break;case 6:g=
-1;k=0;break;case 7:k=g=-1}e=(e+1)%8;a.x=T(m+g*c);a.y=T(b+k*c);a.q();if(!this.Eb(a,l)&&(l=this.$a(a),!l))return!0}a.x=m;a.y=b;a.q();return!1};b.prototype.bg=function(a,f){a.ud&&f.ud&&this.Gh.push([a,f])};b.prototype.cr=function(a,f){var d,c,m;d=0;for(c=this.Gh.length;d<c;d++)if(m=this.Gh[d],m[0]==a&&m[1]==f||m[0]==f&&m[1]==a)return!0;return!1};b.prototype.$q=function(a,f,d){var c=a.x,m=a.y,b=ma(10,Ka(f,d,c,m)),e=Ga(f,d,c,m),g=this.$a(a);if(!g)return Da(e+oa);var k=g,l,v,u,t,h=X(5);for(l=1;36>l;l++)if(v=
e-l*h,a.x=f+Math.cos(v)*b,a.y=d+Math.sin(v)*b,a.q(),!this.Eb(a,k)&&(k=this.$a(a),!k)){u=v;break}36===l&&(u=Da(e+oa));k=g;for(l=1;36>l;l++)if(v=e+l*h,a.x=f+Math.cos(v)*b,a.y=d+Math.sin(v)*b,a.q(),!this.Eb(a,k)&&(k=this.$a(a),!k)){t=v;break}36===l&&(t=Da(e+oa));a.x=c;a.y=m;a.q();if(t===u)return t;a=Ha(t,u)/2;a=Ja(t,u)?Da(u+a+oa):Da(t+a);u=Math.cos(e);e=Math.sin(e);t=Math.cos(a);a=Math.sin(a);f=u*t+e*a;return Ga(0,0,u-2*f*t,e-2*f*a)};var O=-1;b.prototype.trigger=function(a,f,d){if(!this.fa)return!1;
var c=this.fa.Me;if(!c)return!1;var m=!1,b,e,g;O++;var k=c.Ak;e=0;for(g=k.length;e<g;++e)b=this.Hp(a,f,k[e],d),m=m||b;b=this.Hp(a,f,c,d);O--;return m||b};b.prototype.Hp=function(a,f,d,c){var m=!1,b,e,g,k;if(f)for(g=this.wm(a,f,f.type.name,d,c),m=m||g,k=f.type.ta,b=0,e=k.length;b<e;++b)g=this.wm(a,f,k[b].name,d,c),m=m||g;else g=this.wm(a,f,"system",d,c),m=m||g;return m};b.prototype.wm=function(a,f,d,c,m){var b,e=!1,g=!1,g="undefined"!==typeof m,k=(g?c.tn:c.Ip)[d];if(!k)return e;var l=null;c=0;for(b=
k.length;c<b;++c)if(k[c].method==a){l=k[c].Ig;break}if(!l)return e;var v;g?v=l[m]:v=l;if(!v)return null;c=0;for(b=v.length;c<b;c++)a=v[c][0],m=v[c][1],g=this.ws(f,d,a,m),e=e||g;return e};b.prototype.ws=function(a,f,d,c){var m,b,e=!1;this.xm++;var g=this.Wa().zb;g&&this.Dh(g.xe);var k=1<this.xm;this.Dh(d.xe);k&&this.cu();var l=this.zj(d);l.zb=d;a&&(m=this.types[f].T(),m.Z=!1,W(m.i),m.i[0]=a,this.types[f].Hc());a=!0;if(d.parent){f=l.yp;for(m=d.parent;m;)f.push(m),m=m.parent;f.reverse();m=0;for(b=f.length;m<
b;m++)if(!f[m].lu()){a=!1;break}}a&&(this.Oe++,d.uc?d.ku(c):d.Ga(),e=e||l.Ze);this.vj();k&&this.Wt();this.hf(d.xe);g&&this.hf(g.xe);this.he&&0===this.Qc&&0===O&&!this.ll&&this.ob();this.xm--;return e};b.prototype.Bn=function(){var a=this.Wa();return a.zb.Va[a.Ua]};b.prototype.Gs=function(){var a=this.Wa();return a.zb.nc[a.Ib]};b.prototype.cu=function(){this.gj++;this.gj>=this.Al.length&&this.Al.push([])};b.prototype.Wt=function(){this.gj--};b.prototype.Cn=function(){return this.Al[this.gj]};b.prototype.zj=
function(a){this.Ci++;this.Ci>=this.Ek.length&&this.Ek.push(new Eb);var f=this.Wa();f.reset(a);return f};b.prototype.vj=function(){this.Ci--};b.prototype.Wa=function(){return this.Ek[this.Ci]};b.prototype.Dn=function(a,f){for(var d,c,m,b,e,g;f;){d=0;for(c=f.Ac.length;d<c;d++)if(g=f.Ac[d],g instanceof Fb&&ab(a,g.name))return g;f=f.parent}d=0;for(c=this.zd.length;d<c;d++)for(e=this.zd[d],m=0,b=e.fe.length;m<b;m++)if(g=e.fe[m],g instanceof Fb&&ab(a,g.name))return g;return null};b.prototype.Fn=function(a){var f,
d;f=0;for(d=this.Rc.length;f<d;f++)if(this.Rc[f].S===a)return this.Rc[f];return null};b.prototype.Ni=function(a){var f,d;f=0;for(d=this.p.length;f<d;f++)if(this.p[f].S===a)return this.p[f];return null};b.prototype.Hs=function(a){var f,d;f=0;for(d=this.yf.length;f<d;f++)if(this.yf[f].S===a)return this.yf[f];return null};b.prototype.lr=function(a,f){this.Oh=[a,f];this.U=!0};b.prototype.it=function(){var a=this,f=this.cm,d=this.Ed,c=this.aj,m=!1;this.rp&&(m=!0,f="__c2_continuouspreview",this.rp=!1);
if(f.length){this.ob();d=this.pu();if(p()&&!this.Oc)q(f,d,function(){C("Saved state to IndexedDB storage ("+d.length+" bytes)");a.Ed=d;a.trigger(Z.prototype.k.hk,null);a.Ed="";m&&e()},function(c){try{localStorage.setItem("__c2save_"+f,d),C("Saved state to WebStorage ("+d.length+" bytes)"),a.Ed=d,a.trigger(Z.prototype.k.hk,null),a.Ed="",m&&e()}catch(b){C("Failed to save game state: "+c+"; "+b),a.trigger(Z.prototype.k.Rm,null)}});else try{localStorage.setItem("__c2save_"+f,d),C("Saved state to WebStorage ("+
d.length+" bytes)"),a.Ed=d,this.trigger(Z.prototype.k.hk,null),a.Ed="",m&&e()}catch(b){C("Error saving to WebStorage: "+b),a.trigger(Z.prototype.k.Rm,null)}this.aj=this.cm="";this.Pa=null}if(c.length){if(p()&&!this.Oc)r(c,function(f){f?(a.Pa=f,C("Loaded state from IndexedDB storage ("+a.Pa.length+" bytes)")):(a.Pa=localStorage.getItem("__c2save_"+c)||"",C("Loaded state from WebStorage ("+a.Pa.length+" bytes)"));a.Ph=!1;a.Pa||(a.Pa=null,a.trigger(Z.prototype.k.bi,null))},function(){a.Pa=localStorage.getItem("__c2save_"+
c)||"";C("Loaded state from WebStorage ("+a.Pa.length+" bytes)");a.Ph=!1;a.Pa||(a.Pa=null,a.trigger(Z.prototype.k.bi,null))});else{try{this.Pa=localStorage.getItem("__c2save_"+c)||"",C("Loaded state from WebStorage ("+this.Pa.length+" bytes)")}catch(g){this.Pa=null}this.Ph=!1;a.Pa||(a.Pa=null,a.trigger(Z.prototype.k.bi,null))}this.cm=this.aj=""}null!==this.Pa&&(this.ob(),this.Et(this.Pa)?(this.Ed=this.Pa,this.trigger(Z.prototype.k.Aq,null),this.Ed=""):a.trigger(Z.prototype.k.bi,null),this.Pa=null)};
b.prototype.pu=function(){var f,d,c,m,b,e,g,k={c2save:!0,version:1,rt:{time:this.Vb.qa,walltime:this.dk.qa,timescale:this.ng,tickcount:this.lg,execcount:this.Oe,next_uid:this.wh,running_layout:this.fa.S,start_time_offset:Date.now()-this.Oj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};f=0;for(d=this.p.length;f<d;f++)if(b=this.p[f],!b.F&&!this.zm(b)){e={instances:[]};Ma(b.J)&&(e.ex=a(b.J));c=0;for(m=b.i.length;c<m;c++)e.instances.push(this.$l(b.i[c]));k.types[b.S.toString()]=e}f=
0;for(d=this.Rc.length;f<d;f++)c=this.Rc[f],k.layouts[c.S.toString()]=c.lb();m=k.events.groups;f=0;for(d=this.yf.length;f<d;f++)c=this.yf[f],m[c.S.toString()]=this.Kf[c.Rg].Re;d=k.events.cnds;for(g in this.ae)this.ae.hasOwnProperty(g)&&(f=this.ae[g],Ma(f.J)&&(d[g]={ex:a(f.J)}));d=k.events.acts;for(g in this.Vd)this.Vd.hasOwnProperty(g)&&(f=this.Vd[g],Ma(f.J)&&(d[g]={ex:a(f.J)}));d=k.events.vars;for(g in this.qg)this.qg.hasOwnProperty(g)&&(f=this.qg[g],f.Si||f.parent&&!f.bh||(d[g]=f.data));k.system=
this.od.lb();return JSON.stringify(k)};b.prototype.cp=function(){var a,f,d,c,m,b;this.Hd={};a=0;for(f=this.p.length;a<f;a++)if(d=this.p[a],!d.F)for(c=0,m=d.i.length;c<m;c++)b=d.i[c],this.Hd[b.uid.toString()]=b};b.prototype.Et=function(a){var f;try{f=JSON.parse(a)}catch(d){return!1}if(!f.c2save||1<f.version)return!1;this.Yg=!0;a=f.rt;this.Vb.reset();this.Vb.qa=a.time;this.dk.reset();this.dk.qa=a.walltime||0;this.ng=a.timescale;this.lg=a.tickcount;this.Oe=a.execcount;this.Oj=Date.now()-a.start_time_offset;
var c=a.running_layout;if(c!==this.fa.S)if(c=this.Fn(c))this.pn(c);else return;var m,b,e,g,k,l,v;l=f.types;for(b in l)if(l.hasOwnProperty(b)&&(g=this.Ni(parseInt(b,10)))&&!g.F&&!this.zm(g)){l[b].ex?g.J=l[b].ex:Na(g.J);k=g.i;e=l[b].instances;c=0;for(m=na(k.length,e.length);c<m;c++)this.bj(k[c],e[c]);c=e.length;for(m=k.length;c<m;c++)this.uf(k[c]);c=k.length;for(m=e.length;c<m;c++){k=null;if(g.va.le&&(k=this.fa.Mi(e[c].w.l),!k))continue;k=this.de(g.oc,k,!1,0,0,!0);this.bj(k,e[c])}g.jg=!0}this.ob();
this.cp();m=f.layouts;for(b in m)m.hasOwnProperty(b)&&(c=this.Fn(parseInt(b,10)))&&c.Cb(m[b]);m=f.events.groups;for(b in m)m.hasOwnProperty(b)&&(c=this.Hs(parseInt(b,10)))&&this.Kf[c.Rg]&&this.Kf[c.Rg].Ij(m[b]);c=f.events.cnds;for(b in this.ae)this.ae.hasOwnProperty(b)&&(c.hasOwnProperty(b)?this.ae[b].J=c[b].ex:this.ae[b].J={});c=f.events.acts;for(b in this.Vd)this.Vd.hasOwnProperty(b)&&(c.hasOwnProperty(b)?this.Vd[b].J=c[b].ex:this.Vd[b].J={});c=f.events.vars;for(b in c)c.hasOwnProperty(b)&&this.qg.hasOwnProperty(b)&&
(this.qg[b].data=c[b]);this.wh=a.next_uid;this.Yg=!1;c=0;for(m=this.Ei.length;c<m;++c)k=this.Ei[c],this.trigger(Object.getPrototypeOf(k.type.va).k.ai,k);W(this.Ei);this.od.Cb(f.system);c=0;for(m=this.p.length;c<m;c++)if(g=this.p[c],!g.F&&!this.zm(g))for(f=0,b=g.i.length;f<b;f++){k=g.i[f];if(g.Mb)for(l=k.Qg(),W(k.siblings),a=0,e=g.Sb.length;a<e;a++)v=g.Sb[a],g!==v&&k.siblings.push(v.i[l]);k.sd&&k.sd();if(k.G)for(a=0,e=k.G.length;a<e;a++)l=k.G[a],l.sd&&l.sd()}return this.U=!0};b.prototype.$l=function(f,
d){var c,m,b,e,g;e=f.type;b=e.va;var k={};d?k.c2=!0:k.uid=f.uid;Ma(f.J)&&(k.ex=a(f.J));if(f.Na&&f.Na.length)for(k.ivs={},c=0,m=f.Na.length;c<m;c++)k.ivs[f.type.fl[c].toString()]=f.Na[c];if(b.le){b={x:f.x,y:f.y,w:f.width,h:f.height,l:f.n.S,zi:f.hd()};0!==f.j&&(b.a=f.j);1!==f.opacity&&(b.o=f.opacity);.5!==f.Kb&&(b.hX=f.Kb);.5!==f.Lb&&(b.hY=f.Lb);0!==f.pb&&(b.bm=f.pb);f.visible||(b.v=f.visible);f.ud||(b.ce=f.ud);-1!==f.vh&&(b.mts=f.vh);if(e.L.length)for(b.fx=[],c=0,m=e.L.length;c<m;c++)g=e.L[c],b.fx.push({name:g.name,
active:f.Ud[g.index],params:f.xa[g.index]});k.w=b}if(f.G&&f.G.length)for(k.behs={},c=0,m=f.G.length;c<m;c++)e=f.G[c],e.lb&&(k.behs[e.type.S.toString()]=e.lb());f.lb&&(k.data=f.lb());return k};b.prototype.Js=function(a,f){var d,c;d=0;for(c=a.fl.length;d<c;d++)if(a.fl[d]===f)return d;return-1};b.prototype.Es=function(a,f){var d,c;d=0;for(c=a.G.length;d<c;d++)if(a.G[d].type.S===f)return d;return-1};b.prototype.bj=function(a,f,d){var c,m,b,e,g;g=a.type;var k=g.va;if(d){if(!f.c2)return}else a.uid=f.uid;
f.ex?a.J=f.ex:Na(a.J);if(m=f.ivs)for(c in m)m.hasOwnProperty(c)&&(b=this.Js(g,parseInt(c,10)),0>b||b>=a.Na.length||(e=m[c],null===e&&(e=NaN),a.Na[b]=e));if(k.le){b=f.w;a.n.S!==b.l&&(m=a.n,a.n=this.fa.Mi(b.l),a.n?(m.dg(a,!0),a.n.vg(a,!0),a.q(),a.n.Ih(0)):(a.n=m,d||this.uf(a)));a.x=b.x;a.y=b.y;a.width=b.w;a.height=b.h;a.bd=b.zi;a.j=b.hasOwnProperty("a")?b.a:0;a.opacity=b.hasOwnProperty("o")?b.o:1;a.Kb=b.hasOwnProperty("hX")?b.hX:.5;a.Lb=b.hasOwnProperty("hY")?b.hY:.5;a.visible=b.hasOwnProperty("v")?
b.v:!0;a.ud=b.hasOwnProperty("ce")?b.ce:!0;a.vh=b.hasOwnProperty("mts")?b.mts:-1;a.pb=b.hasOwnProperty("bm")?b.bm:0;a.Bg=Ya(a.pb);this.A&&Za(a,a.pb,this.A);a.q();if(b.hasOwnProperty("fx"))for(d=0,m=b.fx.length;d<m;d++)e=g.Qk(b.fx[d].name),0>e||(a.Ud[e]=b.fx[d].active,a.xa[e]=b.fx[d].params);a.$c()}if(g=f.behs)for(c in g)g.hasOwnProperty(c)&&(d=this.Es(a,parseInt(c,10)),0>d||a.G[d].Cb(g[c]));f.data&&a.Cb(f.data)};b.prototype.un=function(a,f,d){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+
"www/"+a,function(a){a.file(f,d)},d)};b.prototype.ys=function(a,f){this.un("data.js",function(d){var c=new FileReader;c.onload=function(f){a(f.target.result)};c.onerror=f;c.readAsText(d)},f)};var L=[],K=0;b.prototype.El=function(){if(L.length&&!(8<=K)){K++;var a=L.shift();this.pr(a.filename,a.vu,a.Pr)}};b.prototype.xs=function(a,f,d){var c=this;L.push({filename:a,vu:function(a){K--;c.El();f(a)},Pr:function(a){K--;c.El();d(a)}});this.El()};b.prototype.pr=function(a,f,d){this.un(a,function(a){var d=
new FileReader;d.onload=function(a){f(a.target.result)};d.readAsArrayBuffer(a)},d)};b.prototype.zs=function(a,f,d){var c="",b=a.toLowerCase(),m=b.substr(b.length-4),b=b.substr(b.length-5);".mp4"===m?c="video/mp4":".webm"===b?c="video/webm":".m4a"===m?c="audio/mp4":".mp3"===m&&(c="audio/mpeg");this.xs(a,function(a){a=URL.createObjectURL(new Blob([a],{type:c}));f(a)},d)};b.prototype.pt=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};b.prototype.kp=function(a,
f){this.Xn&&!this.pt(f)?this.zs(f,function(f){a.src=f},function(a){alert("Failed to load image: "+a)}):a.src=f};b.prototype.Gj=function(a,f){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=f:(a.webkitImageSmoothingEnabled=f,a.mozImageSmoothingEnabled=f,a.msImageSmoothingEnabled=f)};Gb=function(a){return new b(document.getElementById(a))};Hb=function(a,f){return new b({dc:!0,width:a,height:f})};window.cr_createRuntime=Gb;window.cr_createDCRuntime=Hb;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.fi=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,
window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var b=document.getElementById("c2canvas");return b?b.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(b,h){var p=window.cr_getC2Runtime();p&&p.lr(b,h)};window.cr_sizeCanvas=function(b,h){if(0!==b&&0!==h){var p=window.cr_getC2Runtime();p&&p.setSize(b,h)}};window.cr_setSuspended=function(b){var h=window.cr_getC2Runtime();h&&h.setSuspended(b)};
(function(){function b(a,c){this.b=a;this.Me=null;this.scrollX=this.b.Fa/2;this.scrollY=this.b.Ea/2;this.scale=1;this.j=0;this.If=!0;this.name=c[0];this.Ut=c[1];this.Tt=c[2];this.width=c[1];this.height=c[2];this.Kp=c[3];this.qp=c[4];this.S=c[5];var b=c[6],e,t;this.M=[];this.Vg=[];e=0;for(t=b.length;e<t;e++){var h=new Ib(this,b[e]);h.Ko=e;this.M.push(h)}b=c[7];this.ie=[];e=0;for(t=b.length;e<t;e++){var h=b[e],l=this.b.p[h[1]];l.oc||(l.oc=h);this.ie.push(h);-1===this.Vg.indexOf(l)&&this.Vg.push(l)}this.L=
[];this.V=[];this.Ld=!0;this.xa=[];e=0;for(t=c[8].length;e<t;e++)this.L.push({id:c[8][e][0],name:c[8][e][1],Ha:-1,Uc:!1,ac:!0,index:e}),this.xa.push(c[8][e][2].slice(0));this.$c();this.Sl=new V(0,0,1,1);this.Tl=new V(0,0,1,1);this.ue={}}function h(a,c){return a.bd-c.bd}function p(a,c){this.Ca=a;this.b=a.b;this.i=[];this.scale=1;this.j=0;this.wd=!1;this.Pd=new V(0,0,0,0);this.Fp=new ra;this.ka=this.ca=this.la=this.ba=0;this.tf=!1;this.Sd=-1;this.vk=0;this.name=c[0];this.index=c[1];this.S=c[2];this.visible=
c[3];this.Ic=c[4];this.Zc=c[5];this.wc=c[6];this.xc=c[7];this.opacity=c[8];this.Ji=c[9];this.mc=c[10];this.cd=c[11];this.pb=c[12];this.Lr=c[13];this.Bg="source-over";this.rb=this.ub=0;this.kb=null;this.Fd=n();this.Wc=!0;this.Uf=new V(0,0,-1,-1);this.gb=new V(0,0,-1,-1);this.mc&&(this.kb=new Xa(this.b.Fa,this.b.Ea));this.kd=!1;var b=c[14],e,t;this.xp=[];this.jc=[];this.Eg=[];e=0;for(t=b.length;e<t;e++){var h=b[e],l=this.b.p[h[1]];l.oc||(l.oc=h,l.jr=this.index);this.jc.push(h);-1===this.Ca.Vg.indexOf(l)&&
this.Ca.Vg.push(l)}wa(this.xp,this.jc);this.L=[];this.V=[];this.Ld=!0;this.xa=[];e=0;for(t=c[15].length;e<t;e++)this.L.push({id:c[15][e][0],name:c[15][e][1],Ha:-1,Uc:!1,ac:!0,index:e}),this.xa.push(c[15][e][2].slice(0));this.$c();this.Sl=new V(0,0,1,1);this.Tl=new V(0,0,1,1)}function n(){return a.length?a.pop():[]}function q(d){W(d);a.push(d)}b.prototype.ou=function(a){var c=a.type.S.toString();this.ue.hasOwnProperty(c)||(this.ue[c]=[]);this.ue[c].push(this.b.$l(a))};b.prototype.Ln=function(){var a=
this.M[0];return!a.Zc&&1===a.opacity&&!a.Ji&&a.visible};b.prototype.$c=function(){W(this.V);this.Ld=!0;var a,c,b;a=0;for(c=this.L.length;a<c;a++)b=this.L[a],b.ac&&(this.V.push(b),b.Uc||(this.Ld=!1))};b.prototype.Pk=function(a){var c,b,e;c=0;for(b=this.L.length;c<b;c++)if(e=this.L[c],e.name===a)return e;return null};var r=[],e=!0;b.prototype.lm=function(){this.qp&&(this.Me=this.b.Fk[this.qp],this.Me.Bm());this.b.fa=this;this.width=this.Ut;this.height=this.Tt;this.scrollX=this.b.Fa/2;this.scrollY=this.b.Ea/
2;var a,c,b,g,t,q,l;a=0;for(b=this.b.p.length;a<b;a++)if(c=this.b.p[a],!c.F)for(t=c.i,c=0,g=t.length;c<g;c++)if(q=t[c],q.n){var f=q.n.Ko;f>=this.M.length&&(f=this.M.length-1);q.n=this.M[f];-1===q.n.i.indexOf(q)&&q.n.i.push(q);q.n.tf=!0}if(!e)for(a=0,b=this.M.length;a<b;++a)this.M[a].i.sort(h);W(r);this.Yq();a=0;for(b=this.M.length;a<b;a++)q=this.M[a],q.hr(),q.bk();t=!1;if(!this.If){for(l in this.ue)if(this.ue.hasOwnProperty(l)&&(c=this.b.Ni(parseInt(l,10)))&&!c.F&&this.b.Am(c)){g=this.ue[l];a=0;for(b=
g.length;a<b;a++){q=null;if(c.va.le&&(q=this.Mi(g[a].w.l),!q))continue;q=this.b.de(c.oc,q,!1,0,0,!0);this.b.bj(q,g[a]);t=!0;r.push(q)}W(g)}a=0;for(b=this.M.length;a<b;a++)this.M[a].i.sort(h),this.M[a].tf=!0}t&&(this.b.ob(),this.b.cp());for(a=0;a<r.length;a++)if(q=r[a],q.type.Mb)for(b=q.Qg(),c=0,g=q.type.Sb.length;c<g;c++)l=q.type.Sb[c],q.type!==l&&(l.i.length>b?q.siblings.push(l.i[b]):l.oc&&(t=this.b.de(l.oc,q.n,!0,q.x,q.y,!0),this.b.ob(),l.ak(),q.siblings.push(t),r.push(t)));a=0;for(b=this.ie.length;a<
b;a++)q=this.ie[a],c=this.b.p[q[1]],c.Mb||this.b.de(this.ie[a],null,!0);this.b.zg=null;this.b.ob();if(this.b.na&&!this.b.sb)for(a=0,b=this.b.p.length;a<b;a++)l=this.b.p[a],!l.F&&l.i.length&&l.wj&&l.wj(this.b.na);if(this.b.Yg)wa(this.b.Ei,r);else for(a=0,b=r.length;a<b;a++)q=r[a],this.b.trigger(Object.getPrototypeOf(q.type.va).k.ai,q);W(r);this.b.Yg||this.b.trigger(Z.prototype.k.Om,null);this.If=!1};b.prototype.gr=function(){var a,c,b,e,t;c=a=0;for(b=this.ie.length;a<b;a++)e=this.ie[a],t=this.b.p[e[1]],
t.global?t.Mb||this.b.de(e,null,!0):(this.ie[c]=e,c++);ua(this.ie,c)};b.prototype.uu=function(){this.b.Yg||this.b.trigger(Z.prototype.k.zq,null);this.b.il=!0;W(this.b.od.Qb);var a,c,b,g,t,h;if(!this.If)for(a=0,c=this.M.length;a<c;a++)for(this.M[a].Dm(),t=this.M[a].i,b=0,g=t.length;b<g;b++)h=t[b],h.type.global||this.b.Am(h.type)&&this.ou(h);a=0;for(c=this.M.length;a<c;a++){t=this.M[a].i;b=0;for(g=t.length;b<g;b++)h=t[b],h.type.global||this.b.uf(h);this.b.ob();W(t);this.M[a].tf=!0}a=0;for(c=this.b.p.length;a<
c;a++)if(t=this.b.p[a],!(t.global||t.va.le||t.va.Nj||t.F)){b=0;for(g=t.i.length;b<g;b++)this.b.uf(t.i[b]);this.b.ob()}e=!1;this.b.il=!1};new V(0,0,0,0);b.prototype.xd=function(a){var c,b=a,e=!1,t=!this.b.gc;t&&(this.b.$i||(this.b.$i=document.createElement("canvas"),c=this.b.$i,c.width=this.b.I,c.height=this.b.H,this.b.jo=c.getContext("2d"),e=!0),c=this.b.$i,b=this.b.jo,c.width!==this.b.I&&(c.width=this.b.I,e=!0),c.height!==this.b.H&&(c.height=this.b.H,e=!0),e&&this.b.Gj(b,this.b.ua));b.globalAlpha=
1;b.globalCompositeOperation="source-over";this.b.hn&&!this.Ln()&&b.clearRect(0,0,this.b.I,this.b.H);var h,l,e=0;for(h=this.M.length;e<h;e++)l=this.M[e],l.visible&&0<l.opacity&&11!==l.pb&&(l.i.length||!l.Zc)?l.xd(b):l.bk();t&&a.drawImage(c,0,0,this.b.width,this.b.height)};b.prototype.Je=function(a){a.jp(!0);this.b.Da||(this.b.Da=a.fc(this.b.I,this.b.H,this.b.ua));if(this.b.Da.Fe!==this.b.I||this.b.Da.Ee!==this.b.H)a.deleteTexture(this.b.Da),this.b.Da=a.fc(this.b.I,this.b.H,this.b.ua);a.zc(this.b.Da);
this.b.gc||a.nf(this.b.I,this.b.H);var c,b;for(c=this.M.length-1;0<=c;--c)b=this.M[c],b.visible&&1===b.opacity&&b.Ld&&0===b.pb&&(b.i.length||!b.Zc)?b.Je(a):b.bk();a.jp(!1)};b.prototype.Tb=function(a){var c=0<this.V.length||this.b.og||!this.b.gc||this.b.da;if(c){this.b.Da||(this.b.Da=a.fc(this.b.I,this.b.H,this.b.ua));if(this.b.Da.Fe!==this.b.I||this.b.Da.Ee!==this.b.H)a.deleteTexture(this.b.Da),this.b.Da=a.fc(this.b.I,this.b.H,this.b.ua);a.zc(this.b.Da);this.b.gc||a.nf(this.b.I,this.b.H)}else this.b.Da&&
(a.zc(null),a.deleteTexture(this.b.Da),this.b.Da=null);this.b.hn&&!this.Ln()&&a.clear(0,0,0,0);var b,e,t;b=0;for(e=this.M.length;b<e;b++)t=this.M[b],t.visible&&0<t.opacity&&(t.i.length||!t.Zc)?t.Tb(a):t.bk();c&&(0===this.V.length||1===this.V.length&&this.b.gc?(1===this.V.length?(c=this.V[0].index,a.Pb(this.V[0].Ha),a.fg(null,1/this.b.I,1/this.b.H,0,0,1,1,this.scale,this.j,0,0,this.b.I/2,this.b.H/2,this.b.Vb.qa,this.xa[c]),a.xj(this.V[0].Ha)&&(this.b.U=!0)):a.Pb(0),this.b.gc||a.nf(this.b.width,this.b.height),
a.zc(null),a.ip(!1),a.lf(1),a.Yb(this.b.Da),a.gp(),a.ld(),a.ad(),c=this.b.width/2,b=this.b.height/2,a.Eh(-c,b,c,b,c,-b,-c,-b),a.Yb(null),a.ip(!0)):this.Ul(a,null,null,null))};b.prototype.Pg=function(){return 0<this.V.length||this.b.og||!this.b.gc||this.b.da?this.b.Da:null};b.prototype.Gn=function(){var a=this.M[0].qc(),c,b,e;c=1;for(b=this.M.length;c<b;c++)e=this.M[c],(0!==e.wc||0!==e.xc)&&e.qc()<a&&(a=e.qc());return a};b.prototype.dm=function(a){if(!this.Kp){var c=1/this.Gn()*this.b.I/2;a>this.width-
c&&(a=this.width-c);a<c&&(a=c)}this.scrollX!==a&&(this.scrollX=a,this.b.U=!0)};b.prototype.em=function(a){if(!this.Kp){var c=1/this.Gn()*this.b.H/2;a>this.height-c&&(a=this.height-c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.b.U=!0)};b.prototype.Yq=function(){this.dm(this.scrollX);this.em(this.scrollY)};b.prototype.Ul=function(a,c,b,e){var t=b?b.V:c?c.V:this.V,h=1,l=0,f=0,m=0,v=this.b.I,q=this.b.H;b?(h=b.n.qc(),l=b.n.pc(),f=b.n.ba,m=b.n.ca,v=b.n.la,q=b.n.ka):c&&(h=c.qc(),l=c.pc(),f=c.ba,m=
c.ca,v=c.la,q=c.ka);var u=this.b.Mk,r,n,p,x,w=0,B=1,R,N,F=this.b.I,H=this.b.H,O=F/2,L=H/2,K=c?c.Sl:this.Sl,y=c?c.Tl:this.Tl,A=0,E=0,J=0,I=0,P=F,ba=F,G=H,ka=H,da=p=0;x=b?b.n.pc():0;if(b){r=0;for(n=t.length;r<n;r++)p+=a.Ns(t[r].Ha),da+=a.Os(t[r].Ha);I=b.ra;A=c.Bb(I.left,I.top,!0,!0);J=c.Bb(I.left,I.top,!1,!0);P=c.Bb(I.right,I.bottom,!0,!0);G=c.Bb(I.right,I.bottom,!1,!0);0!==x&&(r=c.Bb(I.right,I.top,!0,!0),n=c.Bb(I.right,I.top,!1,!0),E=c.Bb(I.left,I.bottom,!0,!0),I=c.Bb(I.left,I.bottom,!1,!0),x=Math.min(A,
P,r,E),P=Math.max(A,P,r,E),A=x,x=Math.min(J,G,n,I),G=Math.max(J,G,n,I),J=x);A-=p;J-=da;P+=p;G+=da;y.left=A/F;y.top=1-J/H;y.right=P/F;y.bottom=1-G/H;E=A=T(A);I=J=T(J);ba=P=pa(P);ka=G=pa(G);E-=p;I-=da;ba+=p;ka+=da;0>A&&(A=0);0>J&&(J=0);P>F&&(P=F);G>H&&(G=H);0>E&&(E=0);0>I&&(I=0);ba>F&&(ba=F);ka>H&&(ka=H);K.left=A/F;K.top=1-J/H;K.right=P/F;K.bottom=1-G/H}else K.left=y.left=0,K.top=y.top=0,K.right=y.right=1,K.bottom=y.bottom=1;da=b&&(a.Ch(t[0].Ha)||0!==p||0!==da||1!==b.opacity||b.type.va.Io)||c&&!b&&
1!==c.opacity;a.gp();if(da){u[w]||(u[w]=a.fc(F,H,this.b.ua));if(u[w].Fe!==F||u[w].Ee!==H)a.deleteTexture(u[w]),u[w]=a.fc(F,H,this.b.ua);a.Pb(0);a.zc(u[w]);N=ka-I;a.clearRect(E,H-I-N,ba-E,N);b?b.Tb(a):(a.Yb(this.b.Oa),a.lf(c.opacity),a.ld(),a.translate(-O,-L),a.ad(),a.Kd(A,G,P,G,P,J,A,J,K));y.left=y.top=0;y.right=y.bottom=1;b&&(x=K.top,K.top=K.bottom,K.bottom=x);w=1;B=0}a.lf(1);p=t.length-1;var va=a.Pl(t[p].Ha)||!c&&!b&&!this.b.gc;r=x=0;for(n=t.length;r<n;r++){u[w]||(u[w]=a.fc(F,H,this.b.ua));if(u[w].Fe!==
F||u[w].Ee!==H)a.deleteTexture(u[w]),u[w]=a.fc(F,H,this.b.ua);a.Pb(t[r].Ha);x=t[r].index;a.xj(t[r].Ha)&&(this.b.U=!0);0!=r||da?(a.fg(e,1/F,1/H,y.left,y.top,y.right,y.bottom,h,l,f,m,(f+v)/2,(m+q)/2,this.b.Vb.qa,b?b.xa[x]:c?c.xa[x]:this.xa[x]),a.Yb(null),r!==p||va?(a.zc(u[w]),N=ka-I,R=H-I-N,a.clearRect(E,R,ba-E,N)):(b?a.we(b.ub,b.rb):c&&a.we(c.ub,c.rb),a.zc(e)),a.Yb(u[B]),a.ld(),a.translate(-O,-L),a.ad(),a.Kd(A,G,P,G,P,J,A,J,K),r!==p||va||a.Yb(null)):(a.zc(u[w]),N=ka-I,R=H-I-N,a.clearRect(E,R,ba-E,
N),b?(b.fb&&b.fb.N?(R=b.fb.N,B=1/R.width,R=1/R.height):(B=1/b.width,R=1/b.height),a.fg(e,B,R,y.left,y.top,y.right,y.bottom,h,l,f,m,(f+v)/2,(m+q)/2,this.b.Vb.qa,b.xa[x]),b.Tb(a)):(a.fg(e,1/F,1/H,0,0,1,1,h,l,f,m,(f+v)/2,(m+q)/2,this.b.Vb.qa,c?c.xa[x]:this.xa[x]),a.Yb(c?this.b.Oa:this.b.Da),a.ld(),a.translate(-O,-L),a.ad(),a.Kd(A,G,P,G,P,J,A,J,K)),y.left=y.top=0,y.right=y.bottom=1,b&&!va&&(x=G,G=J,J=x));w=0===w?1:0;B=0===w?1:0}va&&(a.Pb(0),b?a.we(b.ub,b.rb):c?a.we(c.ub,c.rb):this.b.gc||(a.nf(this.b.width,
this.b.height),O=this.b.width/2,L=this.b.height/2,J=A=0,P=this.b.width,G=this.b.height),a.zc(e),a.Yb(u[B]),a.ld(),a.translate(-O,-L),a.ad(),b&&1===t.length&&!da?a.Kd(A,J,P,J,P,G,A,G,K):a.Kd(A,G,P,G,P,J,A,J,K),a.Yb(null))};b.prototype.Mi=function(a){var c,b;c=0;for(b=this.M.length;c<b;c++)if(this.M[c].S===a)return this.M[c];return null};b.prototype.lb=function(){var a,c,b,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.If,persist:this.ue,fx:[],layers:{}};
a=0;for(c=this.L.length;a<c;a++)b=this.L[a],e.fx.push({name:b.name,active:b.ac,params:this.xa[b.index]});a=0;for(c=this.M.length;a<c;a++)b=this.M[a],e.layers[b.S.toString()]=b.lb();return e};b.prototype.Cb=function(a){var c,b,e,t;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.ue=a.persist;"undefined"!==typeof a.fv&&(this.If=a.fv);var h=a.fx;c=0;for(b=h.length;c<b;c++)if(e=this.Pk(h[c].name))e.ac=h[c].active,this.xa[e.index]=h[c].params;this.$c();
c=a.layers;for(t in c)c.hasOwnProperty(t)&&(a=this.Mi(parseInt(t,10)))&&a.Cb(c[t])};ub=b;p.prototype.$c=function(){W(this.V);this.Ld=!0;var a,c,b;a=0;for(c=this.L.length;a<c;a++)b=this.L[a],b.ac&&(this.V.push(b),b.Uc||(this.Ld=!1))};p.prototype.Pk=function(a){var c,b,e;c=0;for(b=this.L.length;c<b;c++)if(e=this.L[c],e.name===a)return e;return null};p.prototype.hr=function(){var a,c,b,e,t,h;c=a=0;for(b=this.jc.length;a<b;a++){e=this.jc[a];t=this.b.p[e[1]];h=this.b.Am(t);t=!0;if(!h||this.Ca.If){e=this.b.de(e,
this,!0);if(!e)continue;r.push(e);e.type.global&&(t=!1,this.Eg.push(e.uid))}t&&(this.jc[c]=this.jc[a],c++)}this.jc.length=c;this.b.ob();!this.b.r&&this.L.length&&(this.pb=this.Lr);this.Bg=Ya(this.pb);this.b.A&&Za(this,this.pb,this.b.A);this.Wc=!0};p.prototype.dg=function(a,c){var b=ya(this.i,a);0>b||(c&&this.mc&&a.Ob&&a.Ob.right>=a.Ob.left&&(a.ha(),this.kb.update(a,a.Ob,null),a.Ob.set(0,0,-1,-1)),b===this.i.length-1?this.i.pop():(ta(this.i,b),this.Ih(b)),this.Wc=!0)};p.prototype.vg=function(a,c){a.bd=
this.i.length;this.i.push(a);c&&this.mc&&a.Ob&&a.q();this.Wc=!0};p.prototype.$t=function(a){this.i.unshift(a);this.Ih(0)};p.prototype.Jt=function(a,c,b){var e=a.hd();c=c.hd();ta(this.i,e);e<c&&c--;b&&c++;c===this.i.length?this.i.push(a):this.i.splice(c,0,a);this.Ih(e<c?e:c)};p.prototype.Ih=function(a){-1===this.Sd?this.Sd=a:a<this.Sd&&(this.Sd=a);this.Wc=this.tf=!0};p.prototype.Dm=function(){if(this.tf){-1===this.Sd&&(this.Sd=0);var a,c,b;if(this.mc)for(a=this.Sd,c=this.i.length;a<c;++a)b=this.i[a],
b.bd=a,this.kb.Gt(b.Ob);else for(a=this.Sd,c=this.i.length;a<c;++a)this.i[a].bd=a;this.tf=!1;this.Sd=-1}};p.prototype.qc=function(a){return this.Ls()*(this.b.gc||a?this.b.wg:1)};p.prototype.Ls=function(){return(this.scale*this.Ca.scale-1)*this.cd+1};p.prototype.pc=function(){return this.wd?0:Da(this.Ca.j+this.j)};var a=[],x=[],w=[];p.prototype.Tk=function(){this.Dm();this.kb.Aj(this.ba,this.ca,this.la,this.ka,w);if(!w.length)return n();if(1===w.length){var a=n();wa(a,w[0]);W(w);return a}for(var c=
!0;1<w.length;){for(var a=w,b=void 0,e=void 0,t=void 0,h=void 0,l=void 0,b=0,e=a.length;b<e-1;b+=2){var t=a[b],h=a[b+1],l=n(),f=t,m=h,v=l,D=0,u=0,r=0,p=f.length,U=m.length,M=void 0,Q=void 0;for(v.length=p+U;D<p&&u<U;++r)M=f[D],Q=m[u],M.bd<Q.bd?(v[r]=M,++D):(v[r]=Q,++u);for(;D<p;++D,++r)v[r]=f[D];for(;u<U;++u,++r)v[r]=m[u];c||(q(t),q(h));x.push(l)}1===e%2&&(c?(t=n(),wa(t,a[e-1]),x.push(t)):x.push(a[e-1]));wa(a,x);W(x);c=!1}a=w[0];W(w);return a};p.prototype.xd=function(a){this.kd=this.Ji||1!==this.opacity||
0!==this.pb;var c=this.b.canvas,b=a,e=!1;this.kd&&(this.b.Zi||(this.b.Zi=document.createElement("canvas"),c=this.b.Zi,c.width=this.b.I,c.height=this.b.H,this.b.io=c.getContext("2d"),e=!0),c=this.b.Zi,b=this.b.io,c.width!==this.b.I&&(c.width=this.b.I,e=!0),c.height!==this.b.H&&(c.height=this.b.H,e=!0),e&&this.b.Gj(b,this.b.ua),this.Zc&&b.clearRect(0,0,this.b.I,this.b.H));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.Zc||(b.fillStyle="rgb("+this.Ic[0]+","+this.Ic[1]+","+this.Ic[2]+")",
b.fillRect(0,0,this.b.I,this.b.H));b.save();this.wd=!0;var e=this.xb(0,0,!0,!0),h=this.xb(0,0,!1,!0);this.wd=!1;this.b.Tc&&(e=Math.round(e),h=Math.round(h));this.Cj(e,h,b);var r=this.qc();b.scale(r,r);b.translate(-e,-h);this.mc?(this.gb.left=this.kb.Gb(this.ba),this.gb.top=this.kb.Hb(this.ca),this.gb.right=this.kb.Gb(this.la),this.gb.bottom=this.kb.Hb(this.ka),this.Wc||!this.gb.Hg(this.Uf)?(q(this.Fd),e=this.Tk(),this.Wc=!1,this.Uf.Cg(this.gb)):e=this.Fd):e=this.i;for(var l,f=null,h=0,r=e.length;h<
r;++h)l=e[h],l!==f&&(this.Gr(l,b),f=l);this.mc&&(this.Fd=e);b.restore();this.kd&&(a.globalCompositeOperation=this.Bg,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};p.prototype.Gr=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.ha();var b=a.ra;b.right<this.ba||b.bottom<this.ca||b.left>this.la||b.top>this.ka||(c.globalCompositeOperation=a.Bg,a.xd(c))}};p.prototype.bk=function(){this.wd=!0;var a=this.xb(0,0,!0,!0),c=this.xb(0,0,!1,!0);this.wd=!1;this.b.Tc&&(a=Math.round(a),c=Math.round(c));
this.Cj(a,c,null)};p.prototype.Cj=function(a,c,b){var e=this.qc();this.ba=a;this.ca=c;this.la=a+1/e*this.b.I;this.ka=c+1/e*this.b.H;this.ba>this.la&&(a=this.ba,this.ba=this.la,this.la=a);this.ca>this.ka&&(a=this.ca,this.ca=this.ka,this.ka=a);a=this.pc();0!==a&&(b&&(b.translate(this.b.I/2,this.b.H/2),b.rotate(-a),b.translate(this.b.I/-2,this.b.H/-2)),this.Pd.set(this.ba,this.ca,this.la,this.ka),this.Pd.offset((this.ba+this.la)/-2,(this.ca+this.ka)/-2),this.Fp.op(this.Pd,a),this.Fp.an(this.Pd),this.Pd.offset((this.ba+
this.la)/2,(this.ca+this.ka)/2),this.ba=this.Pd.left,this.ca=this.Pd.top,this.la=this.Pd.right,this.ka=this.Pd.bottom)};p.prototype.Je=function(a){if(this.kd=this.Ji){this.b.Oa||(this.b.Oa=a.fc(this.b.I,this.b.H,this.b.ua));if(this.b.Oa.Fe!==this.b.I||this.b.Oa.Ee!==this.b.H)a.deleteTexture(this.b.Oa),this.b.Oa=a.fc(this.b.I,this.b.H,this.b.ua);a.zc(this.b.Oa)}this.wd=!0;var c=this.xb(0,0,!0,!0),b=this.xb(0,0,!1,!0);this.wd=!1;this.b.Tc&&(c=Math.round(c),b=Math.round(b));this.Cj(c,b,null);c=this.qc();
a.ld();a.scale(c,c);a.Xl(-this.pc());a.translate((this.ba+this.la)/-2,(this.ca+this.ka)/-2);a.ad();this.mc?(this.gb.left=this.kb.Gb(this.ba),this.gb.top=this.kb.Hb(this.ca),this.gb.right=this.kb.Gb(this.la),this.gb.bottom=this.kb.Hb(this.ka),this.Wc||!this.gb.Hg(this.Uf)?(q(this.Fd),c=this.Tk(),this.Wc=!1,this.Uf.Cg(this.gb)):c=this.Fd):c=this.i;for(var e,h=null,b=c.length-1;0<=b;--b)e=c[b],e!==h&&(this.Ir(c[b],a),h=e);this.mc&&(this.Fd=c);this.Zc||(this.vk=this.b.Le++,a.Hj(this.vk),a.hp(1,1,1),a.xn(),
a.gu())};p.prototype.Tb=function(a){var c=0,b=0;if(this.kd=this.Ji||1!==this.opacity||0<this.V.length||0!==this.pb){this.b.Oa||(this.b.Oa=a.fc(this.b.I,this.b.H,this.b.ua));if(this.b.Oa.Fe!==this.b.I||this.b.Oa.Ee!==this.b.H)a.deleteTexture(this.b.Oa),this.b.Oa=a.fc(this.b.I,this.b.H,this.b.ua);a.zc(this.b.Oa);this.Zc&&a.clear(0,0,0,0)}this.Zc||(this.b.da?(a.Hj(this.vk),a.hp(this.Ic[0]/255,this.Ic[1]/255,this.Ic[2]/255),a.xn(),a.qu()):a.clear(this.Ic[0]/255,this.Ic[1]/255,this.Ic[2]/255,1));this.wd=
!0;var e=this.xb(0,0,!0,!0),c=this.xb(0,0,!1,!0);this.wd=!1;this.b.Tc&&(e=Math.round(e),c=Math.round(c));this.Cj(e,c,null);e=this.qc();a.ld();a.scale(e,e);a.Xl(-this.pc());a.translate((this.ba+this.la)/-2,(this.ca+this.ka)/-2);a.ad();this.mc?(this.gb.left=this.kb.Gb(this.ba),this.gb.top=this.kb.Hb(this.ca),this.gb.right=this.kb.Gb(this.la),this.gb.bottom=this.kb.Hb(this.ka),this.Wc||!this.gb.Hg(this.Uf)?(q(this.Fd),c=this.Tk(),this.Wc=!1,this.Uf.Cg(this.gb)):c=this.Fd):c=this.i;var h,r,l=null,b=0;
for(h=c.length;b<h;++b)r=c[b],r!==l&&(this.Hr(c[b],a),l=r);this.mc&&(this.Fd=c);this.kd&&(c=this.V.length?this.V[0].Ha:0,b=this.V.length?this.V[0].index:0,0===this.V.length||1===this.V.length&&!a.Pl(c)&&1===this.opacity?(1===this.V.length?(a.Pb(c),a.fg(this.Ca.Pg(),1/this.b.I,1/this.b.H,0,0,1,1,e,this.pc(),this.ba,this.ca,(this.ba+this.la)/2,(this.ca+this.ka)/2,this.b.Vb.qa,this.xa[b]),a.xj(c)&&(this.b.U=!0)):a.Pb(0),a.zc(this.Ca.Pg()),a.lf(this.opacity),a.Yb(this.b.Oa),a.we(this.ub,this.rb),a.ld(),
a.ad(),e=this.b.I/2,c=this.b.H/2,a.Eh(-e,c,e,c,e,-c,-e,-c),a.Yb(null)):this.Ca.Ul(a,this,null,this.Ca.Pg()))};p.prototype.Hr=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.ha();var b=a.ra;b.right<this.ba||b.bottom<this.ca||b.left>this.la||b.top>this.ka||(c.Hj(a.Le),a.Rp?this.Jr(a,c):(c.Pb(0),c.we(a.ub,a.rb),a.Tb(c)))}};p.prototype.Ir=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.ha();var b=a.ra;b.right<this.ba||b.bottom<this.ca||b.left>this.la||b.top>this.ka||(a.Le=this.b.Le++,
0===a.pb&&1===a.opacity&&a.Ld&&a.Je&&(c.Hj(a.Le),a.Je(c)))}};p.prototype.Jr=function(a,c){var b=a.V[0].Ha,e=a.V[0].index,h=this.qc();if(1!==a.V.length||c.Pl(b)||c.bu(b)||(a.j||a.n.pc())&&c.Ch(b)||1!==a.opacity||a.type.va.Io)this.Ca.Ul(c,this,a,this.kd?this.b.Oa:this.Ca.Pg()),c.ld(),c.scale(h,h),c.Xl(-this.pc()),c.translate((this.ba+this.la)/-2,(this.ca+this.ka)/-2),c.ad();else{c.Pb(b);c.we(a.ub,a.rb);c.xj(b)&&(this.b.U=!0);var q=0,l=0,f=0,m=0;c.Ch(b)&&(m=a.ra,q=this.Bb(m.left,m.top,!0,!0),l=this.Bb(m.left,
m.top,!1,!0),f=this.Bb(m.right,m.bottom,!0,!0),m=this.Bb(m.right,m.bottom,!1,!0),q=q/windowWidth,l=1-l/windowHeight,f=f/windowWidth,m=1-m/windowHeight);var v;a.fb&&a.fb.N?(v=a.fb.N,b=1/v.width,v=1/v.height):(b=1/a.width,v=1/a.height);c.fg(this.kd?this.b.Oa:this.Ca.Pg(),b,v,q,l,f,m,h,this.pc(),this.ba,this.ca,(this.ba+this.la)/2,(this.ca+this.ka)/2,this.b.Vb.qa,a.xa[e]);a.Tb(c)}};p.prototype.xb=function(a,b,e,g){var h=this.b.devicePixelRatio;this.b.Ve&&(a*=h,b*=h);var h=this.b.Qo,q=this.b.Ro,h=(this.Ca.scrollX-
h)*this.wc+h,q=(this.Ca.scrollY-q)*this.xc+q,l=h,f=q,m=1/this.qc(!g);g?(l-=this.b.I*m/2,f-=this.b.H*m/2):(l-=this.b.width*m/2,f-=this.b.height*m/2);l+=a*m;f+=b*m;b=this.pc();0!==b&&(l-=h,f-=q,a=Math.cos(b),b=Math.sin(b),g=l*a-f*b,f=f*a+l*b,l=g+h,f+=q);return e?l:f};p.prototype.Bb=function(a,b,e,g){var h=this.b.Qo,q=this.b.Ro,l=(this.Ca.scrollX-h)*this.wc+h,f=(this.Ca.scrollY-q)*this.xc+q,q=l,h=f,m=this.pc();if(0!==m){a-=l;b-=f;var v=Math.cos(-m),m=Math.sin(-m),r=a*v-b*m;b=b*v+a*m;a=r+l;b+=f}l=1/this.qc(!g);
g?(q-=this.b.I*l/2,h-=this.b.H*l/2):(q-=this.b.width*l/2,h-=this.b.height*l/2);q=(a-q)/l;h=(b-h)/l;a=this.b.devicePixelRatio;this.b.Ve&&!g&&(q/=a,h/=a);return e?q:h};p.prototype.lb=function(){var a,b,e,g={s:this.scale,a:this.j,vl:this.ba,vt:this.ca,vr:this.la,vb:this.ka,v:this.visible,bc:this.Ic,t:this.Zc,px:this.wc,py:this.xc,o:this.opacity,zr:this.cd,fx:[],cg:this.Eg,instances:[]};a=0;for(b=this.L.length;a<b;a++)e=this.L[a],g.fx.push({name:e.name,active:e.ac,params:this.xa[e.index]});return g};
p.prototype.Cb=function(a){var b,e,g;this.scale=a.s;this.j=a.a;this.ba=a.vl;this.ca=a.vt;this.la=a.vr;this.ka=a.vb;this.visible=a.v;this.Ic=a.bc;this.Zc=a.t;this.wc=a.px;this.xc=a.py;this.opacity=a.o;this.cd=a.zr;this.Eg=a.cg||[];wa(this.jc,this.xp);var q=new ca;b=0;for(g=this.Eg.length;b<g;++b)q.add(this.Eg[b]);e=b=0;for(g=this.jc.length;b<g;++b)q.contains(this.jc[b][2])||(this.jc[e]=this.jc[b],++e);ua(this.jc,e);e=a.fx;b=0;for(g=e.length;b<g;b++)if(a=this.Pk(e[b].name))a.ac=e[b].active,this.xa[a.index]=
e[b].params;this.$c();this.i.sort(h);this.tf=!0};Ib=p})();
(function(){function b(a,b){var c,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<e;c++)if(a[c]!==b[c])return!1;return!0}}function h(a,b){return a.index-b.index}function p(a){var c,e,d,g;2===a.length?a[0].index>a[1].index&&(c=a[0],a[0]=a[1],a[1]=c):2<a.length&&a.sort(h);a.length>=t.length&&(t.length=a.length+1);t[a.length]||(t[a.length]=[]);g=t[a.length];c=0;for(e=g.length;c<e;c++)if(d=g[c],b(a,d))return d;g.push(a);return a}
function n(a,b){this.b=a;this.Ip={};this.tn={};this.$k=!1;this.Nn=new ca;this.Ak=[];this.jk=[];this.name=b[0];var c=b[1];this.fe=[];var e,d;e=0;for(d=c.length;e<d;e++)this.Pn(c[e],null,this.fe)}function q(a){this.type=a;this.i=[];this.R=[];this.Z=!0}function r(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ja=[];this.xe=[];this.Mn=this.Xj=this.vm=this.dl=this.group=this.up=!1;this.Va=[];this.nc=[];this.Ac=[];this.Rg="";this.Re=this.dl=this.group=!1;this.si=null;c[1]&&(this.Rg=c[1][1].toLowerCase(),
this.group=!0,this.dl=!!c[1][0],this.si=[],this.Re=this.dl,this.b.yf.push(this),this.b.Kf[this.Rg]=this);this.uc=c[2];this.S=c[4];this.group||(this.b.$m[this.S.toString()]=this);var e=c[5];a=0;for(b=e.length;a<b;a++){var d=new Jb(this,e[a]);d.index=a;this.Va.push(d);this.Um(d.type)}e=c[6];a=0;for(b=e.length;a<b;a++)d=new Kb(this,e[a]),d.index=a,this.nc.push(d);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Pn(c[a],this,this.Ac);this.Ti=!1;this.Va.length&&(this.Ti=null==this.Va[0].type&&
this.Va[0].hb==Z.prototype.k.Gm)}function e(a,b){var c,e,d;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Mb))for(c=0,e=a.Sb.length;c<e;c++)d=a.Sb[c],a!==d&&-1===b.indexOf(d)&&b.push(d)}function a(a,b){this.cc=a;this.sheet=a.sheet;this.b=a.b;this.Q=[];this.ya=[];this.J={};this.index=-1;this.tg=!1;this.hb=this.b.Td(b[1]);this.trigger=0<b[3];this.sn=2===b[3];this.gl=b[5];this.Ct=b[6];this.S=b[7];this.b.ae[this.S.toString()]=this;-1===b[0]?(this.type=null,this.Ga=this.Zl,this.De=null,this.Kc=-1):(this.type=this.b.p[b[0]],
this.Ga=this.Ct?this.mu:this.Yl,b[2]?(this.De=this.type.Li(b[2]),this.Kc=this.type.Ok(b[2])):(this.De=null,this.Kc=-1),this.cc.parent&&this.cc.parent.Jj());this.sn&&(this.Ga=this.nu);if(10===b.length){var c,e,d=b[9];c=0;for(e=d.length;c<e;c++){var g=new Lb(this,d[c]);this.Q.push(g)}this.ya.length=d.length}}function x(a,b){this.cc=a;this.sheet=a.sheet;this.b=a.b;this.Q=[];this.ya=[];this.J={};this.index=-1;this.tg=!1;this.hb=this.b.Td(b[1]);-1===b[0]?(this.type=null,this.Ga=this.Zl,this.De=null,this.Kc=
-1):(this.type=this.b.p[b[0]],this.Ga=this.Yl,b[2]?(this.De=this.type.Li(b[2]),this.Kc=this.type.Ok(b[2])):(this.De=null,this.Kc=-1));this.S=b[3];this.b.Vd[this.S.toString()]=this;if(6===b.length){var c,e,d=b[5];c=0;for(e=d.length;c<e;c++){var g=new Lb(this,d[c]);this.Q.push(g)}this.ya.length=d.length}}function w(){l++;z.length===l&&z.push(new Mb);return z[l]}function d(a,b){this.vc=a;this.cc=a.cc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.gd=null;this.Md=0;this.get=null;this.jn=0;this.Ca=
null;this.key=0;this.object=null;this.index=0;this.Vh=this.of=this.Vh=this.of=this.vn=this.Ne=this.Wh=null;this.Cc=!1;var c,e,d;switch(b[0]){case 0:case 7:this.gd=new Nb(this,b[1]);this.Md=0;this.get=this.Ws;break;case 1:this.gd=new Nb(this,b[1]);this.Md=0;this.get=this.Xs;break;case 5:this.gd=new Nb(this,b[1]);this.Md=0;this.get=this.bt;break;case 3:case 8:this.jn=b[1];this.get=this.Us;break;case 6:this.Ca=this.b.tl[b[1]];this.get=this.ct;break;case 9:this.key=b[1];this.get=this.$s;break;case 4:this.object=
this.b.p[b[1]];this.get=this.dt;this.cc.Um(this.object);this.vc instanceof Kb?this.cc.Jj():this.cc.parent&&this.cc.parent.Jj();break;case 10:this.index=b[1];a.type&&a.type.F?(this.get=this.Ys,this.Cc=!0):this.get=this.Zs;break;case 11:this.Wh=b[1];this.Ne=null;this.get=this.Vs;break;case 2:case 12:this.vn=b[1];this.get=this.Ts;break;case 13:for(this.get=this.et,this.of=[],this.Vh=[],c=1,e=b.length;c<e;c++)d=new Lb(this.vc,b[c]),this.of.push(d),this.Vh.push(0)}}function c(a,b,c){this.sheet=a;this.parent=
b;this.b=a.b;this.ja=[];this.name=c[1];this.cl=c[3];this.bh=!!c[4];this.Si=!!c[5];this.S=c[6];this.b.qg[this.S.toString()]=this;this.data=this.cl;this.parent?(this.ef=this.bh||this.Si?-1:this.b.tu++,this.b.Tq.push(this)):(this.ef=-1,this.b.Sq.push(this))}function k(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ja=[];this.Ug=null;this.kt=c[1];this.ac=!0}function g(){this.yp=[];this.reset(null)}var t=[];n.prototype.toString=function(){return this.name};n.prototype.Pn=function(a,b,c){switch(a[0]){case 0:a=
new Ob(this,b,a);if(a.uc)for(c.push(a),c=0,b=a.Va.length;c<b;c++)a.Va[c].trigger&&this.Qn(a,c);else a.$n()?this.Qn(a,0):c.push(a);break;case 1:a=new Fb(this,b,a);c.push(a);break;case 2:a=new Pb(this,b,a),c.push(a)}};n.prototype.Ba=function(){var a,b;a=0;for(b=this.fe.length;a<b;a++)this.fe[a].Ba(a<b-1&&this.fe[a+1].Ti)};n.prototype.Bm=function(){W(this.Ak);W(this.jk);this.Tm(this);W(this.jk)};n.prototype.Tm=function(a){var b,c,e,d,g=a.Ak,l=a.jk,k=this.Nn.Rd();b=0;for(c=k.length;b<c;++b)e=k[b],d=e.Ug,
!e.ac||a===d||-1<l.indexOf(d)||(l.push(d),d.Tm(a),g.push(d))};n.prototype.Ga=function(a){this.b.Wv||(this.$k=!0,a||(this.b.ll=!0));var b,c;b=0;for(c=this.fe.length;b<c;b++){var e=this.fe[b];e.Ga();this.b.uk(e.ja);this.b.he&&this.b.ob()}a||(this.b.ll=!1)};n.prototype.Qn=function(a,b){a.uc||this.b.Zj.push(a);var c,e,d=a.Va[b],g;d.type?g=d.type.name:g="system";var l=(c=d.sn)?this.tn:this.Ip;l[g]||(l[g]=[]);g=l[g];l=d.hb;if(c){if(d.Q.length&&(d=d.Q[0],1===d.type&&2===d.gd.type)){d=d.gd.value.toLowerCase();
c=0;for(e=g.length;c<e;c++)if(g[c].method==l){c=g[c].Ig;c[d]?c[d].push([a,b]):c[d]=[[a,b]];return}c={};c[d]=[[a,b]];g.push({method:l,Ig:c})}}else{c=0;for(e=g.length;c<e;c++)if(g[c].method==l){g[c].Ig.push([a,b]);return}dc&&l===dc.prototype.k.xf?g.unshift({method:l,Ig:[[a,b]]}):g.push({method:l,Ig:[[a,b]]})}};vb=n;q.prototype.Zk=function(){return this.Z?this.type.i.length:this.i.length};q.prototype.hc=function(){return this.Z?this.type.i:this.i};q.prototype.Ah=function(a){a&&(a.b.Wa().zb.uc?(this.Z&&
(W(this.i),wa(this.R,a.type.i),this.Z=!1),a=this.R.indexOf(a),-1!==a&&(this.i.push(this.R[a]),this.R.splice(a,1))):(this.Z=!1,W(this.i),this.i[0]=a))};eb=q;window._c2hh_="15044A03B0852397C4C7D3896B375C768AC90998";r.prototype.Ba=function(a){var b,c=this.parent;if(this.group)for(this.Xj=!0;c;){if(!c.group){this.Xj=!1;break}c=c.parent}this.vm=!this.$n()&&(!this.parent||this.parent.group&&this.parent.Xj);this.Mn=!!a;this.xe=this.ja.slice(0);for(c=this.parent;c;){a=0;for(b=c.ja.length;a<b;a++)this.Rq(c.ja[a]);
c=c.parent}this.ja=p(this.ja);this.xe=p(this.xe);a=0;for(b=this.Va.length;a<b;a++)this.Va[a].Ba();a=0;for(b=this.nc.length;a<b;a++)this.nc[a].Ba();a=0;for(b=this.Ac.length;a<b;a++)this.Ac[a].Ba(a<b-1&&this.Ac[a+1].Ti)};r.prototype.Ij=function(a){if(this.Re!==!!a){this.Re=!!a;var b;a=0;for(b=this.si.length;a<b;++a)this.si[a].Mp();0<b&&this.b.fa.Me&&this.b.fa.Me.Bm()}};r.prototype.Um=function(a){e(a,this.ja)};r.prototype.Rq=function(a){e(a,this.xe)};r.prototype.Jj=function(){this.up=!0;this.parent&&
this.parent.Jj()};r.prototype.$n=function(){return this.Va.length?this.Va[0].trigger:!1};r.prototype.Ga=function(){var a,b,c=!1,e=this.b,d=this.b.Wa();d.zb=this;var g=this.Va;this.Ti||(d.Ck=!1);if(this.uc){0===g.length&&(c=!0);d.Ua=0;for(a=g.length;d.Ua<a;d.Ua++)b=g[d.Ua],b.trigger||(b=b.Ga())&&(c=!0);(d.Ze=c)&&this.Dj()}else{d.Ua=0;for(a=g.length;d.Ua<a;d.Ua++)if(b=g[d.Ua].Ga(),!b){d.Ze=!1;this.vm&&e.he&&e.ob();return}d.Ze=!0;this.Dj()}this.Nr(d)};r.prototype.Nr=function(a){a.Ze&&this.Mn&&(a.Ck=
!0);this.vm&&this.b.he&&this.b.ob()};r.prototype.ku=function(a){this.b.Wa().zb=this;this.Va[a].Ga()&&(this.Dj(),this.b.Wa().Ze=!0)};r.prototype.Dj=function(){var a=this.b.Wa(),b;a.Ib=0;for(b=this.nc.length;a.Ib<b;a.Ib++)if(this.nc[a.Ib].Ga())return;this.fp()};r.prototype.hu=function(){var a=this.b.Wa(),b;for(b=this.nc.length;a.Ib<b;a.Ib++)if(this.nc[a.Ib].Ga())return;this.fp()};r.prototype.fp=function(){if(this.Ac.length){var a,b,c,e,d=this.Ac.length-1;this.b.zj(this);if(this.up)for(a=0,b=this.Ac.length;a<
b;a++)c=this.Ac[a],(e=!this.Xj||!this.group&&a<d)&&this.b.yj(c.ja),c.Ga(),e?this.b.hf(c.ja):this.b.uk(c.ja);else for(a=0,b=this.Ac.length;a<b;a++)this.Ac[a].Ga();this.b.vj()}};r.prototype.lu=function(){var a=this.b.Wa();a.zb=this;var b=!1,c;a.Ua=0;for(c=this.Va.length;a.Ua<c;a.Ua++)if(this.Va[a.Ua].Ga())b=!0;else if(!this.uc)return!1;return this.uc?b:!0};r.prototype.iu=function(){this.b.Oe++;var a=this.b.Wa().Ua,b=this.b.zj(this);if(!this.uc)for(b.Ua=a+1,a=this.Va.length;b.Ua<a;b.Ua++)if(!this.Va[b.Ua].Ga()){this.b.vj();
return}this.Dj();this.b.vj()};r.prototype.yt=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Va[b].type===a.type)return!1;return!0};Ob=r;a.prototype.Ba=function(){var a,b,c;a=0;for(b=this.Q.length;a<b;a++)c=this.Q[a],c.Ba(),c.Cc&&(this.tg=!0)};a.prototype.nu=function(){return!0};a.prototype.Zl=function(){var a,b;a=0;for(b=this.Q.length;a<b;a++)this.ya[a]=this.Q[a].get();return La(this.hb.apply(this.b.od,this.ya),this.gl)};a.prototype.mu=function(){var a,b;a=0;for(b=this.Q.length;a<
b;a++)this.ya[a]=this.Q[a].get();a=this.hb.apply(this.De?this.De:this.type,this.ya);this.type.Hc();return a};a.prototype.Yl=function(){var a,b,c,e,d,g,l,k,h=this.type,q=h.T(),t=this.cc.uc&&!this.trigger;b=0;var r=h.Mb,n=h.F,p=h.Ad,x=this.Kc,w=-1<x,z=this.tg,K=this.Q,y=this.ya,A=this.gl,E=this.hb,J;if(z)for(b=0,d=K.length;b<d;++b)g=K[b],g.Cc||(y[b]=g.get(0));else for(b=0,d=K.length;b<d;++b)y[b]=K[b].get(0);if(q.Z){W(q.i);W(q.R);J=h.i;a=0;for(e=J.length;a<e;++a){k=J[a];if(z)for(b=0,d=K.length;b<d;++b)g=
K[b],g.Cc&&(y[b]=g.get(a));w?(b=0,n&&(b=k.type.Hf[p]),b=E.apply(k.G[x+b],y)):b=E.apply(k,y);(l=La(b,A))?q.i.push(k):t&&q.R.push(k)}h.finish&&h.finish(!0);q.Z=!1;h.Hc();return q.Zk()}c=0;J=(l=t&&!this.cc.yt(this))?q.R:q.i;var I=!1;a=0;for(e=J.length;a<e;++a){k=J[a];if(z)for(b=0,d=K.length;b<d;++b)g=K[b],g.Cc&&(y[b]=g.get(a));w?(b=0,n&&(b=k.type.Hf[p]),b=E.apply(k.G[x+b],y)):b=E.apply(k,y);if(La(b,A))if(I=!0,l){if(q.i.push(k),r)for(b=0,d=k.siblings.length;b<d;b++)g=k.siblings[b],g.type.T().i.push(g)}else{J[c]=
k;if(r)for(b=0,d=k.siblings.length;b<d;b++)g=k.siblings[b],g.type.T().i[c]=g;c++}else if(l){J[c]=k;if(r)for(b=0,d=k.siblings.length;b<d;b++)g=k.siblings[b],g.type.T().R[c]=g;c++}else if(t&&(q.R.push(k),r))for(b=0,d=k.siblings.length;b<d;b++)g=k.siblings[b],g.type.T().R.push(g)}ua(J,c);if(r)for(n=h.Sb,a=0,e=n.length;a<e;a++)k=n[a].T(),l?ua(k.R,c):ua(k.i,c);c=I;if(l&&!I)for(a=0,e=q.i.length;a<e;a++){k=q.i[a];if(z)for(b=0,d=K.length;b<d;b++)g=K[b],g.Cc&&(y[b]=g.get(a));b=w?E.apply(k.G[x],y):E.apply(k,
y);if(La(b,A)){I=!0;break}}h.finish&&h.finish(c||t);return t?I:q.Zk()};Jb=a;x.prototype.Ba=function(){var a,b,c;a=0;for(b=this.Q.length;a<b;a++)c=this.Q[a],c.Ba(),c.Cc&&(this.tg=!0)};x.prototype.Zl=function(){var a=this.b,b,c,e=this.Q,d=this.ya;b=0;for(c=e.length;b<c;++b)d[b]=e[b].get();return this.hb.apply(a.od,d)};x.prototype.Yl=function(){var a=this.type,b=this.Kc,c=a.Ad,e=this.tg,d=this.Q,g=this.ya,l=this.hb,k=a.T().hc(),a=a.F,h=-1<b,q,t,r,n,p,x;if(e)for(t=0,n=d.length;t<n;++t)p=d[t],p.Cc||(g[t]=
p.get(0));else for(t=0,n=d.length;t<n;++t)g[t]=d[t].get(0);q=0;for(r=k.length;q<r;++q){x=k[q];if(e)for(t=0,n=d.length;t<n;++t)p=d[t],p.Cc&&(g[t]=p.get(q));h?(t=0,a&&(t=x.type.Hf[c]),l.apply(x.G[b+t],g)):l.apply(x,g)}return!1};Kb=x;var z=[],l=-1;d.prototype.Ba=function(){var a,b;if(11===this.type)this.Ne=this.b.Dn(this.Wh,this.cc.parent);else if(13===this.type)for(a=0,b=this.of.length;a<b;a++)this.of[a].Ba();this.gd&&this.gd.Ba()};d.prototype.Ht=function(a){this.Cc||!a||a.va.Nj||(this.Cc=!0)};d.prototype.mp=
function(){this.Cc=!0};d.prototype.Ws=function(a){this.Md=a||0;a=w();this.gd.get(a);l--;return a.data};d.prototype.Xs=function(a){this.Md=a||0;a=w();this.gd.get(a);l--;return S(a.data)?a.data:""};d.prototype.dt=function(){return this.object};d.prototype.Us=function(){return this.jn};d.prototype.bt=function(a){this.Md=a||0;a=w();this.gd.get(a);l--;return a.Ya()?this.b.Ng(a.data):this.b.Sk(a.data)};d.prototype.ct=function(){return this.Ca};d.prototype.$s=function(){return this.key};d.prototype.Zs=function(){return this.index};
d.prototype.Ys=function(a){a=a||0;var b=this.vc.type,c=null,c=b.T(),e=c.hc();if(e.length)c=e[a%e.length].type;else if(c.R.length)c=c.R[a%c.R.length].type;else if(b.i.length)c=b.i[a%b.i.length].type;else return 0;return this.index+c.Di[b.Ad]};d.prototype.Vs=function(){return this.Ne};d.prototype.Ts=function(){return this.vn};d.prototype.et=function(){var a,b;a=0;for(b=this.of.length;a<b;a++)this.Vh[a]=this.of[a].get();return this.Vh};Lb=d;c.prototype.Ba=function(){this.ja=p(this.ja)};c.prototype.ru=
function(a){var b=this.b.Cn();this.parent&&!this.bh&&b?(this.ef>=b.length&&(b.length=this.ef+1),b[this.ef]=a):this.data=a};c.prototype.Ss=function(){var a=this.b.Cn();return!this.parent||this.bh||!a||this.Si?this.data:this.ef>=a.length||"undefined"===typeof a[this.ef]?this.cl:a[this.ef]};c.prototype.Ga=function(){!this.parent||this.bh||this.Si||this.ru(this.cl)};Fb=c;k.prototype.toString=function(){return"include:"+this.Ug.toString()};k.prototype.Ba=function(){this.Ug=this.b.Fk[this.kt];this.sheet.Nn.add(this);
this.ja=p(this.ja);for(var a=this.parent;a;)a.group&&a.si.push(this),a=a.parent;this.Mp()};k.prototype.Ga=function(){this.parent&&this.b.Dh(this.b.p);this.Ug.$k||this.Ug.Ga(!0);this.parent&&this.b.hf(this.b.p)};k.prototype.Mp=function(){for(var a=this.parent;a;){if(a.group&&!a.Re){this.ac=!1;return}a=a.parent}this.ac=!0};Pb=k;g.prototype.reset=function(a){this.zb=a;this.Ib=this.Ua=0;W(this.yp);this.Ck=this.Ze=!1};Eb=g})();
(function(){function b(b,a){this.vc=b;this.b=b.b;this.type=a[0];this.get=[this.es,this.as,this.rs,this.vs,this.Qr,this.ts,this.ls,this.Yr,this.ks,this.qs,this.Rr,this.ps,this.Zr,this.ns,this.gs,this.hs,this.bs,this.cs,this.Xr,this.us,this.os,this.ds,this.Wr,this.$r][this.type];var h=null;this.Gd=this.Q=this.ya=this.hb=this.Uj=this.second=this.first=this.value=null;this.Kc=-1;this.Nc=null;this.Tp=-1;this.Ne=this.Wh=null;this.eg=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Nb(b,a[1]);break;case 18:this.first=new Nb(b,a[1]);this.second=new Nb(b,a[2]);this.Uj=new Nb(b,a[3]);break;case 19:this.hb=this.b.Td(a[1]);this.hb!==Z.prototype.Ab.random&&this.hb!==Z.prototype.Ab.dr||this.vc.mp();this.ya=[];this.Q=[];3===a.length?(h=a[2],this.ya.length=h.length+1):this.ya.length=1;break;case 20:this.Gd=this.b.p[a[1]];this.Kc=-1;this.hb=this.b.Td(a[2]);this.eg=a[3];Sb.Function&&this.hb===Sb.Function.prototype.Ab.Pu&&this.vc.mp();a[4]?this.Nc=new Nb(b,a[4]):this.Nc=null;this.ya=
[];this.Q=[];6===a.length?(h=a[5],this.ya.length=h.length+1):this.ya.length=1;break;case 21:this.Gd=this.b.p[a[1]];this.eg=a[2];a[3]?this.Nc=new Nb(b,a[3]):this.Nc=null;this.Tp=a[4];break;case 22:this.Gd=this.b.p[a[1]];this.Gd.Li(a[2]);this.Kc=this.Gd.Ok(a[2]);this.hb=this.b.Td(a[3]);this.eg=a[4];a[5]?this.Nc=new Nb(b,a[5]):this.Nc=null;this.ya=[];this.Q=[];7===a.length?(h=a[6],this.ya.length=h.length+1):this.ya.length=1;break;case 23:this.Wh=a[1],this.Ne=null}this.vc.Ht(this.Gd);4<=this.type&&17>=
this.type&&(this.first=new Nb(b,a[1]),this.second=new Nb(b,a[2]));if(h){var q,d;q=0;for(d=h.length;q<d;q++)this.Q.push(new Nb(b,h[q]))}}function h(){++r;q.length===r&&q.push(new Mb);return q[r]}function p(b,a,h){var q,d;q=0;for(d=b.length;q<d;++q)b[q].get(h),a[q+1]=h.data}function n(b,a){this.type=b||Qb.wf;this.data=a||0;this.ff=null;this.type==Qb.wf&&(this.data=Math.floor(this.data))}b.prototype.Ba=function(){23===this.type&&(this.Ne=this.vc.b.Dn(this.Wh,this.vc.cc.parent));this.first&&this.first.Ba();
this.second&&this.second.Ba();this.Uj&&this.Uj.Ba();this.Nc&&this.Nc.Ba();if(this.Q){var b,a;b=0;for(a=this.Q.length;b<a;b++)this.Q[b].Ba()}};var q=[],r=-1;b.prototype.us=function(b){var a=this.Q,q=this.ya;q[0]=b;b=h();p(a,q,b);--r;this.hb.apply(this.b.od,q)};b.prototype.os=function(b){var a=this.Gd,q=this.ya,n=this.Q,d=this.Nc,c=this.hb,k=this.vc.Md,g=a.T(),t=g.hc();if(!t.length)if(g.R.length)t=g.R;else{this.eg?b.Zb(""):b.ma(0);return}q[0]=b;b.ff=a;b=h();p(n,q,b);d&&(d.get(b),b.Ya()&&(k=b.data,t=
a.i));--r;a=t.length;if(k>=a||k<=-a)k%=a;0>k&&(k+=a);c.apply(t[k],q)};b.prototype.Wr=function(b){var a=this.Gd,q=this.ya,n=this.Q,d=this.Nc,c=this.Kc,k=this.hb,g=this.vc.Md,t=a.T(),z=t.hc();if(!z.length)if(t.R.length)z=t.R;else{this.eg?b.Zb(""):b.ma(0);return}q[0]=b;b.ff=a;b=h();p(n,q,b);d&&(d.get(b),b.Ya()&&(g=b.data,z=a.i));--r;n=z.length;if(g>=n||g<=-n)g%=n;0>g&&(g+=n);g=z[g];z=0;a.F&&(z=g.type.Hf[a.Ad]);k.apply(g.G[c+z],q)};b.prototype.ds=function(b){var a=this.Nc,q=this.Gd,n=this.Tp,d=this.vc.Md,
c=q.T(),k=c.hc();if(!k.length)if(c.R.length)k=c.R;else{this.eg?b.Zb(""):b.ma(0);return}if(a){c=h();a.get(c);if(c.Ya()){d=c.data;k=q.i;0!==k.length&&(d%=k.length,0>d&&(d+=k.length));d=q.Rk(d);q=d.Na[n];S(q)?b.Zb(q):b.K(q);--r;return}--r}a=k.length;if(d>=a||d<=-a)d%=a;0>d&&(d+=a);d=k[d];k=0;q.F&&(k=d.type.Di[q.Ad]);q=d.Na[n+k];S(q)?b.Zb(q):b.K(q)};b.prototype.es=function(b){b.type=Qb.wf;b.data=this.value};b.prototype.as=function(b){b.type=Qb.vf;b.data=this.value};b.prototype.rs=function(b){b.type=Qb.String;
b.data=this.value};b.prototype.vs=function(b){this.first.get(b);b.Ya()&&(b.data=-b.data)};b.prototype.Qr=function(b){this.first.get(b);var a=h();this.second.get(a);b.Ya()&&a.Ya()&&(b.data+=a.data,a.Nf()&&b.Wf());--r};b.prototype.ts=function(b){this.first.get(b);var a=h();this.second.get(a);b.Ya()&&a.Ya()&&(b.data-=a.data,a.Nf()&&b.Wf());--r};b.prototype.ls=function(b){this.first.get(b);var a=h();this.second.get(a);b.Ya()&&a.Ya()&&(b.data*=a.data,a.Nf()&&b.Wf());--r};b.prototype.Yr=function(b){this.first.get(b);
var a=h();this.second.get(a);b.Ya()&&a.Ya()&&(b.data/=a.data,b.Wf());--r};b.prototype.ks=function(b){this.first.get(b);var a=h();this.second.get(a);b.Ya()&&a.Ya()&&(b.data%=a.data,a.Nf()&&b.Wf());--r};b.prototype.qs=function(b){this.first.get(b);var a=h();this.second.get(a);b.Ya()&&a.Ya()&&(b.data=Math.pow(b.data,a.data),a.Nf()&&b.Wf());--r};b.prototype.Rr=function(b){this.first.get(b);var a=h();this.second.get(a);a.Pf()||b.Pf()?this.Tr(b,a):this.Sr(b,a);--r};b.prototype.Tr=function(b,a){b.Pf()&&
a.Pf()?this.Vr(b,a):this.Ur(b,a)};b.prototype.Vr=function(b,a){b.data+=a.data};b.prototype.Ur=function(b,a){b.Pf()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.Zb(b.data.toString()+a.data)};b.prototype.Sr=function(b,a){b.ma(b.data&&a.data?1:0)};b.prototype.ps=function(b){this.first.get(b);var a=h();this.second.get(a);b.Ya()&&a.Ya()&&(b.data||a.data?b.ma(1):b.ma(0));--r};b.prototype.Xr=function(b){this.first.get(b);b.data?this.second.get(b):this.Uj.get(b)};b.prototype.Zr=function(b){this.first.get(b);
var a=h();this.second.get(a);b.ma(b.data===a.data?1:0);--r};b.prototype.ns=function(b){this.first.get(b);var a=h();this.second.get(a);b.ma(b.data!==a.data?1:0);--r};b.prototype.gs=function(b){this.first.get(b);var a=h();this.second.get(a);b.ma(b.data<a.data?1:0);--r};b.prototype.hs=function(b){this.first.get(b);var a=h();this.second.get(a);b.ma(b.data<=a.data?1:0);--r};b.prototype.bs=function(b){this.first.get(b);var a=h();this.second.get(a);b.ma(b.data>a.data?1:0);--r};b.prototype.cs=function(b){this.first.get(b);
var a=h();this.second.get(a);b.ma(b.data>=a.data?1:0);--r};b.prototype.$r=function(b){var a=this.Ne.Ss();ha(a)?b.K(a):b.Zb(a)};Nb=b;n.prototype.Nf=function(){return this.type===Qb.vf};n.prototype.Ya=function(){return this.type===Qb.wf||this.type===Qb.vf};n.prototype.Pf=function(){return this.type===Qb.String};n.prototype.Wf=function(){this.Nf()||(this.Pf()&&(this.data=parseFloat(this.data)),this.type=Qb.vf)};n.prototype.ma=function(b){this.type=Qb.wf;this.data=Math.floor(b)};n.prototype.K=function(b){this.type=
Qb.vf;this.data=b};n.prototype.Zb=function(b){this.type=Qb.String;this.data=b};n.prototype.su=function(b){ha(b)?(this.type=Qb.vf,this.data=b):S(b)?(this.type=Qb.String,this.data=b.toString()):(this.type=Qb.wf,this.data=0)};Mb=n;Qb={wf:0,vf:1,String:2}})();function Z(b){this.b=b;this.Qb=[]}
Z.prototype.lb=function(){var b={},h,p,n,q,r,e,a,x;b.waits=[];var w=b.waits,d;h=0;for(p=this.Qb.length;h<p;h++){e=this.Qb[h];d={t:e.time,st:e.sp,s:e.km,ev:e.Gf.S,sm:[],sols:{}};e.Gf.nc[e.Ib]&&(d.act=e.Gf.nc[e.Ib].S);n=0;for(q=e.ja.length;n<q;n++)d.sm.push(e.ja[n].S);for(r in e.Db)if(e.Db.hasOwnProperty(r)){a=this.b.p[parseInt(r,10)];x={sa:e.Db[r].Ej,insts:[]};n=0;for(q=e.Db[r].Cd.length;n<q;n++)x.insts.push(e.Db[r].Cd[n].uid);d.sols[a.S.toString()]=x}w.push(d)}return b};
Z.prototype.Cb=function(b){b=b.waits;var h,p,n,q,r,e,a,x,w,d,c;W(this.Qb);h=0;for(p=b.length;h<p;h++)if(e=b[h],x=this.b.$m[e.ev.toString()]){w=-1;n=0;for(q=x.nc.length;n<q;n++)if(x.nc[n].S===e.act){w=n;break}if(-1!==w){a={Db:{},ja:[],Bk:!1};a.time=e.t;a.sp=e.st||"";a.km=!!e.s;a.Gf=x;a.Ib=w;n=0;for(q=e.sm.length;n<q;n++)(x=this.b.Ni(e.sm[n]))&&a.ja.push(x);for(r in e.sols)if(e.sols.hasOwnProperty(r)&&(x=this.b.Ni(parseInt(r,10)))){w=e.sols[r];d={Ej:w.sa,Cd:[]};n=0;for(q=w.insts.length;n<q;n++)(c=this.b.Og(w.insts[n]))&&
d.Cd.push(c);a.Db[x.index.toString()]=d}this.Qb.push(a)}}};
(function(){function b(){}function h(){}function p(){}var n=Z.prototype;b.prototype.Om=function(){return!0};b.prototype.zq=function(){return!0};b.prototype.kq=function(b){return(b=this.b.Kf[b.toLowerCase()])&&b.Re};b.prototype.Gm=function(){var b=this.b.Wa();return b.Ck?!1:!b.Ze};b.prototype.Pm=function(){return!0};b.prototype.sq=function(){return!0};b.prototype.hk=function(){return!0};b.prototype.Rm=function(){return!0};b.prototype.Aq=function(){return!0};b.prototype.bi=function(){return!0};b.prototype.Yp=
function(b,a,h){return Ha(X(b),X(h))<=X(a)};b.prototype.jq=function(b,a){return Ja(X(b),X(a))};b.prototype.iq=function(b,a,h){b=Fa(b);a=Fa(a);h=Fa(h);return Ja(h,a)?Ja(b,a)&&!Ja(b,h):!(!Ja(b,a)&&Ja(b,h))};n.k=new b;h.prototype.hq=function(b){this.b.dh||this.b.zg||(this.b.zg=b)};h.prototype.Fq=function(b,a){var h=this.b.Kf[b.toLowerCase()];if(h)switch(a){case 0:h.Ij(!1);break;case 1:h.Ij(!0);break;case 2:h.Ij(!h.Re)}};var q=[],r=[];h.prototype.Nq=function(b){if(!(0>b)){var a,h,n,d=this.b.Wa(),c;q.length?
c=q.pop():c={Db:{},ja:[]};c.Bk=!1;c.time=this.b.Vb.qa+b;c.sp="";c.km=!1;c.Gf=d.zb;c.Ib=d.Ib+1;b=0;for(a=this.b.p.length;b<a;b++)n=this.b.p[b],h=n.T(),h.Z&&-1===d.zb.ja.indexOf(n)||(c.ja.push(n),n=void 0,r.length?n=r.pop():n={Cd:[]},n.Ej=!1,n.Ej=h.Z,wa(n.Cd,h.i),c.Db[b.toString()]=n);this.Qb.push(c);return!0}};n.aa=new h;p.prototype["int"]=function(b,a){S(a)?(b.ma(parseInt(a,10)),isNaN(b.data)&&(b.data=0)):b.ma(a)};p.prototype["float"]=function(b,a){S(a)?(b.K(parseFloat(a)),isNaN(b.data)&&(b.data=
0)):b.K(a)};p.prototype.random=function(b,a,h){void 0===h?b.K(Math.random()*a):b.K(Math.random()*(h-a)+a)};p.prototype.sqrt=function(b,a){b.K(Math.sqrt(a))};p.prototype.abs=function(b,a){b.K(Math.abs(a))};p.prototype.round=function(b,a){b.ma(Math.round(a))};p.prototype.floor=function(b,a){b.ma(Math.floor(a))};p.prototype.ceil=function(b,a){b.ma(Math.ceil(a))};p.prototype.sin=function(b,a){b.K(Math.sin(X(a)))};p.prototype.cos=function(b,a){b.K(Math.cos(X(a)))};p.prototype.tan=function(b,a){b.K(Math.tan(X(a)))};
p.prototype.asin=function(b,a){b.K(Ba(Math.asin(a)))};p.prototype.acos=function(b,a){b.K(Ba(Math.acos(a)))};p.prototype.atan=function(b,a){b.K(Ba(Math.atan(a)))};p.prototype.exp=function(b,a){b.K(Math.exp(a))};p.prototype.log10=function(b,a){b.K(Math.log(a)/Math.LN10)};p.prototype.max=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var h,q,d;h=2;for(q=arguments.length;h<q;h++)d=arguments[h],"number"===typeof d&&a<d&&(a=d);b.K(a)};p.prototype.min=function(b){var a=arguments[1];"number"!==
typeof a&&(a=0);var h,q,d;h=2;for(q=arguments.length;h<q;h++)d=arguments[h],"number"===typeof d&&a>d&&(a=d);b.K(a)};p.prototype.Ff=function(b){b.K(this.b.Ff)};p.prototype.ng=function(b){b.K(this.b.ng)};p.prototype.time=function(b){b.K(this.b.Vb.qa)};p.prototype.lg=function(b){b.ma(this.b.lg)};p.prototype.oj=function(b){b.ma(this.b.oj)};p.prototype.Kk=function(b){b.ma(this.b.Kk)};p.prototype.j=function(b,a,h,q,d){b.K(Ba(Ga(a,h,q,d)))};p.prototype.left=function(b,a,h){b.Zb(S(a)?a.substr(0,h):"")};p.prototype.right=
function(b,a,h){b.Zb(S(a)?a.substr(a.length-h):"")};p.prototype.replace=function(b,a,h,q){S(a)&&S(h)&&S(q)?b.Zb(a.replace(new RegExp(Ua(h),"gi"),q)):b.Zb(S(a)?a:"")};p.prototype.trim=function(b,a){b.Zb(S(a)?a.trim():"")};p.prototype.dr=function(b){var a=T(Math.random()*(arguments.length-1));b.su(arguments[a+1])};p.prototype.wk=function(b){b.K(this.b.wk/1E3)};p.prototype.ej=function(b){b.K(this.b.ej)};n.Ab=new p;n.ju=function(){var b,a,h,n,d,c,k=this.b.Wa();b=0;for(h=this.Qb.length;b<h;b++){n=this.Qb[b];
if(-1===n.time){if(!n.km)continue}else if(n.time>this.b.Vb.qa)continue;k.zb=n.Gf;k.Ib=n.Ib;k.Ua=0;for(a in n.Db)n.Db.hasOwnProperty(a)&&(d=this.b.p[parseInt(a,10)].T(),c=n.Db[a],d.Z=c.Ej,wa(d.i,c.Cd),d=c,W(d.Cd),r.push(d));n.Gf.hu();this.b.uk(n.ja);n.Bk=!0}a=b=0;for(h=this.Qb.length;b<h;b++)n=this.Qb[b],this.Qb[a]=n,n.Bk?(Na(n.Db),W(n.ja),q.push(n)):a++;ua(this.Qb,a)}})();
(function(){db=function(b,p){var n=b[1],q=b[3],r=b[4],e=b[5],a=b[6],x=b[7],w=b[8];p.k||(p.k={});p.aa||(p.aa={});p.Ab||(p.Ab={});var d=p.k,c=p.aa,k=p.Ab;q&&(d.Tu=function(a,b){return Rb(this.x,a,b)},d.Uu=function(a,b){return Rb(this.y,a,b)},d.$u=function(){var a=this.n;this.ha();var b=this.ra;return!(b.right<a.ba||b.bottom<a.ca||b.left>a.la||b.top>a.ka)},d.av=function(){this.ha();var a=this.ra,b=this.b.fa;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},d.ov=function(a,b,c){var d=this.T(),
f=d.hc();if(!f.length)return!1;var e=f[0],k=e,h=Ka(e.x,e.y,b,c),q,n,r;q=1;for(n=f.length;q<n;q++)if(e=f[q],r=Ka(e.x,e.y,b,c),0===a&&r<h||1===a&&r>h)h=r,k=e;d.Ah(k);return!0},c.Hv=function(a){this.x!==a&&(this.x=a,this.q())},c.Iv=function(a){this.y!==a&&(this.y=a,this.q())},c.Cv=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.q()},c.Iq=function(a,b){var c=a.Ms(this);if(c){var d;c.Mg?(d=c.Mg(b,!0),c=c.Mg(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.q()}},c.hv=
function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.q())},c.gv=function(a,b){0!==b&&(this.x+=Math.cos(X(a))*b,this.y+=Math.sin(X(a))*b,this.q())},k.Sm=function(a){a.K(this.x)},k.Qq=function(a){a.K(this.y)},k.Ff=function(a){a.K(this.b.Lg(this))});r&&(d.Su=function(a,b){return Rb(this.width,a,b)},d.Qu=function(a,b){return Rb(this.height,a,b)},c.Gv=function(a){this.width!==a&&(this.width=a,this.q())},c.Av=function(a){this.height!==a&&(this.height=a,this.q())},c.Dv=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.q()},k.Mv=function(a){a.K(this.width)},k.Wu=function(a){a.K(this.height)},k.Mu=function(a){this.ha();a.K(this.ra.left)},k.Ou=function(a){this.ha();a.K(this.ra.top)},k.Nu=function(a){this.ha();a.K(this.ra.right)},k.Lu=function(a){this.ha();a.K(this.ra.bottom)});e&&(d.Yp=function(a,b){return Ha(this.j,X(b))<=X(a)},d.jq=function(a){return Ja(this.j,X(a))},d.iq=function(a,b){var c=Fa(a),d=Fa(b),f=Da(this.j);return Ja(d,c)?Ja(f,c)&&
!Ja(f,d):!(!Ja(f,c)&&Ja(f,d))},c.wv=function(a){a=X(Ca(a));isNaN(a)||this.j===a||(this.j=a,this.q())},c.sv=function(a){0===a||isNaN(a)||(this.j+=X(a),this.j=Da(this.j),this.q())},c.tv=function(a){0===a||isNaN(a)||(this.j-=X(a),this.j=Da(this.j),this.q())},c.uv=function(a,b){var c=Ia(this.j,X(b),X(a));isNaN(c)||this.j===c||(this.j=c,this.q())},c.vv=function(a,b,c){a=Ia(this.j,Math.atan2(c-this.y,b-this.x),X(a));isNaN(a)||this.j===a||(this.j=a,this.q())},c.Ev=function(a,b){var c=Math.atan2(b-this.y,
a-this.x);isNaN(c)||this.j===c||(this.j=c,this.q())},k.Ku=function(a){a.K(Ea(this.j))});n||(d.bq=function(a,b,c){return Rb(this.Na[a],b,c)},d.Yu=function(a){return this.Na[a]},d.pv=function(a,b){var c=this.T(),d=c.hc();if(!d.length)return!1;var f=d[0],e=f,k=f.Na[b],h,q,r;h=1;for(q=d.length;h<q;h++)if(f=d[h],r=f.Na[b],0===a&&r<k||1===a&&r>k)k=r,e=f;c.Ah(e);return!0},d.nv=function(a){var b,c,d,f,e;if(this.b.Bn().gl){e=this.T();if(e.Z)for(e.Z=!1,W(e.i),W(e.R),d=this.i,b=0,c=d.length;b<c;b++)f=d[b],f.uid===
a?e.R.push(f):e.i.push(f);else{d=b=0;for(c=e.i.length;b<c;b++)f=e.i[b],e.i[d]=f,f.uid===a?e.R.push(f):d++;ua(e.i,d)}this.Hc();return!!e.i.length}f=this.b.Og(a);if(!f)return!1;e=this.T();if(!e.Z&&-1===e.i.indexOf(f))return!1;if(this.F)for(a=f.type.ta,b=0,c=a.length;b<c;b++){if(a[b]===this)return e.Ah(f),this.Hc(),!0}else if(f.type===this)return e.Ah(f),this.Hc(),!0;return!1},d.ai=function(){return!0},d.uq=function(){return!0},c.Gq=function(a,b){var c=this.Na;ha(c[a])?c[a]=ha(b)?b:parseFloat(b):S(c[a])&&
(c[a]=S(b)?b:b.toString())},c.Ju=function(a,b){var c=this.Na;ha(c[a])?c[a]=ha(b)?c[a]+b:c[a]+parseFloat(b):S(c[a])&&(c[a]=S(b)?c[a]+b:c[a]+b.toString())},c.Jv=function(a,b){var c=this.Na;ha(c[a])&&(c[a]=ha(b)?c[a]-b:c[a]-parseFloat(b))},c.xv=function(a,b){this.Na[a]=b?1:0},c.Kv=function(a){this.Na[a]=1-this.Na[a]},c.fq=function(){this.b.uf(this)},c.nq||(c.nq=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.bj(this,b,!0);this.sd&&this.sd();if(this.G)for(a=0,b=this.G.length;a<b;++a)c=
this.G[a],c.sd&&c.sd()}),k.Vu=function(a){var b=a.ff.i.length,c,d,f;c=0;for(d=this.b.Mc.length;c<d;c++)f=this.b.Mc[c],a.ff.F?0<=f.type.ta.indexOf(a.ff)&&b++:f.type===a.ff&&b++;a.ma(b)},k.rv=function(a){a.ma(a.ff.T().hc().length)},k.Lv=function(a){a.ma(this.uid)},k.Xu=function(a){a.ma(this.Qg())},k.Zp||(k.Zp=function(a){a.Zb(JSON.stringify(this.b.$l(this,!0)))}));a&&(d.bv=function(){return this.visible},c.Fv=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.U=!0)},d.Ru=function(a,b){return Rb($a(100*
this.opacity),a,b)},c.Bv=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.U=!0)},k.Opacity=function(a){a.K($a(100*this.opacity))});x&&(d.Zu=function(a){return a?this.n===a:!1},d.qv=function(a){var b=this.T(),c=b.hc();if(!c.length)return!1;var d=c[0],f=d,e,k;e=1;for(k=c.length;e<k;e++)if(d=c[e],0===a){if(d.n.index>f.n.index||d.n.index===f.n.index&&d.hd()>f.hd())f=d}else if(d.n.index<f.n.index||d.n.index===f.n.index&&d.hd()<f.hd())f=d;b.Ah(f);return!0},c.kv=function(){var a=
this.n,b=a.i;b.length&&b[b.length-1]===this||(a.dg(this,!1),a.vg(this,!1),this.b.U=!0)},c.iv=function(){var a=this.n,b=a.i;b.length&&b[0]===this||(a.dg(this,!1),a.$t(this),this.b.U=!0)},c.jv=function(a){a&&a!=this.n&&(this.n.dg(this,!0),this.n=a,a.vg(this,!0),this.b.U=!0)},c.Ov=function(a,b){var c=0===a;if(b){var d=b.En(this);d&&d.uid!==this.uid&&(this.n.index!==d.n.index&&(this.n.dg(this,!0),this.n=d.n,d.n.vg(this,!0)),this.n.Jt(this,d,c),this.b.U=!0)}},k.dv=function(a){a.ma(this.n.Ko)},k.cv=function(a){a.Zb(this.n.name)},
k.Nv=function(a){a.ma(this.hd())});w&&(c.yv=function(a,b){if(this.b.r){var c=this.type.Qk(b);if(!(0>c)){var d=1===a;this.Ud[c]!==d&&(this.Ud[c]=d,this.$c(),this.b.U=!0)}}},c.zv=function(a,b,c){if(this.b.r){var d=this.type.Qk(a);0>d||(a=this.type.L[d],d=this.xa[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.r.Ps(a.Ha,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.ac&&(this.b.U=!0))))}})};wb=function(){this.rk=this.lk=!0;this.type.ci=!0;this.b.U=!0;var b,p,n=this.mk;b=0;for(p=n.length;b<p;++b)n[b](this);this.n.mc&&
this.ha()};xb=function(b){b&&this.mk.push(b)};zb=function(){if(this.lk){var b=this.ra,p=this.ec;b.set(this.x,this.y,this.x+this.width,this.y+this.height);b.offset(-this.Kb*this.width,-this.Lb*this.height);this.j?(b.offset(-this.x,-this.y),p.op(b,this.j),p.offset(this.x,this.y),p.an(b)):p.Jh(b);b.normalize();this.lk=!1;this.Au()}};var b=new V(0,0,0,0);Ab=function(){if(this.n.mc){var h=this.n.kb,p=this.ra;b.set(h.Gb(p.left),h.Hb(p.top),h.Gb(p.right),h.Hb(p.bottom));this.Ob.Hg(b)||(this.Ob.right<this.Ob.left?
h.update(this,null,b):h.update(this,this.Ob,b),this.Ob.Cg(b),this.n.Wc=!0)}};Bb=function(){if(this.rk&&this.ud){this.ha();var h=this.type.ri,p=this.ra;b.set(h.Gb(p.left),h.Hb(p.top),h.Gb(p.right),h.Hb(p.bottom));this.be.Hg(b)||(this.be.right<this.be.left?h.update(this,null,b):h.update(this,this.be,b),this.be.Cg(b),this.rk=!1)}};yb=function(b,p){return this.ra.qb(b,p)&&this.ec.qb(b,p)?this.mg?this.xu(b,p):this.W&&!this.W.Mf()?(this.W.Ge(this.width,this.height,this.j),this.W.qb(b-this.x,p-this.y)):
!0:!1};sb=function(){this.type.ak();return this.Te};Cb=function(){this.n.Dm();return this.bd};Db=function(){W(this.V);var b,p,n,q=!0;b=0;for(p=this.Ud.length;b<p;b++)this.Ud[b]&&(n=this.type.L[b],this.V.push(n),n.Uc||(q=!1));this.Rp=!!this.V.length;this.Ld=q};tb=function(){return"Inst"+this.Zo};gb=function(b){if(b&&b.Mb&&b.type!=this){var p,n,q;p=0;for(n=b.siblings.length;p<n;p++)if(q=b.siblings[p],q.type==this)return q}b=this.T().hc();return b.length?b[0]:null};hb=function(b){var p=this.T().hc();
return p.length?p[b.Qg()%p.length]:null};fb=function(){if(this.jg&&!this.F){var b,p;b=0;for(p=this.i.length;b<p;b++)this.i[b].Te=b;var n=b,q=this.b.Mc;b=0;for(p=q.length;b<p;++b)q[b].type===this&&(q[b].Te=n++);this.jg=!1}};qb=function(b){if(b<this.i.length)return this.i[b];b-=this.i.length;var p=this.b.Mc,n,q;n=0;for(q=p.length;n<q;++n)if(p[n].type===this){if(0===b)return p[n];--b}return null};ib=function(){return this.Nd[this.fd]};jb=function(){this.fd++;this.fd===this.Nd.length?this.Nd.push(new eb(this)):
(this.Nd[this.fd].Z=!0,W(this.Nd[this.fd].R))};kb=function(){this.fd++;this.fd===this.Nd.length&&this.Nd.push(new eb(this));var b=this.Nd[this.fd],p=this.Nd[this.fd-1];p.Z?(b.Z=!0,W(b.R)):(b.Z=!1,wa(b.i,p.i),wa(b.R,p.R))};lb=function(){this.fd--};mb=function(b){var p,n,q,r,e,a=0;if(!this.F)for(p=0,n=this.ta.length;p<n;p++)for(e=this.ta[p],q=0,r=e.wa.length;q<r;q++){if(b===e.wa[q].name)return this.J.lastBehIndex=a,e.wa[q];a++}p=0;for(n=this.wa.length;p<n;p++){if(b===this.wa[p].name)return this.J.lastBehIndex=
a,this.wa[p];a++}return null};nb=function(b){return this.Li(b)?this.J.lastBehIndex:-1};ob=function(b){var p,n;p=0;for(n=this.L.length;p<n;p++)if(this.L[p].name===b)return p;return-1};pb=function(){if(this.Mb&&!this.F){var b,p,n,q,r,e,a;this.ak();e=this.T();var x=e.Z,w=(b=this.b.Wa())&&b.zb&&b.zb.uc;b=0;for(p=this.Sb.length;b<p;b++)if(r=this.Sb[b],r!==this&&(r.ak(),a=r.T(),a.Z=x,!x)){W(a.i);n=0;for(q=e.i.length;n<q;++n)a.i[n]=r.Rk(e.i[n].Te);if(w)for(W(a.R),n=0,q=e.R.length;n<q;++n)a.R[n]=r.Rk(e.R[n].Te)}}};
rb=function(){return"Type"+this.S};Rb=function(b,p,n){if("undefined"===typeof b||"undefined"===typeof n)return!1;switch(p){case 0:return b===n;case 1:return b!==n;case 2:return b<n;case 3:return b<=n;case 4:return b>n;case 5:return b>=n;default:return!1}}})();var $b={};function ec(b){this.b=b}
(function(){function b(){}var h=ec.prototype;h.ia=function(b){this.va=b;this.b=b.b};h.ia.prototype.P=function(){};h.Y=function(b){this.type=b;this.b=b.b;this.gh=Array(256);this.Uh=Array(256);this.Qd=0};var p=h.Y.prototype;p.P=function(){var b=this;this.b.sb||(jQuery(document).keydown(function(h){b.Il(h)}),jQuery(document).keyup(function(h){b.Jl(h)}))};var n=[32,33,34,35,36,37,38,39,40,44];p.Il=function(b){var h=!1;window!=window.top&&-1<n.indexOf(b.which)&&(b.preventDefault(),h=!0,b.stopPropagation());
if(this.gh[b.which])this.Uh[b.which]&&!h&&b.preventDefault();else{this.gh[b.which]=!0;this.Qd=b.which;this.b.rc=!0;this.b.trigger(ec.prototype.k.rq,this);var e=this.b.trigger(ec.prototype.k.Lm,this),a=this.b.trigger(ec.prototype.k.xq,this);this.b.rc=!1;if(e||a)this.Uh[b.which]=!0,h||b.preventDefault()}};p.Jl=function(b){this.gh[b.which]=!1;this.Qd=b.which;this.b.rc=!0;this.b.trigger(ec.prototype.k.Im,this);var h=this.b.trigger(ec.prototype.k.Nm,this),e=this.b.trigger(ec.prototype.k.Mm,this);this.b.rc=
!1;if(h||e||this.Uh[b.which])this.Uh[b.which]=!0,b.preventDefault()};p.te=function(){var b;for(b=0;256>b;++b)if(this.gh[b]){this.gh[b]=!1;this.Qd=b;this.b.trigger(ec.prototype.k.Im,this);var h=this.b.trigger(ec.prototype.k.Nm,this),e=this.b.trigger(ec.prototype.k.Mm,this);if(h||e)this.Uh[b]=!0}};p.lb=function(){return{triggerKey:this.Qd}};p.Cb=function(b){this.Qd=b.triggerKey};b.prototype.Lm=function(b){return b===this.Qd};b.prototype.rq=function(){return!0};b.prototype.Im=function(){return!0};b.prototype.Nm=
function(b){return b===this.Qd};b.prototype.xq=function(b){return b===this.Qd};b.prototype.Mm=function(b){return b===this.Qd};h.k=new b;h.aa=new function(){};h.Ab=new function(){}})();function fc(b){this.b=b}
(function(){function b(){}function h(){}var p=fc.prototype;p.ia=function(b){this.va=b;this.b=b.b};p.ia.prototype.P=function(){};p.Y=function(b){this.type=b;this.b=b.b;this.zf=Array(4);this.Gp=this.Yj=this.rf=this.re=this.qe=0;this.Yk=!1};var n=p.Y.prototype;n.P=function(){var b=this;if(!this.b.sb){jQuery(document).mousemove(function(a){b.Pt(a)});jQuery(document).mousedown(function(a){b.Ot(a)});jQuery(document).mouseup(function(a){b.Qt(a)});jQuery(document).dblclick(function(a){b.Nt(a)});var e=function(a){b.St(a)};
document.addEventListener("mousewheel",e,!1);document.addEventListener("DOMMouseScroll",e,!1)}};var q={left:0,top:0};n.Pt=function(b){var e=this.b.sb?q:jQuery(this.b.canvas).offset();this.qe=b.pageX-e.left;this.re=b.pageY-e.top};n.Ho=function(){return 0<this.b.Jb?!0:0<=this.qe&&0<=this.re&&this.qe<this.b.width&&this.re<this.b.height};n.Ot=function(b){this.Ho()&&(this.zf[b.which]=!0,this.b.rc=!0,this.b.trigger(fc.prototype.k.qq,this),this.rf=b.which-1,this.Yj=0,this.b.trigger(fc.prototype.k.Jm,this),
this.b.trigger(fc.prototype.k.gk,this),this.b.rc=!1)};n.Qt=function(b){this.zf[b.which]&&(this.b.Jn&&!this.b.Lf&&b.preventDefault(),this.b.Jn=!0,this.zf[b.which]=!1,this.b.rc=!0,this.rf=b.which-1,this.b.trigger(fc.prototype.k.Qm,this),this.b.rc=!1)};n.Nt=function(b){this.Ho()&&(b.preventDefault(),this.b.rc=!0,this.rf=b.which-1,this.Yj=1,this.b.trigger(fc.prototype.k.Jm,this),this.b.trigger(fc.prototype.k.gk,this),this.b.rc=!1)};n.St=function(b){this.Gp=0>(b.wheelDelta?b.wheelDelta:b.detail?-b.detail:
0)?0:1;this.Yk=!1;this.b.rc=!0;this.b.trigger(fc.prototype.k.Dq,this);this.b.rc=!1;this.Yk&&bb(b)&&b.preventDefault()};n.te=function(){var b,e;b=0;for(e=this.zf.length;b<e;++b)this.zf[b]&&(this.zf[b]=!1,this.rf=b-1,this.b.trigger(fc.prototype.k.Qm,this))};b.prototype.Jm=function(b,e){return b===this.rf&&e===this.Yj};b.prototype.qq=function(){return!0};b.prototype.Qm=function(b){return b===this.rf};b.prototype.gk=function(b,e,a){return b!==this.rf||e!==this.Yj?!1:this.b.wu(a,this.qe,this.re)};b.prototype.Dq=
function(b){this.Yk=!0;return b===this.Gp};p.k=new b;p.aa=new function(){};h.prototype.Sm=function(b,e){var a,h,q,d,c;ga(e)?(a=this.b.Ng(0),h=a.scale,q=a.cd,d=a.wc,c=a.j,a.scale=1,a.cd=1,a.wc=1,a.j=0,b.K(a.xb(this.qe,this.re,!0)),a.scale=h,a.cd=q,a.wc=d,a.j=c):(a=ha(e)?this.b.Ng(e):this.b.Sk(e))?b.K(a.xb(this.qe,this.re,!0)):b.K(0)};h.prototype.Qq=function(b,e){var a,h,q,d,c;ga(e)?(a=this.b.Ng(0),h=a.scale,q=a.cd,d=a.xc,c=a.j,a.scale=1,a.cd=1,a.xc=1,a.j=0,b.K(a.xb(this.qe,this.re,!1)),a.scale=h,a.cd=
q,a.xc=d,a.j=c):(a=ha(e)?this.b.Ng(e):this.b.Sk(e))?b.K(a.xb(this.qe,this.re,!1)):b.K(0)};p.Ab=new h})();function dc(b){this.b=b}
(function(){function b(){if(0===this.zk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.hg?b.drawImage(this.N,this.$f,this.ag,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.N,0,0,this.width,this.height);this.zk=a.toDataURL("image/png")}return this.zk}function h(){}function p(a){a[0]=0;a[1]=0;a[2]=0;k.push(a)}function n(a,b){return a<b?""+a+","+b:""+b+","+a}function q(a,b,c,d){b=b.uid;c=c.uid;var e=n(b,c);if(a.hasOwnProperty(e))a[e][2]=
d;else{var l=k.length?k.pop():[0,0,0];l[0]=b;l[1]=c;l[2]=d;a[e]=l}}function r(a,b,c){b=n(b.uid,c.uid);a.hasOwnProperty(b)&&(p(a[b]),delete a[b])}function e(a,b,c){b=n(b.uid,c.uid);if(a.hasOwnProperty(b))return g=a[b][2],!0;g=-2;return!1}function a(){}var x=dc.prototype;x.ia=function(a){this.va=a;this.b=a.b};var w=x.ia.prototype;w.P=function(){if(!this.F){var a,c,d,e,l,g,k,h,q;this.Fc=[];this.Sg=!1;a=0;for(c=this.Rb.length;a<c;a++){l=this.Rb[a];k={};k.name=l[0];k.speed=l[1];k.loop=l[2];k.Vl=l[3];k.Wl=
l[4];k.So=l[5];k.S=l[6];k.frames=[];d=0;for(e=l[7].length;d<e;d++)g=l[7][d],h={},h.Sj=g[0],h.nm=g[1],h.$f=g[2],h.ag=g[3],h.width=g[4],h.height=g[5],h.duration=g[6],h.Kb=g[7],h.Lb=g[8],h.bl=g[9],h.uj=g[10],h.To=g[11],h.hg=0!==h.width,h.zk="",h.Rv=b,q={left:0,top:0,right:1,bottom:1},h.jm=q,h.Aa=null,(q=this.b.As(g[0]))?h.N=q:(h.N=new Image,h.N.fr=g[0],h.N.kn=g[1],h.N.Zq=null,this.b.Up(h.N,g[0])),k.frames.push(h),this.Fc.push(h);this.Rb[a]=k}}};w.Op=function(){var a,b,c;a=0;for(b=this.i.length;a<b;a++)c=
this.i[a],c.vi=c.fb.Aa};w.qj=function(){if(!this.F){var a,b,c;a=0;for(b=this.Fc.length;a<b;++a)c=this.Fc[a],c.N.Zq=null,c.Aa=null;this.Sg=!1;this.Op()}};w.rj=function(){if(!this.F&&this.i.length){var a,b,c;a=0;for(b=this.Fc.length;a<b;++a)c=this.Fc[a],c.Aa=this.b.r.cj(c.N,this.b.ua,c.To);this.Op()}};w.ko=function(){if(!this.F&&!this.Sg&&this.b.r){var a,b,c;a=0;for(b=this.Fc.length;a<b;++a)c=this.Fc[a],c.Aa=this.b.r.cj(c.N,this.b.ua,c.To);this.Sg=!0}};w.$j=function(){if(!this.F&&!this.i.length&&this.Sg){var a,
b,c;a=0;for(b=this.Fc.length;a<b;++a)c=this.Fc[a],this.b.r.deleteTexture(c.Aa),c.Aa=null;this.Sg=!1}};var d=[];w.wj=function(a){var b,c,e;W(d);b=0;for(c=this.Fc.length;b<c;++b)e=this.Fc[b].N,-1===d.indexOf(e)&&(a.drawImage(e,0,0),d.push(e))};x.Y=function(a){this.type=a;this.b=a.b;a=this.type.Rb[0].frames[0].uj;this.Xb?this.W.Kh(a):this.W=new Va(a)};var c=x.Y.prototype;c.P=function(){this.visible=0===this.C[0];this.ud=0!==this.C[3];this.oa=this.zn(this.C[1])||this.type.Rb[0];this.D=this.C[2];0>this.D&&
(this.D=0);this.D>=this.oa.frames.length&&(this.D=this.oa.frames.length-1);var a=this.oa.frames[this.D];this.W.Kh(a.uj);this.Kb=a.Kb;this.Lb=a.Lb;this.Bf=this.oa.speed;this.ee=this.oa.Wl;1===this.type.Rb.length&&1===this.type.Rb[0].frames.length||0===this.Bf||this.b.yu(this);this.Xb?this.dd.reset():this.dd=new Ta;this.Bd=this.dd.qa;this.Ce=!0;this.td=0;this.Be=!0;this.tk=this.Vm="";this.br=0;this.sk=-1;this.type.ko();var b,c,d,e,l,g,k,a=0;for(b=this.type.Rb.length;a<b;a++)for(e=this.type.Rb[a],c=
0,d=e.frames.length;c<d;c++)l=e.frames[c],0===l.width&&(l.width=l.N.width,l.height=l.N.height),l.hg&&(k=l.N,g=l.jm,g.left=l.$f/k.width,g.top=l.ag/k.height,g.right=(l.$f+l.width)/k.width,g.bottom=(l.ag+l.height)/k.height,0===l.$f&&0===l.ag&&l.width===k.width&&l.height===k.height&&(l.hg=!1));this.fb=this.oa.frames[this.D];this.vi=this.fb.Aa};c.lb=function(){var a={a:this.oa.S,f:this.D,cas:this.Bf,fs:this.Bd,ar:this.td,at:this.dd.qa,rt:this.ee};this.Ce||(a.ap=this.Ce);this.Be||(a.af=this.Be);return a};
c.Cb=function(a){var b=this.Ds(a.a);b&&(this.oa=b);this.D=a.f;0>this.D&&(this.D=0);this.D>=this.oa.frames.length&&(this.D=this.oa.frames.length-1);this.Bf=a.cas;this.Bd=a.fs;this.td=a.ar;this.dd.reset();this.dd.qa=a.at;this.Ce=a.hasOwnProperty("ap")?a.ap:!0;this.Be=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.ee=a.rt:this.ee=this.oa.Wl;this.fb=this.oa.frames[this.D];this.vi=this.fb.Aa;this.W.Kh(this.fb.uj);this.Kb=this.fb.Kb;this.Lb=this.fb.Lb};c.kk=function(a){this.D=a?0:this.oa.frames.length-
1;this.Ce=!1;this.Vm=this.oa.name;this.b.trigger(dc.prototype.k.pq,this);this.b.trigger(dc.prototype.k.oq,this);this.td=0};c.fi=function(){return this.dd.qa};c.$b=function(){this.dd.add(this.b.Lg(this));this.tk.length&&this.mr();0<=this.sk&&this.nr();var a=this.dd.qa,b=this.oa,c=b.frames[this.D],d=c.duration/this.Bf;this.Ce&&a>=this.Bd+d&&(this.Be?this.D++:this.D--,this.Bd+=d,this.D>=b.frames.length&&(b.So?(this.Be=!1,this.D=b.frames.length-2):b.loop?this.D=this.ee:(this.td++,this.td>=b.Vl?this.kk(!1):
this.D=this.ee)),0>this.D&&(b.So?(this.D=1,this.Be=!0,b.loop||(this.td++,this.td>=b.Vl&&this.kk(!0))):b.loop?this.D=this.ee:(this.td++,this.td>=b.Vl?this.kk(!0):this.D=this.ee)),0>this.D?this.D=0:this.D>=b.frames.length&&(this.D=b.frames.length-1),a>this.Bd+b.frames[this.D].duration/this.Bf&&(this.Bd=a),a=b.frames[this.D],this.xf(c,a),this.b.U=!0)};c.zn=function(a){var b,c,d;b=0;for(c=this.type.Rb.length;b<c;b++)if(d=this.type.Rb[b],ab(d.name,a))return d;return null};c.Ds=function(a){var b,c,d;b=
0;for(c=this.type.Rb.length;b<c;b++)if(d=this.type.Rb[b],d.S===a)return d;return null};c.mr=function(){var a=this.oa.frames[this.D],b=this.zn(this.tk);this.tk="";!b||ab(b.name,this.oa.name)&&this.Ce||(this.oa=b,this.Bf=b.speed,this.ee=b.Wl,0>this.D&&(this.D=0),this.D>=this.oa.frames.length&&(this.D=this.oa.frames.length-1),1===this.br&&(this.D=0),this.Ce=!0,this.Bd=this.dd.qa,this.Be=!0,this.xf(a,this.oa.frames[this.D]),this.b.U=!0)};c.nr=function(){var a=this.oa.frames[this.D],b=this.D;this.D=T(this.sk);
0>this.D&&(this.D=0);this.D>=this.oa.frames.length&&(this.D=this.oa.frames.length-1);b!==this.D&&(this.xf(a,this.oa.frames[this.D]),this.Bd=this.dd.qa,this.b.U=!0);this.sk=-1};c.xf=function(a,b){var c=a.width,d=a.height,e=b.width,l=b.height;c!=e&&(this.width*=e/c);d!=l&&(this.height*=l/d);this.Kb=b.Kb;this.Lb=b.Lb;this.W.Kh(b.uj);this.q();this.fb=b;this.vi=b.Aa;c=0;for(d=this.G.length;c<d;c++)e=this.G[c],e.Rt&&e.Rt(a,b);this.b.trigger(dc.prototype.k.xf,this)};c.xd=function(a){a.globalAlpha=this.opacity;
var b=this.fb,c=b.hg,d=b.N,e=this.x,l=this.y,g=this.width,k=this.height;if(0===this.j&&0<=g&&0<=k)e-=this.Kb*g,l-=this.Lb*k,this.b.Tc&&(e=Math.round(e),l=Math.round(l)),c?a.drawImage(d,b.$f,b.ag,b.width,b.height,e,l,g,k):a.drawImage(d,e,l,g,k);else{this.b.Tc&&(e=Math.round(e),l=Math.round(l));a.save();var h=0<g?1:-1,q=0<k?1:-1;a.translate(e,l);1===h&&1===q||a.scale(h,q);a.rotate(this.j*h*q);e=0-this.Kb*la(g);l=0-this.Lb*la(k);c?a.drawImage(d,b.$f,b.ag,b.width,b.height,e,l,la(g),la(k)):a.drawImage(d,
e,l,la(g),la(k));a.restore()}};c.Je=function(a){this.Tb(a)};c.Tb=function(a){a.Yb(this.vi);a.lf(this.opacity);var b=this.fb,c=this.ec;if(this.b.Tc){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.hg?a.Kd(c.Ia+d,c.Ja+e,c.mb+d,c.nb+e,c.cb+d,c.eb+e,c.ab+d,c.bb+e,b.jm):a.Eh(c.Ia+d,c.Ja+e,c.mb+d,c.nb+e,c.cb+d,c.eb+e,c.ab+d,c.bb+e)}else b.hg?a.Kd(c.Ia,c.Ja,c.mb,c.nb,c.cb,c.eb,c.ab,c.bb,b.jm):a.Eh(c.Ia,c.Ja,c.mb,c.nb,c.cb,c.eb,c.ab,c.bb)};c.Is=function(a){var b=this.fb,c,d;c=0;for(d=b.bl.length;c<
d;c++)if(ab(a,b.bl[c][0]))return c;return-1};c.Mg=function(a,b){var c=this.fb,d=c.bl,e;S(a)?e=this.Is(a):e=a-1;e=T(e);if(0>e||e>=d.length)return b?this.x:this.y;var l=(d[e][1]-c.Kb)*this.width,d=d[e][2],d=(d-c.Lb)*this.height,c=Math.cos(this.j);e=Math.sin(this.j);var g=l*c-d*e,d=d*c+l*e,l=g+this.x,d=d+this.y;return b?l:d};var k=[],g=-2,t=[];h.prototype.tq=function(a){if(!a)return!1;var b=this.b,c=b.Bn(),d=c.type,l=null;c.J.collmemory?l=c.J.collmemory:(l={},c.J.collmemory=l);c.J.spriteCreatedDestroyCallback||
(c.J.spriteCreatedDestroyCallback=!0,b.ik(function(a){var b=c.J.collmemory;a=a.uid;var f,d;for(f in b)b.hasOwnProperty(f)&&(d=b[f],d[0]===a||d[1]===a)&&(p(b[f]),delete b[f])}));var k=d.T(),h=a.T(),k=k.hc(),n,x,w,B,z,N,F,H=this.b.lg,O=H-1,L=b.Wa().zb;for(x=0;x<k.length;x++){w=k[x];h.Z?(w.ha(),this.b.An(w.n,a,w.ra,t),n=t):n=h.hc();for(B=0;B<n.length;B++)z=n[B],b.Eb(w,z)||b.cr(w,z)?(N=e(l,w,z),N=!N||g<O,q(l,w,z,H),N&&(b.yj(L.ja),N=d.T(),F=a.T(),N.Z=!1,F.Z=!1,d===a?(N.i.length=2,N.i[0]=w,N.i[1]=z,d.Hc()):
(N.i.length=1,F.i.length=1,N.i[0]=w,F.i[0]=z,d.Hc(),a.Hc()),L.iu(),b.hf(L.ja))):r(l,w,z);W(t)}return!1};var z=new ca,l=!1;new V(0,0,0,0);w.finish=function(a){if(l){if(a){var b=this.b.Wa().zb.uc;a=null.T();var c=z.Rd(),d,e;if(a.Z){a.Z=!1;W(a.i);d=0;for(e=c.length;d<e;++d)a.i[d]=c[d];if(b)for(W(a.R),d=0,e=null.i.length;d<e;++d)c=null.i[d],z.contains(c)||a.R.push(c)}else if(b)for(b=a.i.length,d=0,e=c.length;d<e;++d)a.i[b+d]=c[d],za(a.R,c[d]);else wa(a.i,c);null.Hc()}z.clear();l=!1}};h.prototype.oq=function(a){return ab(this.Vm,
a)};h.prototype.pq=function(){return!0};h.prototype.xf=function(){return!0};x.k=new h;a.prototype.Kq=function(a,b,c){if(a&&b&&(b=this.b.ln(a,b,this.Mg(c,!0),this.Mg(c,!1)))){"undefined"!==typeof b.j&&(b.j=this.j,b.q());this.b.Qc++;var d,e,l;this.b.trigger(Object.getPrototypeOf(a.va).k.ai,b);if(b.Mb)for(d=0,e=b.siblings.length;d<e;d++)l=b.siblings[d],this.b.trigger(Object.getPrototypeOf(l.type.va).k.ai,l);this.b.Qc--;d=this.b.Gs();c=!1;if(ga(d.J.Spawn_LastExec)||d.J.Spawn_LastExec<this.b.Oe)c=!0,d.J.Spawn_LastExec=
this.b.Oe;if(a!=this.type&&(a=a.T(),a.Z=!1,c?(W(a.i),a.i[0]=b):a.i.push(b),b.Mb))for(d=0,e=b.siblings.length;d<e;d++)l=b.siblings[d],a=l.type.T(),a.Z=!1,c?(W(a.i),a.i[0]=l):a.i.push(l)}};a.prototype.Hq=function(a){a=la(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.q())};x.aa=new a;x.Ab=new function(){}})();function gc(b){this.b=b}
(function(){function b(a,b){return a.length?a.pop():new b}function h(a,b,d){if(d){var e;d=0;for(e=b.length;d<e;d++)a.length<r&&a.push(b[d]);b.length=0}else for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a.length<r&&a.push(b[e]),delete b[e])}function p(a,d,g){var h=a.bf;g=g.replace(/\s\s*$/,"");d>=h.length&&h.push(b(e,Object));d=h[d];d.text=g;d.width=a.Fl(g);a.kg=ma(a.kg,d.width)}var n=gc.prototype;n.P=function(){};n.ia=function(a){this.va=a;this.b=a.b};var q=n.ia.prototype;q.P=function(){this.F||
(this.N=new Image,this.N.idtkLoadDisposed=!0,this.N.src=this.Sj,this.b.sf.push(this.N),this.Aa=null)};q.qj=function(){this.F||(this.Aa=null)};q.rj=function(){if(!this.F&&this.i.length){this.Aa||(this.Aa=this.b.r.cj(this.N,this.b.ua,this.om));var a,b;a=0;for(b=this.i.length;a<b;a++)this.i[a].Aa=this.Aa}};q.$j=function(){this.F||this.i.length||!this.Aa||(this.b.r.deleteTexture(this.Aa),this.Aa=null)};q.wj=function(a){a.drawImage(this.N,0,0)};n.Y=function(a){this.type=a;this.b=a.b};q=n.Y.prototype;q.gf=
function(){h(e,this.bf,!0);h(a,this.pi,!1);h(x,this.qi,!1);Na(this.Lc)};q.P=function(){this.N=this.type.N;this.oi=this.C[0];this.Zd=this.C[1];this.characterSet=this.C[2];this.text=this.C[3];this.$d=this.C[4];this.visible=0===this.C[5];this.Kn=this.C[6]/2;this.Sp=this.C[7]/2;this.Hu=0===this.C[9];this.Af=this.C[10];this.lineHeight=this.C[11];this.qf=this.kg=0;this.Ag=this.C[12];this.wp=this.C[13];console.log(this.Ag);this.Xb?(this.bf.length=0,Na(this.pi),Na(this.qi),Na(this.Lc)):(this.bf=[],this.pi=
{},this.qi={},this.Lc={});try{if(this.Ag)if(-1!==this.Ag.indexOf('""c2array""'))for(var a=jQuery.parseJSON(this.Ag.replace(/""/g,'"')),b=a.size[1],d=0;d<b;d++)for(var e=a.data[1][d][0],h=a.data[0][d][0],l=0;l<e.length;l++)this.Lc[e.charAt(l)]=h;else for(a=jQuery.parseJSON(this.Ag),b=a.length,d=0;d<b;d++)for(e=a[d][1],h=a[d][0],l=0;l<e.length;l++)this.Lc[e.charAt(l)]=h;-1!==this.wp&&(this.Lc[" "]=this.wp)}catch(f){window.console&&window.console.log&&window.console.log("SpriteFont+ Failure: "+f)}this.Rj=
!0;this.sl=this.width;this.b.r&&(this.type.Aa||(this.type.Aa=this.b.r.cj(this.type.N,this.b.ua,this.type.om)),this.Aa=this.type.Aa);this.Lq()};q.lb=function(){var a={t:this.text,csc:this.$d,csp:this.Af,lh:this.lineHeight,tw:this.kg,th:this.qf,lrt:this.Dt,cw:{}},b;for(b in this.Lc)a.cw[b]=this.Lc[b];return a};q.Cb=function(a){this.text=a.t;this.$d=a.csc;this.Af=a.csp;this.lineHeight=a.lh;this.kg=a.tw;this.qf=a.th;this.Dt=a.lrt;for(var b in a.cw)this.Lc[b]=a.cw[b];this.Rj=!0;this.sl=this.width};var r=
1E3,e=[],a=[],x=[];q.Lq=function(){for(var c=this.N,d=c.width,e=c.height,c=this.oi,h=this.Zd,q=c/d,l=h/e,f=this.characterSet,d=Math.floor(d/c),e=Math.floor(e/h),m=0;m<f.length&&!(m>=d*e);m++){var n=m%d,r=Math.floor(m/d),p=f.charAt(m);if(this.b.r){var w=this.qi,Y=n*q,U=r*l,n=(n+1)*q,r=(r+1)*l;void 0===w[p]&&(w[p]=b(x,V));w[p].left=Y;w[p].top=U;w[p].right=n;w[p].bottom=r}else w=this.pi,n=n*c,r=r*h,Y=c,U=h,void 0===w[p]&&(w[p]=b(a,Object)),w[p].x=n,w[p].y=r,w[p].ck=Y,w[p].Oi=U}};var w=[];n.Mq=function(a){w.length=
0;for(var b="",d,e=0;e<a.length;)if(d=a.charAt(e),"\n"===d)b.length&&(w.push(b),b=""),w.push("\n"),++e;else if(" "===d||"\t"===d||"-"===d){do b+=a.charAt(e),e++;while(e<a.length&&(" "===a.charAt(e)||"\t"===a.charAt(e)));w.push(b);b=""}else e<a.length&&(b+=d,e++);b.length&&w.push(b)};n.Oq=function(a){var d=a.text,g=a.bf;if(d&&d.length){var q=a.width;if(2>=q)h(e,g,!0);else{var n=a.$d,l=a.Af;if(d.length*(a.oi*n+l)-l<=q&&-1===d.indexOf("\n")&&(l=a.Fl(d),l<=q)){h(e,g,!0);g.push(b(e,Object));g[0].text=
d;g[0].width=l;a.kg=l;a.qf=a.Zd*n+a.lineHeight;return}this.Pq(a);a.qf=g.length*(a.Zd*n+a.lineHeight)}}else h(e,g,!0)};n.Pq=function(a){var b=a.Hu,d=a.text,h=a.bf,q=a.width;b&&(this.Mq(d),d=w);var l="",f,m,n,D=0,u=!1;for(n=0;n<d.length;n++)"\n"===d[n]?(!0===u?u=!1:(p(a,D,l),D++),l=""):(u=!1,f=l,l+=d[n],m=a.Fl(l.replace(/\s\s*$/,"")),m>q&&(""===f?(p(a,D,l),l="",u=!0):(p(a,D,f),l=d[n]),D++,b||" "!==l||(l="")));l.replace(/\s\s*$/,"").length&&(p(a,D,l),D++);for(n=D;n<h.length;n++)e.length<r&&e.push(h[n]);
h.length=D};q.Fl=function(a){for(var b=this.Af,d=a.length,e=0,h=0;h<d;h++)e+=this.Kg(a.charAt(h))*this.$d+b;return e-(0<e?b:0)};q.Kg=function(a){var b=this.Lc;return void 0!==b[a]?b[a]:this.oi};q.bp=function(){if(this.Rj||this.width!==this.sl)this.qf=this.kg=0,this.type.va.Oq(this),this.Rj=!1,this.sl=this.width};q.xd=function(a){var b=this.N;if(""!==this.text&&null!=b&&(this.bp(),!(this.height<this.Zd*this.$d+this.lineHeight))){a.globalAlpha=this.opacity;var b=this.x,d=this.y;this.b.Tc&&(b=b+.5|0,
d=d+.5|0);a.save();a.translate(b,d);a.rotate(this.j);for(var b=this.Kn,d=this.$d,e=this.Zd*d,h=this.lineHeight,l=this.Af,f=this.bf,m,q=-(this.Kb*this.width),n=-(this.Lb*this.height),n=n+this.Sp*ma(0,this.height-this.qf),p=0;p<f.length;p++){var r=f[p].text;m=b*ma(0,this.width-f[p].width);m=q+m;for(var n=n+h,x=0;x<r.length;x++){var w=r.charAt(x),M=this.pi[w];if(m+this.Kg(w)*d>this.width+1E-5)break;void 0!==M&&a.drawImage(this.N,M.x,M.y,M.ck,M.Oi,Math.round(m),Math.round(n),M.ck*d,M.Oi*d);m+=this.Kg(w)*
d+l}n+=e;if(n+e+h>this.height)break}a.restore()}};var d=new ra;q.Tb=function(a){a.Yb(this.Aa);a.lf(this.opacity);if(""!==this.text&&(this.bp(),!(this.height<this.Zd*this.$d+this.lineHeight))){this.ha();var b=this.ec,e=0,h=0;this.b.Tc&&(e=(this.x+.5|0)-this.x,h=(this.y+.5|0)-this.y);var q=this.j,l=this.Kn,f=this.Sp,m=this.$d,n=this.Zd*m,p=this.lineHeight,r=this.Af,x=this.bf,w=this.qf,U,M;0!==q&&(U=Math.cos(q),M=Math.sin(q));for(var Q,e=b.Ia+e,b=b.Ja+h,f=f*ma(0,this.height-w),w=0;w<x.length;w++){h=
x[w].text;Q=l*ma(0,this.width-x[w].width);for(var f=f+p,B=0;B<h.length;B++){var R=h.charAt(B),N=this.qi[R];if(Q+this.Kg(R)*m>this.width+1E-5)break;if(void 0!==N){var F=this.oi*m,H=this.Zd*m;d.Ia=Q;d.Ja=f;d.mb=Q+F;d.nb=f;d.ab=Q;d.bb=f+H;d.cb=Q+F;d.eb=f+H;if(0!==q){var F=d,H=U,O=M,L=void 0,L=F.Ia*H-F.Ja*O;F.Ja=F.Ja*H+F.Ia*O;F.Ia=L;L=F.mb*H-F.nb*O;F.nb=F.nb*H+F.mb*O;F.mb=L;L=F.ab*H-F.bb*O;F.bb=F.bb*H+F.ab*O;F.ab=L;L=F.cb*H-F.eb*O;F.eb=F.eb*H+F.cb*O;F.cb=L}d.offset(e,b);a.Kd(d.Ia,d.Ja,d.mb,d.nb,d.cb,
d.eb,d.ab,d.bb,N)}Q+=this.Kg(R)*m+r}f+=n;if(f+n+p>this.height)break}}};n.k=new function(){};q.fi=function(a,b){var d=parseInt(b,10);this.Lc[a]!==d&&(this.Lc[a]=d,this.Rj=!0,this.b.U=!0)};n.aa=new function(){};n.Ab=new function(){}})();function hc(b){this.b=b}
(function(){function b(){this.Wj=this.id=-1;this.Xm=this.Ef=this.Xh=this.Tg=!1;this.X=new V(0,0,0,0)}function h(a){1E4>k.length&&k.push(a)}function p(){this.id=-1;this.X=new V(0,0,0,0);this.Jd=null}function n(a){1E4>g.length&&g.push(a)}function q(a,b,c){var d;return t.length?(d=t.pop(),d.c=a,d.x=b,d.y=c,d.left=d.x*d.c.Ka*d.c.Sa,d.top=d.y*d.c.Ta*d.c.Ra,d.clear(),d.Fh=!1,d):new r(a,b,c)}function r(a,b,c){this.c=a;this.x=b;this.y=c;this.left=this.x*this.c.Ka*this.c.Sa;this.top=this.y*this.c.Ta*this.c.Ra;
this.qd=[];this.jb=[];this.yb=[];this.Fh=!1;var d,e;a=0;for(b=this.c.Ta;a<b;++a){e=[];c=0;for(d=this.c.Ka;c<d;++c)e.push(-1);this.qd.push(e)}}var e=hc.prototype;e.ia=function(a){this.va=a;this.b=a.b};var a=e.ia.prototype;a.P=function(){var a,b,c;if(!this.F&&(this.N=new Image,this.N.kn=this.nm,this.b.Up(this.N,this.Sj),this.He=[],this.yk=!1,this.Yc=[],this.Bp=!1,this.Vj&&this.Vj.length))for(a=0,b=this.Vj.length;a<b;++a)(c=this.Vj[a])?this.Yc.push({Jd:c,Hi:[[[null,null],[null,null]],[[null,null],[null,
null]]]}):this.Yc.push(null)};a.Xd=function(a,b,c,d,e,g){if(!(0>a||a>=this.Yc.length)&&this.Yc[a]){var k=this.Yc[a].Hi;a=new Va(this.Yc[a].Jd);a.Ge(b,c,0);g&&a.kr();d&&a.It(b/2);e&&a.Bs(c/2);k[d?1:0][e?1:0][g?1:0]=a}};a.Hn=function(a){if(-1===a)return null;var b=a&c;return 0>b||b>=this.Yc.length||!this.Yc[b]?null:this.Yc[b].Hi[a&x?1:0][a&w?1:0][a&d?1:0]};a.Lk=function(){var a,b,c=this.b.r;if(c)for(a=0,b=this.He.length;a<b;++a)c.deleteTexture(this.He[a]);W(this.He);this.yk=!1};a.Cl=function(a,b,c,
d,e,g,k){if(!(this.yk||0>=a||0>=b)){this.Lk();var h=this.N.width,q=this.N.height,n;for(n=d;n+b<=q;n+=b+g)for(d=c;d+a<=h;d+=a+e)this.He.push(this.dq(d,n,a,b,k));this.yk=!0}};a.dq=function(a,b,c,d,e){if(this.b.r)return this.fk(a,b,c,d,!1,!1,!1,e);var g=[[[null,null],[null,null]],[[null,null],[null,null]]];g[0][0][0]=this.fk(a,b,c,d,!1,!1,!1,e);return{Hi:g,x:a,y:b,ck:c,Oi:d}};a.Hm=function(a,b,c,d,e){if(0>a||a>=this.He.length)return null;a=this.He[a];var g=a.Hi;b=b?1:0;c=c?1:0;d=d?1:0;var k=g[b][c][d];
if(k)return k;k=this.fk(a.x,a.y,a.ck,a.Oi,0!==b,0!==c,0!==d,e);return g[b][c][d]=k};a.fk=function(a,b,c,d,e,g,k,h){var q=c,n=d;this.b.r&&!h&&(ia(q)||(q=ja(q)),ia(n)||(n=ja(n)));var p=document.createElement("canvas");p.width=q;p.height=n;var r=p.getContext("2d");if(this.b.na)return e?g?(k?(r.rotate(Math.PI/2),r.scale(-1,1)):r.scale(-1,-1),r.translate(-q,-n)):k?(r.rotate(Math.PI/2),r.translate(0,-n)):(r.scale(-1,1),r.translate(-q,0)):g?k?(r.rotate(-Math.PI/2),r.translate(-q,0)):(r.scale(1,-1),r.translate(0,
-n)):k&&(r.scale(-1,1),r.rotate(Math.PI/2)),r.drawImage(this.N,a,b,c,d,0,0,q,n),h?p:this.b.na.createPattern(p,"repeat");r.drawImage(this.N,a,b,c,d,0,0,q,n);a=this.b.r.fc(q,n,this.b.ua,!1,!h);this.b.r.Du(p,a);return a};a.qj=function(){this.F||this.Lk()};a.rj=function(){};a.ko=function(){};a.$j=function(){this.F||this.i.length||this.Lk()};a.wj=function(){};e.Y=function(a){this.type=a;this.b=a.b};var a=e.Y.prototype,x=-2147483648,w=1073741824,d=536870912,c=536870911,k=[],g=[],t=[];r.prototype.clear=
function(){var a,b,c,d,e;this.qd.length=this.c.Ta;a=0;for(b=this.qd.length;a<b;++a)for(e=this.qd[a],e||(e=[],this.qd[a]=e),e.length=this.c.Ka,c=0,d=e.length;c<d;++c)e[c]=-1};r.prototype.sh=function(){if(!this.Fh){var a=this.c.Sa,f=this.c.Ra;if(!(0>=a||0>=f)){var e,q,r,u,t,z;e=0;for(q=this.jb.length;e<q;++e)h(this.jb[e]);e=0;for(q=this.yb.length;e<q;++e)n(this.yb[e]);W(this.jb);W(this.yb);var U=Math.min(this.c.tc,Math.floor(this.c.width/a)),M=Math.min(this.c.Sc,Math.floor(this.c.height/f)),U=U-this.left/
a,M=M-this.top/f;U>this.c.Ka&&(U=this.c.Ka);M>this.c.Ta&&(M=this.c.Ta);var Q=this.c.ve,B=null;e=0;for(q=M;e<q;++e){t=this.qd[e];r=0;for(u=U;r<u;++r)z=t[r],-1===z?B&&(this.jb.push(B),B=null):Q||!B||z!==B.id?(B&&this.jb.push(B),B=k.length?k.pop():new b,B.id=z,B.Wj=z&c,B.Tg=0!==(z&x),B.Xh=0!==(z&w),B.Ef=0!==(z&d),B.Xm=B.Tg||B.Xh||B.Ef,B.X.left=r*a+this.left,B.X.top=e*f+this.top,B.X.right=B.X.left+a,B.X.bottom=B.X.top+f):B.X.right+=a;B&&(this.jb.push(B),B=null)}var B=null,R=!1;e=0;for(q=M;e<q;++e){t=
this.qd[e];r=0;for(u=U;r<u;++r)z=t[r],-1===z?B&&(this.yb.push(B),B=null,R=!1):(M=this.c.type.Hn(z),!B||M||R?(B&&this.yb.push(B),B=g.length?g.pop():new p,B.id=z,B.Jd=M?M:null,z=B.X,z.left=r*a+this.left,z.top=e*f+this.top,z.right=z.left+a,z.bottom=z.top+f,R=!!M):B.X.right+=a);B&&(this.yb.push(B),B=null,R=!1)}if(!Q)for(q=this.jb.length,e=0;e<q;++e)for(u=this.jb[e],a=e+1;a<q;++a)if(r=this.jb[a],!(r.X.top<u.X.bottom)){if(r.X.top>u.X.bottom)break;if(r.X.right>u.X.right||r.X.left>u.X.left)break;r.id===u.id&&
r.X.left===u.X.left&&r.X.right===u.X.right&&(h(this.jb[a]),this.jb.splice(a,1),--q,u.X.bottom+=f,--a)}q=this.yb.length;for(e=0;e<q;++e)if(u=this.yb[e],!u.Jd)for(t=u.X,a=e+1;a<q;++a)if(r=this.yb[a],u=r.X,!(u.top<t.bottom)){if(u.top>t.bottom)break;if(u.right>t.right||u.left>t.left)break;r.Jd||u.left!==t.left||u.right!==t.right||(n(this.yb[a]),this.yb.splice(a,1),--q,t.bottom+=f,--a)}this.Fh=!0}}};r.prototype.gm=function(a,b,c){this.qd[b][a]!==c&&(this.qd[b][a]=c,this.Fh=!1,this.c.ei=!0,this.c.zh=!0,
this.c.b.U=!0)};a.P=function(){var a,b,c;this.visible=0===this.C[0];this.Sa=this.C[1];this.Ra=this.C[2];this.pm=this.C[3];this.rm=this.C[4];this.qm=this.C[5];this.tm=this.C[6];this.ve=0!==this.C[7];this.tc=this.Ep;this.Sc=this.Dp;this.Wi=this.width;this.Vi=this.height;var d=this.Sa,e=this.Ra;0===d&&(d=1);0===e&&(e=1);this.Ka=Math.ceil(this.b.Fa/d);this.Ta=Math.ceil(this.b.Ea/e);if(!this.type.Bp)for(this.type.Bp=!0,a=0,b=this.type.Yc.length;a<b;++a)if(c=this.type.Yc[a])this.type.Xd(a,d,e,!1,!1,!1),
this.type.Xd(a,d,e,!1,!1,!0),this.type.Xd(a,d,e,!1,!0,!1),this.type.Xd(a,d,e,!1,!0,!0),this.type.Xd(a,d,e,!0,!1,!1),this.type.Xd(a,d,e,!0,!1,!0),this.type.Xd(a,d,e,!0,!0,!1),this.type.Xd(a,d,e,!0,!0,!0);this.Xb||(this.Fb=[]);this.Dl(!0);this.lp(this.Cp);this.type.Cl(this.Sa,this.Ra,this.pm,this.rm,this.qm,this.tm,this.ve);this.zh=!1;this.ei=!0;this.Bl()};a.Bl=function(){if(this.ei){var a,b,c,d,e;a=0;for(b=this.Fb.length;a<b;++a)for(e=this.Fb[a],c=0,d=e.length;c<d;++c)e[c].sh();this.ei=!1}};a.Fj=function(){var a,
b,c,d,e;a=0;for(b=this.Fb.length;a<b;++a)for(e=this.Fb[a],c=0,d=e.length;c<d;++c)e[c].Fh=!1;this.ei=!0};a.Dl=function(a){var b=T(this.width/this.Sa),c=T(this.height/this.Ra);if(!(b<=this.tc&&c<=this.Sc)||a){var d;a?(a=Math.ceil(this.Sc/this.Ta),d=Math.ceil(this.tc/this.Ka)):(a=this.Fb.length,d=Math.ceil(this.tc/this.Ka),c>this.Sc&&(this.Sc=c,a=Math.ceil(this.Sc/this.Ta)),b>this.tc&&(this.tc=b,d=Math.ceil(this.tc/this.Ka)),this.Fj(),this.zh=!0,this.b.U=!0);for(var e,b=0;b<a;++b)if(e=this.Fb[b])for(c=
e.length;c<d;++c)e.push(q(this,c,b));else{e=[];for(c=0;c<d;++c)e.push(q(this,c,b));this.Fb[b]=e}}};a.pk=function(a,b){if(0>a||0>b)return null;var c=T(b/this.Ta);if(c>=this.Fb.length)return null;var c=this.Fb[c],d=T(a/this.Ka);return d>=c.length?null:c[d]};a.qk=function(a,b){if(0>a||0>b||b>=this.Fb.length)return null;var c=this.Fb[b];return a>=c.length?null:c[a]};a.lp=function(a){var b=[];a=a.split(",");var c,e,g,k,h;c=0;for(e=a.length;c<e;++c)if(g=a[c],k=g.indexOf("x"),-1<k)for(h=parseInt(g.substring(0,
k),10),g=g.substring(k+1),k=parseInt(g,10),-1<g.indexOf("h")&&(k|=x),-1<g.indexOf("v")&&(k|=w),-1<g.indexOf("d")&&(k|=d);0<h;--h)b.push(k);else k=parseInt(g,10),-1<g.indexOf("h")&&(k|=x),-1<g.indexOf("v")&&(k|=w),-1<g.indexOf("d")&&(k|=d),b.push(k);for(c=a=0;c<this.Sc;++c)for(e=0;e<this.tc;++e)h=b[a++],(g=this.pk(e,c))&&g.gm(e%this.Ka,c%this.Ta,h)};a.Rs=function(){var a="";if(0>=this.tc||0>=this.Sc)return a;var b=1,e=this.Vk(0,0),g,k,h,q,n,r,p,t;q=T(this.width/this.Sa);k=T(this.height/this.Ra);for(g=
0;g<k;++g)for(h=0===g?1:0;h<q;++h)n=this.Vk(h,g),n===e?++b:(-1===e?(r=-1,e=t=p=!1):(r=e&c,p=0!==(e&x),t=0!==(e&w),e=0!==(e&d)),a=1===b?a+(""+r):a+(""+b+"x"+r),p&&(a+="h"),t&&(a+="v"),e&&(a+="d"),a+=",",b=1,e=n);-1===e?(r=-1,e=t=p=!1):(r=e&c,p=0!==(e&x),t=0!==(e&w),e=0!==(e&d));a=1===b?a+(""+r):a+(""+b+"x"+r);p&&(a+="h");t&&(a+="v");e&&(a+="d");return a};a.Vk=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.tc||b>=this.Sc)return-1;var c=this.pk(a,b);return c?c.qd[b%this.Ta][a%this.Ka]:
-1};a.gm=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.tc||b>=this.Sc)return-1;var d=this.pk(a,b);if(!d)return-1;d.gm(a%this.Ka,b%this.Ta,c)};a.Wp=function(a){return Math.floor((a-this.x)/(this.Ka*this.Sa))};a.Xp=function(a){return Math.floor((a-this.y)/(this.Ta*this.Ra))};a.Fu=function(a){return Math.floor((a-this.x)/this.Sa)};a.Gu=function(a){return Math.floor((a-this.y)/this.Ra)};a.Fs=function(a,b){var c=this.Xp(a.top),d=this.Wp(a.right),e=this.Xp(a.bottom),g,k,h;for(g=this.Wp(a.left);g<=
d;++g)for(k=c;k<=e;++k)if(h=this.qk(g,k))h.sh(),xa(b,h.yb)};a.xu=function(a,b){var c=this.Vk(this.Fu(a),this.Gu(b));if(-1===c)return!1;c=this.type.Hn(c);if(!c)return!0;var d=Math.floor((b-this.y)/this.Ra)*this.Ra+this.y;a-=Math.floor((a-this.x)/this.Sa)*this.Sa+this.x;return c.qb(a,b-d)};a.fi=function(a){var b,c,d,e,g,k;b=0;for(c=this.Fb.length;b<c;++b)for(g=this.Fb[b],d=0,e=g.length;d<e;++d)k=g[d],k.sh(),xa(a,k.yb)};a.gf=function(){var a,b,c,d,e;a=0;for(b=this.Fb.length;a<b;++a){e=this.Fb[a];c=0;
for(d=e.length;c<d;++c){for(var g=e[c],k=void 0,q=void 0,k=0,q=g.jb.length;k<q;++k)h(g.jb[k]);W(g.jb);k=0;for(q=g.yb.length;k<q;++k)n(g.yb[k]);W(g.yb);1E3>t.length&&t.push(g)}W(e)}W(this.Fb)};a.lb=function(){this.Dl();return{w:T(this.width/this.Sa),h:T(this.height/this.Ra),d:this.Rs()}};a.Cb=function(a){this.tc=a.w;this.Sc=a.h;this.Dl(!0);this.lp(a.d);this.zh=!0;this.Fj()};a.xd=function(a){if(!(0>=this.Sa||0>=this.Ra)){this.type.Cl(this.Sa,this.Ra,this.pm,this.rm,this.qm,this.tm,this.ve);if(this.width!==
this.Wi||this.height!==this.Vi)this.zh=!0,this.Fj(),this.Bl(),this.Wi=this.width,this.Vi=this.height;a.globalAlpha=this.opacity;var b=this.n,c=b.ba,d=b.ca,e=b.la,b=b.ka,g=this.x,k=this.y,h=this.ve,q;this.b.Tc&&(g=Math.round(g),k=Math.round(k));var n=this.Ka*this.Sa,r=this.Ta*this.Ra,p=Math.floor((c-g)/n),n=Math.floor((e-g)/n),t=Math.floor((d-k)/r),r=Math.floor((b-k)/r),x=g%this.Sa,w=k%this.Ra;this.ve&&(w=x=0);if(0!==x||0!==w)a.save(),a.translate(x,w),g-=x,k-=w,c-=x,d-=w,e-=x,b-=w;for(var z,O,L,K,
y,A,E,J,I;p<=n;++p)for(z=t;z<=r;++z)if(O=this.qk(p,z))for(O.sh(),L=0,K=O.jb.length;L<K;++L)y=O.jb[L],-1!==y.id&&(q=y.X,A=q.left+g,E=q.top+k,J=q.right+g,q=q.bottom+k,A>e||J<c||E>b||q<d||(I=this.type.Hm(y.Wj,y.Tg,y.Xh,y.Ef,this.ve),h?a.drawImage(I,A,E):(a.fillStyle=this.type.Hm(y.Wj,y.Tg,y.Xh,y.Ef,this.ve),a.fillRect(A,E,J-A,q-E))));0===x&&0===w||a.restore()}};var z=new V(0,0,1,1);a.Je=function(a){this.Tb(a)};a.Tb=function(a){if(!(0>=this.Sa||0>=this.Ra)){this.type.Cl(this.Sa,this.Ra,this.pm,this.rm,
this.qm,this.tm,this.ve);if(this.width!==this.Wi||this.height!==this.Vi)this.zh=!0,this.Fj(),this.Bl(),this.Wi=this.width,this.Vi=this.height;a.lf(this.opacity);var b=this.type.He,c=this.n,d=c.ba,e=c.ca,g=c.la,c=c.ka,k=this.x,h=this.y,q;this.b.Tc&&(k=Math.round(k),h=Math.round(h));var n=this.Ka*this.Sa,r=this.Ta*this.Ra,p=Math.floor((g-k)/n),t=Math.floor((e-h)/r),r=Math.floor((c-h)/r),x,w,H,O,L,K,y,A,E,J,I,P,ba,G,ka,da,va;for(ka=Math.floor((d-k)/n);ka<=p;++ka)for(da=t;da<=r;++da)if(va=this.qk(ka,
da))for(va.sh(),n=0,x=va.jb.length;n<x;++n)w=va.jb[n],-1!==w.id&&(q=w.X,H=q.left+k,O=q.top+h,L=q.right+k,q=q.bottom+h,H>g||L<d||O>c||q<e||(a.Yb(b[w.Wj]),z.right=(L-H)/this.Sa,z.bottom=(q-O)/this.Ra,w.Xm?(w.Ef&&(G=z.right,z.right=z.bottom,z.bottom=G),y=K=0,A=z.right,E=0,J=z.right,I=z.bottom,P=0,ba=z.bottom,w.Ef&&(G=P,P=A,A=G,G=ba,ba=E,E=G),w.Tg&&(G=K,K=A,A=G,G=y,y=E,E=G,G=P,P=J,J=G,G=ba,ba=I,I=G),w.Xh&&(G=K,K=P,P=G,G=y,y=ba,ba=G,G=A,A=J,J=G,G=E,E=I,I=G),a.du(H,O,L,O,L,q,H,q,K,y,A,E,J,I,P,ba)):a.Kd(H,
O,L,O,L,q,H,q,z)))}};e.k=new function(){};e.aa=new function(){};e.Ab=new function(){}})();function ic(b){this.b=b}
(function(){function b(){}function h(){}var p=ic.prototype;p.ia=function(b){this.behavior=b;this.b=b.b};p.ia.prototype.P=function(){};p.Y=function(b,h){this.type=b;this.behavior=b.behavior;this.c=h;this.b=b.b};var n=p.Y.prototype;n.P=function(){var b=this.C[0];this.Ec=this.C[1];this.Ub=this.C[2];this.Xq=0!==this.C[3];this.fm=0!==this.C[4];this.u=Math.cos(this.c.j)*b;this.B=Math.sin(this.c.j)*b;this.Xi=this.c.x;this.Yi=this.c.y;this.kc=this.c.j;this.Th=0;this.enabled=0!==this.C[5]};n.lb=function(){return{acc:this.Ec,
g:this.Ub,dx:this.u,dy:this.B,lx:this.Xi,ly:this.Yi,lka:this.kc,t:this.Th,e:this.enabled}};n.Cb=function(b){this.Ec=b.acc;this.Ub=b.g;this.u=b.dx;this.B=b.dy;this.Xi=b.lx;this.Yi=b.ly;this.kc=b.lka;this.Th=b.t;this.enabled=b.e};n.$b=function(){if(this.enabled){var b=this.b.Lg(this.c),h,e;this.c.j!==this.kc&&(this.fm&&(h=Ka(0,0,this.u,this.B),this.u=Math.cos(this.c.j)*h,this.B=Math.sin(this.c.j)*h),this.kc=this.c.j);0!==this.Ec&&(h=Ka(0,0,this.u,this.B),e=0===this.u&&0===this.B?this.c.j:Ga(0,0,this.u,
this.B),h+=this.Ec*b,0>h&&(h=0),this.u=Math.cos(e)*h,this.B=Math.sin(e)*h);0!==this.Ub&&(this.B+=this.Ub*b);this.Xi=this.c.x;this.Yi=this.c.y;if(0!==this.u||0!==this.B)if(this.c.x+=this.u*b,this.c.y+=this.B*b,this.Th+=Ka(0,0,this.u*b,this.B*b),this.fm&&(this.c.j=Ga(0,0,this.u,this.B),this.c.q(),this.kc=this.c.j),this.c.q(),this.Xq&&(h=this.b.$a(this.c)))this.b.bg(this.c,h),h=Ka(0,0,this.u,this.B),e=this.b.$q(this.c,this.Xi,this.Yi),this.u=Math.cos(e)*h,this.B=Math.sin(e)*h,this.c.x+=this.u*b,this.c.y+=
this.B*b,this.c.q(),this.fm&&(this.kc=this.c.j=e,this.c.q()),this.b.yc(this.c,this.u/h,this.B/h,Math.max(2.5*h*b,30))||this.b.$o(this.c,100)}};b.prototype.cq=function(b,h){return Rb(this.Th,b,h)};p.k=new b;h.prototype.Ae=function(b){this.enabled=1===b};p.aa=new h;p.Ab=new function(){}})();function jc(b){this.b=b}
(function(){function b(){}function h(){}var p=jc.prototype;p.ia=function(b){this.behavior=b;this.b=b.b};p.ia.prototype.P=function(){};p.Y=function(b,h){this.type=b;this.behavior=b.behavior;this.c=h;this.b=b.b};var n=p.Y.prototype;n.P=function(){this.rd=this.nd=this.ig=this.pj=this.sj=0};n.lb=function(){return{ontime:this.sj,offtime:this.pj,stage:this.ig,stagetimeleft:this.nd,timeleft:this.rd}};n.Cb=function(b){this.sj=b.ontime;this.pj=b.offtime;this.ig=b.stage;this.nd=b.stagetimeleft;this.rd=b.timeleft;
null===this.rd&&(this.rd=Infinity)};n.$b=function(){if(!(0>=this.rd)){var b=this.b.Lg(this.c);this.rd-=b;0>=this.rd?(this.rd=0,this.c.visible=!0,this.b.U=!0,this.b.trigger(jc.prototype.k.wq,this.c)):(this.nd-=b,0>=this.nd&&(0===this.ig?(this.c.visible=!1,this.ig=1,this.nd+=this.pj):(this.c.visible=!0,this.ig=0,this.nd+=this.sj),this.b.U=!0))}};b.prototype.wq=function(){return!0};p.k=new b;h.prototype.gq=function(b,h,e){this.sj=b;this.pj=h;this.ig=1;this.nd=h;this.rd=e;this.c.visible=!1;this.b.U=!0};
p.aa=new h;p.Ab=new function(){}})();function kc(b){this.b=b}
(function(){function b(){}var h=kc.prototype;h.ia=function(b){this.behavior=b;this.b=b.b};h.ia.prototype.P=function(){};h.Y=function(b,h){this.type=b;this.behavior=b.behavior;this.c=h;this.b=b.b};var p=h.Y.prototype;p.P=function(){this.Qa=null;this.tj=-1;this.mode=this.kc=this.Tj=this.Zf=this.Id=this.Bh=0;var b=this;this.Xb||(this.uh=function(h){b.Hl(h)});this.b.ik(this.uh)};p.lb=function(){return{uid:this.Qa?this.Qa.uid:-1,pa:this.Bh,pd:this.Id,msa:this.Zf,tsa:this.Tj,lka:this.kc,m:this.mode}};p.Cb=
function(b){this.tj=b.uid;this.Bh=b.pa;this.Id=b.pd;this.Zf=b.msa;this.Tj=b.tsa;this.kc=b.lka;this.mode=b.m};p.sd=function(){-1===this.tj?this.Qa=null:this.Qa=this.b.Og(this.tj);this.tj=-1};p.Hl=function(b){this.Qa==b&&(this.Qa=null)};p.gf=function(){this.Qa=null;this.b.dp(this.uh)};p.$b=function(){};p.Sh=function(){if(this.Qa){this.kc!==this.c.j&&(this.Zf=Da(this.Zf+(this.c.j-this.kc)));var b=this.c.x,h=this.c.y;if(3===this.mode||4===this.mode){var r=Ka(this.c.x,this.c.y,this.Qa.x,this.Qa.y);if(r>
this.Id||4===this.mode&&r<this.Id)h=Ga(this.Qa.x,this.Qa.y,this.c.x,this.c.y),b=this.Qa.x+Math.cos(h)*this.Id,h=this.Qa.y+Math.sin(h)*this.Id}else b=this.Qa.x+Math.cos(this.Qa.j+this.Bh)*this.Id,h=this.Qa.y+Math.sin(this.Qa.j+this.Bh)*this.Id;this.kc=r=Da(this.Zf+(this.Qa.j-this.Tj));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.c.x===b&&this.c.y===h||(this.c.x=b,this.c.y=h,this.c.q());0!==this.mode&&2!==this.mode||this.c.j===r||(this.c.j=r,this.c.q())}};h.k=new function(){};b.prototype.Eq=
function(b,h){if(b){var r=b.En(this.c);r&&(this.Qa=r,this.Bh=Ga(r.x,r.y,this.c.x,this.c.y)-r.j,this.Id=Ka(r.x,r.y,this.c.x,this.c.y),this.kc=this.Zf=this.c.j,this.Tj=r.j,this.mode=h)}};h.aa=new b;h.Ab=new function(){}})();function lc(b){this.b=b}
(function(){function b(){}function h(){}var p=lc.prototype;p.ia=function(b){this.behavior=b;this.b=b.b};p.ia.prototype.P=function(){};p.Y=function(b,h){this.type=b;this.behavior=b.behavior;this.c=h;this.b=b.b;this.Nh=this.Mj=this.Lj=this.al=this.yg=this.Gg=this.Qf=this.Rf=this.Hh=this.ih=!1;this.tb=null;this.ul=-1;this.Xe=this.We=0;this.Ii=!1;this.Pe=this.Gc=0;this.Gi=!0;this.B=this.u=0};var n=p.Y.prototype;n.Pp=function(){this.La=Math.cos(this.Jf);this.Ma=Math.sin(this.Jf);this.jf=Math.cos(this.Jf-
Math.PI/2);this.kf=Math.sin(this.Jf-Math.PI/2);this.La=$a(this.La);this.Ma=$a(this.Ma);this.jf=$a(this.jf);this.kf=$a(this.kf);this.Nk=this.Ub;0>this.Ub&&(this.La*=-1,this.Ma*=-1,this.Ub=Math.abs(this.Ub))};n.P=function(){this.Xf=this.C[0];this.Ec=this.C[1];this.Df=this.C[2];this.fh=this.C[3];this.Nk=this.Ub=this.C[4];this.kj=this.C[5];this.Dk=0!==this.C[6];this.pl=this.C[7]/1E3;this.ir=1===this.C[8];this.enabled=0!==this.C[9];this.rg=!1;this.sg=this.b.Od(this.c);this.wl=-1;this.pf=0;this.Jf=X(90);
this.Pp();var b=this;this.ir&&!this.b.sb&&(jQuery(document).keydown(function(h){b.Il(h)}),jQuery(document).keyup(function(h){b.Jl(h)}));this.Xb||(this.uh=function(h){b.Hl(h)});this.b.ik(this.uh);this.c.J.isPlatformBehavior=!0};n.lb=function(){return{ii:this.al,lfx:this.We,lfy:this.Xe,lfo:this.tb?this.tb.uid:-1,am:this.Gc,en:this.enabled,fall:this.Pe,ft:this.Gi,dx:this.u,dy:this.B,ms:this.Xf,acc:this.Ec,dec:this.Df,js:this.fh,g:this.Ub,g1:this.Nk,mf:this.kj,wof:this.rg,woj:this.sg?this.sg.uid:-1,ga:this.Jf,
edj:this.Dk,cdj:this.yg,dj:this.Gg,sus:this.pl}};n.Cb=function(b){this.al=b.ii;this.We=b.lfx;this.Xe=b.lfy;this.ul=b.lfo;this.Gc=b.am;this.enabled=b.en;this.Pe=b.fall;this.Gi=b.ft;this.u=b.dx;this.B=b.dy;this.Xf=b.ms;this.Ec=b.acc;this.Df=b.dec;this.fh=b.js;this.Ub=b.g;this.Nk=b.g1;this.kj=b.mf;this.rg=b.wof;this.wl=b.woj;this.Jf=b.ga;this.Dk=b.edj;this.yg=b.cdj;this.Gg=b.dj;this.pl=b.sus;this.Nh=this.Mj=this.Lj=this.Qf=this.Rf=this.Hh=this.ih=!1;this.pf=0;this.Pp()};n.sd=function(){-1===this.ul?
this.tb=null:this.tb=this.b.Og(this.ul);-1===this.wl?this.sg=null:this.sg=this.b.Og(this.wl)};n.Hl=function(b){this.tb==b&&(this.tb=null)};n.gf=function(){this.tb=null;this.b.dp(this.uh)};n.Il=function(b){switch(b.which){case 38:b.preventDefault();this.Rf=!0;break;case 37:b.preventDefault();this.ih=!0;break;case 39:b.preventDefault(),this.Hh=!0}};n.Jl=function(b){switch(b.which){case 38:b.preventDefault();this.Qf=this.Rf=!1;break;case 37:b.preventDefault();this.ih=!1;break;case 39:b.preventDefault(),
this.Hh=!1}};n.te=function(){this.Rf=this.Hh=this.ih=!1};n.fi=function(){return 0>this.Ub?-1:1};n.Vn=function(){var b=null,h=null,e,a;e=this.c.x;a=this.c.y;this.c.x+=this.La;this.c.y+=this.Ma;this.c.q();if(this.tb&&this.b.Eb(this.c,this.tb)&&(!this.b.ym(this.tb.type,bc)||this.tb.J.solidEnabled))return this.c.x=e,this.c.y=a,this.c.q(),this.tb;(b=this.b.$a(this.c))||0!==this.Pe||(h=this.b.Od(this.c,!0));this.c.x=e;this.c.y=a;this.c.q();if(b){if(this.b.Eb(this.c,b))return null;this.Ii=!1;return b}if(h&&
h.length){a=b=0;for(e=h.length;b<e;b++)h[a]=h[b],this.b.Eb(this.c,h[b])||a++;if(1<=a)return this.Ii=!0,h[0]}return null};n.$b=function(){};n.Wo=function(){var b=this.b.Lg(this.c),h,e,a,n,p,d,c,k,g;this.Rf||this.Nh||(this.Qf=!1);var t=this.ih||this.Lj;a=this.Hh||this.Mj;var z=(n=this.Rf||this.Nh)&&!this.Qf;this.Nh=this.Mj=this.Lj=!1;if(this.enabled){this.al&&(z=n=a=t=!1);n||(this.pf=0);k=this.tb;g=!1;this.Gi&&((this.b.$a(this.c)||this.b.Od(this.c))&&this.b.yc(this.c,-this.La,-this.Ma,4,!0),this.Gi=
!1);!k||0!==this.B||k.y===this.Xe&&k.x===this.We||(h=k.x-this.We,e=k.y-this.Xe,this.c.x+=h,this.c.y+=e,this.c.q(),this.We=k.x,this.Xe=k.y,g=!0,this.b.$a(this.c)&&this.b.yc(this.c,-h,-e,2.5*Math.sqrt(h*h+e*e)));var l=this.Vn();if(e=this.b.$a(this.c))if(this.c.J.inputPredicted)this.b.yc(this.c,-this.La,-this.Ma,10,!1);else if(this.b.$o(this.c,Math.max(this.c.width,this.c.height)/2))this.b.bg(this.c,e);else return;l?(this.yg=this.Gg=!1,0<this.B&&(this.rg||(this.b.Ql(this.c,-this.La,-this.Ma,l),this.rg=
!0),this.B=0),k!=l)?(this.tb=l,this.We=l.x,this.Xe=l.y,this.b.bg(this.c,l)):g&&(e=this.b.$a(this.c))&&(this.b.bg(this.c,e),0!==h&&(0<h?this.b.yc(this.c,-this.jf,-this.kf):this.b.yc(this.c,this.jf,this.kf)),this.b.yc(this.c,-this.La,-this.Ma)):n||(this.yg=!0);if(l&&z||!l&&this.Dk&&n&&this.yg&&!this.Gg)k=this.c.x,g=this.c.y,this.c.x-=this.La,this.c.y-=this.Ma,this.c.q(),this.b.$a(this.c)?z=!1:(this.pf=this.pl,this.b.trigger(lc.prototype.k.Km,this.c),this.Gc=2,this.B=-this.fh,z=!0,l?this.Qf=!0:this.Gg=
!0),this.c.x=k,this.c.y=g,this.c.q();l||(n&&0<this.pf?(this.B=-this.fh,this.pf-=b):(this.tb=null,this.B+=this.Ub*b,this.B>this.kj&&(this.B=this.kj)),z&&(this.Qf=!0));this.rg=!!l;t==a&&(0>this.u?(this.u+=this.Df*b,0<this.u&&(this.u=0)):0<this.u&&(this.u-=this.Df*b,0>this.u&&(this.u=0)));t&&!a&&(this.u=0<this.u?this.u-(this.Ec+this.Df)*b:this.u-this.Ec*b);a&&!t&&(this.u=0>this.u?this.u+(this.Ec+this.Df)*b:this.u+this.Ec*b);this.u>this.Xf?this.u=this.Xf:this.u<-this.Xf&&(this.u=-this.Xf);t=!1;0!==this.u&&
(k=this.c.x,g=this.c.y,h=this.u*b*this.jf,e=this.u*b*this.kf,this.c.x+=this.jf*(1<this.u?1:-1)-this.La,this.c.y+=this.kf*(1<this.u?1:-1)-this.Ma,this.c.q(),n=!1,p=this.b.$a(this.c),this.c.x=k+h,this.c.y=g+e,this.c.q(),a=this.b.$a(this.c),!a&&l&&(a=this.b.Od(this.c))&&(this.c.x=k,this.c.y=g,this.c.q(),this.b.Eb(this.c,a)?(a=null,n=!1):n=!0,this.c.x=k+h,this.c.y=g+e,this.c.q()),a?(h=Math.abs(this.u*b)+2,p||!this.b.yc(this.c,-this.La,-this.Ma,h,n,a))?(this.b.bg(this.c,a),h=Math.max(Math.abs(this.u*b*
2.5),30),this.b.yc(this.c,this.jf*(0>this.u?1:-1),this.kf*(0>this.u?1:-1),h,!1)?!l||n||this.Ii||(k=this.c.x,g=this.c.y,this.c.x+=this.La,this.c.y+=this.Ma,this.b.$a(this.c)?this.b.yc(this.c,-this.La,-this.Ma,3,!1)||(this.c.x=k,this.c.y=g,this.c.q()):(this.c.x=k,this.c.y=g,this.c.q())):(this.c.x=k,this.c.y=g,this.c.q()),n||(this.u=0)):!p&&!z&&Math.abs(this.B)<Math.abs(this.fh/4)&&(this.B=0,l||(t=!0)):(k=this.Vn(),l&&!k?(e=Math.ceil(Math.abs(this.u*b))+2,k=this.c.x,g=this.c.y,this.c.x+=this.La*e,this.c.y+=
this.Ma*e,this.c.q(),this.b.$a(this.c)||this.b.Od(this.c)?this.b.yc(this.c,-this.La,-this.Ma,e+2,!0):(this.c.x=k,this.c.y=g,this.c.q())):k&&0===this.B&&this.b.Ql(this.c,-this.La,-this.Ma,k)));if(0!==this.B){k=this.c.x;g=this.c.y;this.c.x+=this.B*b*this.La;this.c.y+=this.B*b*this.Ma;h=this.c.x;a=this.c.y;this.c.q();e=this.b.$a(this.c);n=!1;if(!e&&0<this.B&&!l){if((n=0<this.Pe?null:this.b.Od(this.c,!0))&&n.length){if(this.sg){this.c.x=k;this.c.y=g;this.c.q();c=p=0;for(d=n.length;p<d;p++)n[c]=n[p],this.b.Eb(this.c,
n[p])||c++;n.length=c;this.c.x=h;this.c.y=a;this.c.q()}1<=n.length&&(e=n[0])}n=!!e}e&&(this.b.bg(this.c,e),this.pf=0,h=n?Math.abs(this.B*b*2.5+10):Math.max(Math.abs(this.B*b*2.5+10),30),this.b.yc(this.c,this.La*(0>this.B?1:-1),this.Ma*(0>this.B?1:-1),h,n,e)?(this.tb=e,this.We=e.x,this.Xe=e.y,(this.Ii=n)&&(t=!0),this.B=0):(this.c.x=k,this.c.y=g,this.c.q(),this.rg=!0,n||(this.B=0)))}3!==this.Gc&&0<this.B&&!l&&(this.b.trigger(lc.prototype.k.vq,this.c),this.Gc=3);if(l||t)3===this.Gc||t||z&&0===this.B?
(this.b.trigger(lc.prototype.k.yq,this.c),this.Gc=0===this.u&&0===this.B?0:1):(0!==this.Gc&&0===this.u&&0===this.B&&(this.b.trigger(lc.prototype.k.Cq,this.c),this.Gc=0),1===this.Gc||0===this.u&&0===this.B||z||(this.b.trigger(lc.prototype.k.Bq,this.c),this.Gc=1));0<this.Pe&&this.Pe--;this.sg=this.b.Od(this.c)}};b.prototype.lq=function(){if(0!==this.B)return!1;var b=null,h=null,e,a;e=this.c.x;a=this.c.y;this.c.x+=this.La;this.c.y+=this.Ma;this.c.q();(b=this.b.$a(this.c))||0!==this.Pe||(h=this.b.Od(this.c,
!0));this.c.x=e;this.c.y=a;this.c.q();if(b)return!this.b.Eb(this.c,b);if(h&&h.length){a=b=0;for(e=h.length;b<e;b++)h[a]=h[b],this.b.Eb(this.c,h[b])||a++;if(1<=a)return!0}return!1};b.prototype.Km=function(){return!0};b.prototype.vq=function(){return!0};b.prototype.Cq=function(){return!0};b.prototype.Bq=function(){return!0};b.prototype.yq=function(){return!0};p.k=new b;h.prototype.Jq=function(b){switch(b){case 0:this.Lj=!0;break;case 1:this.Mj=!0;break;case 2:this.Nh=!0}};h.prototype.Ae=function(b){this.enabled!==
(1===b)&&(this.enabled=1===b,this.enabled||(this.tb=null))};p.aa=new h;p.Ab=new function(){}})();function mc(b){this.b=b}
(function(){var b=mc.prototype;b.ia=function(b){this.behavior=b;this.b=b.b};b.ia.prototype.P=function(){};b.Y=function(b,p){this.type=b;this.behavior=b.behavior;this.c=p;this.b=b.b;this.mode=0};b=b.Y.prototype;b.P=function(){this.mode=this.C[0]};b.$b=function(){};b.Sh=function(){this.c.ha();var b=this.c.ra,p=this.c.n.Ca,n=!1;0===this.mode?(0>this.c.x&&(this.c.x=0,n=!0),0>this.c.y&&(this.c.y=0,n=!0),this.c.x>p.width&&(this.c.x=p.width,n=!0),this.c.y>p.height&&(this.c.y=p.height,n=!0)):(0>b.left&&(this.c.x-=
b.left,n=!0),0>b.top&&(this.c.y-=b.top,n=!0),b.right>p.width&&(this.c.x-=b.right-p.width,n=!0),b.bottom>p.height&&(this.c.y-=b.bottom-p.height,n=!0));n&&this.c.q()}})();function cc(b){this.b=b}
(function(){function b(){}var h=cc.prototype;h.ia=function(b){this.behavior=b;this.b=b.b};h.ia.prototype.P=function(){};h.Y=function(b,h){this.type=b;this.behavior=b.behavior;this.c=h;this.b=b.b};var p=h.Y.prototype;p.P=function(){this.c.J.jumpthruEnabled=0!==this.C[0]};p.$b=function(){};h.k=new function(){};b.prototype.Ae=function(b){this.c.J.jumpthruEnabled=!!b};h.aa=new b})();function nc(b){this.b=b;this.im=this.Kj=this.Mh=this.hm=0}
(function(){function b(){}var h=nc.prototype;h.ia=function(b){this.behavior=b;this.b=b.b};h.ia.prototype.P=function(){};h.Y=function(b,h){this.type=b;this.behavior=b.behavior;this.c=h;this.b=b.b};var p=h.Y.prototype;p.P=function(){this.enabled=0!==this.C[0]};p.lb=function(){return{smg:this.behavior.hm,ss:this.behavior.Mh,se:this.behavior.Kj,smd:this.behavior.im}};p.Cb=function(b){this.behavior.hm=b.smg;this.behavior.Mh=b.ss;this.behavior.Kj=b.se;this.behavior.im=b.smd};p.$b=function(){};p.Sh=function(){if(this.enabled){var b=
this.behavior.lj.Rd(),h=0,p=0,e,a,x,w=0;e=0;for(a=b.length;e<a;e++){a:{x=b[e];for(var d=void 0,c=void 0,k=void 0,d=0,c=x.G.length;d<c;++d)if(k=x.G[d],k.behavior instanceof nc){x=k;break a}x=null}x&&x.enabled&&(h+=b[e].x,p+=b[e].y,++w)}b=this.c.n.Ca;a=this.b.Vb.qa;x=e=0;a>=this.behavior.Mh&&a<this.behavior.Kj&&(e=this.behavior.hm*Math.min(this.b.ng,1),0===this.behavior.im&&(e*=1-(a-this.behavior.Mh)/(this.behavior.Kj-this.behavior.Mh)),a=Math.random()*Math.PI*2,x=Math.random()*e,e=Math.cos(a)*x,x*=
Math.sin(a));b.dm(h/w+e);b.em(p/w+x)}};b.prototype.Ae=function(b){this.enabled=0!==b};h.aa=new b})();function bc(b){this.b=b}(function(){function b(){}var h=bc.prototype;h.ia=function(b){this.behavior=b;this.b=b.b};h.ia.prototype.P=function(){};h.Y=function(b,h){this.type=b;this.behavior=b.behavior;this.c=h;this.b=b.b};var p=h.Y.prototype;p.P=function(){this.c.J.solidEnabled=0!==this.C[0]};p.$b=function(){};h.k=new function(){};b.prototype.Ae=function(b){this.c.J.solidEnabled=!!b};h.aa=new b})();
function ac(){return[fc,ec,gc,dc,hc,lc,mc,nc,bc,cc,kc,jc,ic,Z.prototype.k.Om,Z.prototype.aa.Nq,Z.prototype.aa.hq,fc.prototype.k.gk,ec.prototype.k.Lm,dc.prototype.k.bq,dc.prototype.aa.Iq,lc.prototype.aa.Ae,nc.prototype.aa.Ae,dc.prototype.aa.Gq,Z.prototype.k.Gm,kc.prototype.aa.Eq,Z.prototype.k.kq,lc.prototype.k.Km,Z.prototype.aa.Fq,lc.prototype.k.lq,dc.prototype.aa.Kq,ic.prototype.aa.Ae,dc.prototype.k.tq,dc.prototype.aa.fq,ic.prototype.k.cq,dc.prototype.Ab.Sm,lc.prototype.aa.Jq,dc.prototype.aa.Hq,jc.prototype.aa.gq]}
;
